import{aC as $,aD as Z,aE as ii,aF as U,aG as me,aH as ye,aI as wt,aJ as _n,aK as ai,aL as A,aM as Fe,aN as ci,aO as u0,aP as Ot,aQ as H,aR as Rn,aS as j,aT as ze,aU as f0,aV as V,aW as de,aX as le,aY as d0,aZ as ui,a_ as Ce,a$ as l0,b0 as h0,b1 as fi,ap as os,b2 as hn,b3 as Pt,b4 as to,b5 as no,b6 as ro,b7 as so,b8 as oo,b9 as io,ba as ao,bb as co,bc as Pn,bd as Wt,be as uo,av as b0,bf as di,bg as In,bh as fo,bi as li,bj as p0,bk as m0,bl as hi,bm as zr,bn as y0,bo as _r,bp as lo,bq as bi,br as ho,bs as g0,bt as wn,bu as pi,bv as bo,bw as w0,bx as x0,by as v0,bz as bn,bA as po,bB as E0,bC as P0,bD as I0,bE as An,bF as mo,V as A0,X as $0,Y as B0,Z as mi,_ as $n,bG as S0,bH as yi,bI as yo,bJ as T0,bK as gi,bL as C0}from"./index-d3e05a27.js";import{bZ as I5,b_ as A5,b$ as $5,c0 as B5,bX as S5,c1 as T5,c2 as C5,c3 as N5,c4 as k5,c5 as z5,c6 as _5,c7 as R5,c8 as O5,c9 as L5,ca as M5,cb as U5,cc as F5,bW as q5,bY as j5,cd as G5,ce as D5,cf as V5,cg as H5,ch as W5,ci as Z5,cj as K5,ck as Y5,cp as J5,cl as X5,bS as Q5,bP as ey,bQ as ty,bT as ny,bR as ry,bM as sy,cn as oy,co as iy,bO as ay,cq as cy,cm as uy,bV as fy,bN as dy,bU as ly}from"./index-d3e05a27.js";const N0="1.1.0";let ue=class Rr extends Error{constructor(t,n={}){var i;const r=n.cause instanceof Rr?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details,s=n.cause instanceof Rr&&n.cause.docsPath||n.docsPath,o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${N0}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function De(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const wi=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,xi=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,vi=/^\(.+?\).*?$/,go=/^tuple(?<array>(\[(\d*)\])*)$/;function Or(e){let t=e.type;if(go.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const o=e.components[s];t+=Or(o),s<n-1&&(t+=", ")}const r=De(go,e.type);return t+=`)${(r==null?void 0:r.array)??""}`,Or({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function yt(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=Or(s),r!==n-1&&(t+=", ")}return t}function Bn(e){var t;return e.type==="function"?`function ${e.name}(${yt(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${(t=e.outputs)!=null&&t.length?` returns (${yt(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${yt(e.inputs)})`:e.type==="error"?`error ${e.name}(${yt(e.inputs)})`:e.type==="constructor"?`constructor(${yt(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const Ei=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function k0(e){return Ei.test(e)}function z0(e){return De(Ei,e)}const Pi=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function _0(e){return Pi.test(e)}function R0(e){return De(Pi,e)}const Ii=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function O0(e){return Ii.test(e)}function L0(e){return De(Ii,e)}const Ai=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Zt(e){return Ai.test(e)}function M0(e){return De(Ai,e)}const $i=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function U0(e){return $i.test(e)}function F0(e){return De($i,e)}const Bi=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function q0(e){return Bi.test(e)}function j0(e){return De(Bi,e)}const G0=/^receive\(\) external payable$/;function D0(e){return G0.test(e)}const Sn=new Set(["memory","indexed","storage","calldata"]),V0=new Set(["indexed"]),Lr=new Set(["calldata","memory","storage"]);class H0 extends ue{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class W0 extends ue{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Z0 extends ue{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class K0 extends ue{constructor({param:t}){super("Failed to parse ABI parameter.",{details:`parseAbiParameter(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameter-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParameterError"})}}class Y0 extends ue{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class J0 extends ue{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class X0 extends ue{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Q0 extends ue{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class eu extends ue{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class tu extends ue{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class $t extends ue{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class nu extends ue{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class ru extends ue{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class su extends ue{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class ou extends ue{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function iu(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let o="";for(const i of s[1])o+=`[${i.type}${i.name?`:${i.name}`:""}]`;r+=`(${s[0]}{${o}})`}return t?`${t}:${e}${r}`:e}const dr=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Mr(e,t={}){if(O0(e))return au(e,t);if(_0(e))return cu(e,t);if(k0(e))return uu(e,t);if(U0(e))return fu(e,t);if(q0(e))return du(e);if(D0(e))return{type:"receive",stateMutability:"payable"};throw new nu({signature:e})}function au(e,t={}){const n=L0(e);if(!n)throw new $t({signature:e,type:"function"});const r=pe(n.parameters),s=[],o=r.length;for(let a=0;a<o;a++)s.push(Ae(r[a],{modifiers:Lr,structs:t,type:"function"}));const i=[];if(n.returns){const a=pe(n.returns),c=a.length;for(let u=0;u<c;u++)i.push(Ae(a[u],{modifiers:Lr,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:i}}function cu(e,t={}){const n=R0(e);if(!n)throw new $t({signature:e,type:"event"});const r=pe(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Ae(r[i],{modifiers:V0,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function uu(e,t={}){const n=z0(e);if(!n)throw new $t({signature:e,type:"error"});const r=pe(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Ae(r[i],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function fu(e,t={}){const n=F0(e);if(!n)throw new $t({signature:e,type:"constructor"});const r=pe(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Ae(r[i],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function du(e){const t=j0(e);if(!t)throw new $t({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const lu=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,hu=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,bu=/^u?int$/;function Ae(e,t){var d,h;const n=iu(e,t==null?void 0:t.type,t==null?void 0:t.structs);if(dr.has(n))return dr.get(n);const r=vi.test(e),s=De(r?hu:lu,e);if(!s)throw new J0({param:e});if(s.name&&mu(s.name))throw new X0({param:e,name:s.name});const o=s.name?{name:s.name}:{},i=s.modifier==="indexed"?{indexed:!0}:{},a=(t==null?void 0:t.structs)??{};let c,u={};if(r){c="tuple";const l=pe(s.type),p=[],b=l.length;for(let g=0;g<b;g++)p.push(Ae(l[g],{structs:a}));u={components:p}}else if(s.type in a)c="tuple",u={components:a[s.type]};else if(bu.test(s.type))c=`${s.type}256`;else if(s.type==="address payable")c="address";else if(c=s.type,(t==null?void 0:t.type)!=="struct"&&!Si(c))throw new Z0({type:c});if(s.modifier){if(!((h=(d=t==null?void 0:t.modifiers)==null?void 0:d.has)!=null&&h.call(d,s.modifier)))throw new Q0({param:e,type:t==null?void 0:t.type,modifier:s.modifier});if(Lr.has(s.modifier)&&!yu(c,!!s.array))throw new eu({param:e,type:t==null?void 0:t.type,modifier:s.modifier})}const f={type:`${c}${s.array??""}`,...o,...i,...u};return dr.set(n,f),f}function pe(e,t=[],n="",r=0){const s=e.trim().length;for(let o=0;o<s;o++){const i=e[o],a=e.slice(o+1);switch(i){case",":return r===0?pe(a,[...t,n.trim()]):pe(a,t,`${n}${i}`,r);case"(":return pe(a,t,`${n}${i}`,r+1);case")":return pe(a,t,`${n}${i}`,r-1);default:return pe(a,t,`${n}${i}`,r)}}if(n==="")return t;if(r!==0)throw new ou({current:n,depth:r});return t.push(n.trim()),t}function Si(e){return e==="address"||e==="bool"||e==="function"||e==="string"||wi.test(e)||xi.test(e)}const pu=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function mu(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||wi.test(e)||xi.test(e)||pu.test(e)}function yu(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function On(e){const t={},n=e.length;for(let i=0;i<n;i++){const a=e[i];if(!Zt(a))continue;const c=M0(a);if(!c)throw new $t({signature:a,type:"struct"});const u=c.properties.split(";"),f=[],d=u.length;for(let h=0;h<d;h++){const p=u[h].trim();if(!p)continue;const b=Ae(p,{type:"struct"});f.push(b)}if(!f.length)throw new ru({signature:a});t[c.name]=f}const r={},s=Object.entries(t),o=s.length;for(let i=0;i<o;i++){const[a,c]=s[i];r[a]=Ti(c,t)}return r}const gu=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function Ti(e,t,n=new Set){const r=[],s=e.length;for(let o=0;o<s;o++){const i=e[o];if(vi.test(i.type))r.push(i);else{const c=De(gu,i.type);if(!(c!=null&&c.type))throw new tu({abiParameter:i});const{array:u,type:f}=c;if(f in t){if(n.has(f))throw new su({type:f});r.push({...i,type:`tuple${u??""}`,components:Ti(t[f]??[],t,new Set([...n,f]))})}else if(Si(f))r.push(i);else throw new W0({type:f})}}return r}function Ci(e){const t=On(e),n=[],r=e.length;for(let s=0;s<r;s++){const o=e[s];Zt(o)||n.push(Mr(o,t))}return n}function wo(e){let t;if(typeof e=="string")t=Mr(e);else{const n=On(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(!Zt(o)){t=Mr(o,n);break}}}if(!t)throw new H0({signature:e});return t}function _p(e){let t;if(typeof e=="string")t=Ae(e,{modifiers:Sn});else{const n=On(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(!Zt(o)){t=Ae(o,{modifiers:Sn,structs:n});break}}}if(!t)throw new K0({param:e});return t}function xo(e){const t=[];if(typeof e=="string"){const n=pe(e),r=n.length;for(let s=0;s<r;s++)t.push(Ae(n[s],{modifiers:Sn}))}else{const n=On(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(Zt(o))continue;const i=pe(o),a=i.length;for(let c=0;c<a;c++)t.push(Ae(i[c],{modifiers:Sn,structs:n}))}}if(t.length===0)throw new Y0({params:e});return t}function L(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}function $e(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new Su(e.type);return`${e.name}(${Ln(e.inputs,{includeName:t})})`}function Ln(e,{includeName:t=!1}={}){return e?e.map(n=>wu(n,{includeName:t})).join(t?", ":","):""}function wu(e,{includeName:t}){return e.type.startsWith("tuple")?`(${Ln(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}class Ni extends ${constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class Tn extends ${constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class Rp extends ${constructor({data:t,size:n}){super([`Data size of ${n} bytes is invalid.`,"Size must be in increments of 32 bytes (size % 32 === 0)."].join(`
`),{metaMessages:[`Data: ${t} (${n} bytes)`],name:"AbiDecodingDataSizeInvalidError"})}}class ki extends ${constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Ln(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class Kt extends ${constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class xu extends ${constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class vu extends ${constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${Z(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class zi extends ${constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class Eu extends ${constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class vo extends ${constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class _i extends ${constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class Pu extends ${constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class Ri extends ${constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class Eo extends ${constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class It extends ${constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class Oi extends ${constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class Iu extends ${constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class Au extends ${constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${$e(t.abiItem)}\`, and`,`\`${n.type}\` in \`${$e(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let Li=class extends ${constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class Lt extends ${constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Ln(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class Mn extends ${constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${$e(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class $u extends ${constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class Bu extends ${constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let Mi=class extends ${constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class Su extends ${constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class Tu extends ${constructor(t){super(`Type "${t}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}class Cu extends ${constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}function K(e,t){const n=t||"hex",r=ii(U(e,{strict:!1})?me(e):e);return n==="bytes"?r:ye(r)}const Nu=e=>K(me(e));function ku(e){return Nu(e)}function zu(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new $("Unable to normalize signature.");return s}const _u=e=>{const t=(()=>typeof e=="string"?e:Bn(e))();return zu(t)};function Ui(e){return ku(_u(e))}const Un=Ui;let ae=class extends ${constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}};const lr=new _n(8192);function Yt(e,t){if(lr.has(`${e}.${t}`))return lr.get(`${e}.${t}`);const n=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),r=K(wt(n),"bytes"),s=(t?n.substring(`${t}0x`.length):n).split("");for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&s[i]&&(s[i]=s[i].toUpperCase()),(r[i>>1]&15)>=8&&s[i+1]&&(s[i+1]=s[i+1].toUpperCase());const o=`0x${s.join("")}`;return lr.set(`${e}.${t}`,o),o}function _e(e,t){if(!X(e,{strict:!1}))throw new ae({address:e});return Yt(e,t)}const Ru=/^0x[a-fA-F0-9]{40}$/,hr=new _n(8192);function X(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(hr.has(r))return hr.get(r);const s=(()=>Ru.test(e)?e.toLowerCase()===e?!0:n?Yt(e)===e:!0:!1)();return hr.set(r,s),s}function he(e){return typeof e[0]=="string"?we(e):Ou(e)}function Ou(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function we(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function Ye(e,t,n,{strict:r}={}){return U(e,{strict:!1})?Mt(e,t,n,{strict:r}):ji(e,t,n,{strict:r})}function Fi(e,t){if(typeof t=="number"&&t>0&&t>Z(e)-1)throw new ai({offset:t,position:"start",size:Z(e)})}function qi(e,t,n){if(typeof t=="number"&&typeof n=="number"&&Z(e)!==n-t)throw new ai({offset:n,position:"end",size:Z(e)})}function ji(e,t,n,{strict:r}={}){Fi(e,t);const s=e.slice(t,n);return r&&qi(s,t,n),s}function Mt(e,t,n,{strict:r}={}){Fi(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&qi(s,t,n),s}const Lu=/^(.*)\[([0-9]*)\]$/,Gi=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,is=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Ve(e,t){if(e.length!==t.length)throw new zi({expectedLength:e.length,givenLength:t.length});const n=Mu({params:e,values:t}),r=cs(n);return r.length===0?"0x":r}function Mu({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(as({param:e[r],value:t[r]}));return n}function as({param:e,value:t}){const n=us(e.type);if(n){const[r,s]=n;return Fu(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return Vu(t,{param:e});if(e.type==="address")return Uu(t);if(e.type==="bool")return ju(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,s="256"]=is.exec(e.type)??[];return Gu(t,{signed:r,size:Number(s)})}if(e.type.startsWith("bytes"))return qu(t,{param:e});if(e.type==="string")return Du(t);throw new $u(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function cs(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=Z(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(A(t+s,{size:32})),r.push(a),s+=Z(a)):n.push(a)}return he([...n,...r])}function Uu(e){if(!X(e))throw new ae({address:e});return{dynamic:!1,encoded:Fe(e.toLowerCase())}}function Fu(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new Mi(e);if(!r&&e.length!==t)throw new xu({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const o=[];for(let i=0;i<e.length;i++){const a=as({param:n,value:e[i]});a.dynamic&&(s=!0),o.push(a)}if(r||s){const i=cs(o);if(r){const a=A(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?he([a,i]):a}}if(s)return{dynamic:!0,encoded:i}}return{dynamic:!1,encoded:he(o.map(({encoded:i})=>i))}}function qu(e,{param:t}){const[,n]=t.type.split("bytes"),r=Z(e);if(!n){let s=e;return r%32!==0&&(s=Fe(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:he([Fe(A(r,{size:32})),s])}}if(r!==Number.parseInt(n,10))throw new vu({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Fe(e,{dir:"right"})}}function ju(e){if(typeof e!="boolean")throw new $(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Fe(ci(e))}}function Gu(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new u0({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:A(e,{size:32,signed:t})}}function Du(e){const t=Ot(e),n=Math.ceil(Z(t)/32),r=[];for(let s=0;s<n;s++)r.push(Fe(Ye(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:he([Fe(A(Z(t),{size:32})),...r])}}function Vu(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const o=t.components[s],i=Array.isArray(e)?s:o.name,a=as({param:o,value:e[i]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?cs(r):he(r.map(({encoded:s})=>s))}}function us(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const Jt=e=>Ye(Ui(e),0,4);function ct(e){const{abi:t,args:n=[],name:r}=e,s=U(r,{strict:!1}),o=t.filter(a=>s?a.type==="function"?Jt(a)===r:a.type==="event"?Un(a)===r:!1:"name"in a&&a.name===r);if(o.length===0)return;if(o.length===1)return o[0];let i;for(const a of o){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((u,f)=>{const d="inputs"in a&&a.inputs[f];return d?Ur(u,d):!1})){if(i&&"inputs"in i&&i.inputs){const u=Di(a.inputs,i.inputs,n);if(u)throw new Au({abiItem:a,type:u[0]},{abiItem:i,type:u[1]})}i=a}}return i||o[0]}function Ur(e,t){const n=typeof e,r=t.type;switch(r){case"address":return X(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>Ur(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Ur(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Di(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return Di(s.components,o.components,n[r]);const i=[s.type,o.type];if((()=>i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?X(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?X(n[r],{strict:!1}):!1)())return i}}const Po="/docs/contract/encodeEventTopics";function Xt(e){var c;const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const u=ct({abi:t,name:n});if(!u)throw new Eo(n,{docsPath:Po});s=u}if(s.type!=="event")throw new Eo(void 0,{docsPath:Po});const o=$e(s),i=Un(o);let a=[];if(r&&"inputs"in s){const u=(c=s.inputs)==null?void 0:c.filter(d=>"indexed"in d&&d.indexed),f=Array.isArray(r)?r:Object.values(r).length>0?(u==null?void 0:u.map(d=>r[d.name]))??[]:[];f.length>0&&(a=(u==null?void 0:u.map((d,h)=>Array.isArray(f[h])?f[h].map((l,p)=>Io({param:d,value:f[h][p]})):typeof f[h]<"u"&&f[h]!==null?Io({param:d,value:f[h]}):null))??[])}return[i,...a]}function Io({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return K(me(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new Cu(e.type);return Ve([e],[t])}function Fn(e,{method:t}){var r,s;const n={};return e.transport.type==="fallback"&&((s=(r=e.transport).onResponse)==null||s.call(r,({method:o,response:i,status:a,transport:c})=>{a==="success"&&t===o&&(n[i]=c.request)})),o=>n[o]||e.request}async function fs(e,t){const{address:n,abi:r,args:s,eventName:o,fromBlock:i,strict:a,toBlock:c}=t,u=Fn(e,{method:"eth_newFilter"}),f=o?Xt({abi:r,args:s,eventName:o}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof i=="bigint"?A(i):i,toBlock:typeof c=="bigint"?A(c):c,topics:f}]});return{abi:r,args:s,eventName:o,id:d,request:u(d),strict:!!a,type:"event"}}function Y(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const Ao="/docs/contract/encodeFunctionData";function Hu(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const o=ct({abi:t,args:n,name:r});if(!o)throw new It(r,{docsPath:Ao});s=o}if(s.type!=="function")throw new It(void 0,{docsPath:Ao});return{abi:[s],functionName:Jt($e(s))}}function xe(e){const{args:t}=e,{abi:n,functionName:r}=(()=>{var a;return e.abi.length===1&&((a=e.functionName)!=null&&a.startsWith("0x"))?e:Hu(e)})(),s=n[0],o=r,i="inputs"in s&&s.inputs?Ve(s.inputs,t??[]):void 0;return we([o,i??"0x"])}const Wu={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Vi={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Zu={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};let $o=class extends ${constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}},Hi=class extends ${constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}},Ku=class extends ${constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}};const Yu={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Ku({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Hi({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new $o({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new $o({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function At(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Yu);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function jp(e,t){const n=typeof t=="string"?{to:t}:t,r=n.to;return r==="number"?Ne(e,n):r==="bigint"?Wi(e,n):r==="boolean"?Zi(e,n):r==="string"?Ki(e,n):H(e,n)}function Wi(e,t={}){typeof t.size<"u"&&Rn(e,{size:t.size});const n=H(e,t);return j(n,t)}function Zi(e,t={}){let n=e;if(typeof t.size<"u"&&(Rn(n,{size:t.size}),n=ze(n)),n.length>1||n[0]>1)throw new f0(n);return!!n[0]}function Ne(e,t={}){typeof t.size<"u"&&Rn(e,{size:t.size});const n=H(e,t);return V(n,t)}function Ki(e,t={}){let n=e;return typeof t.size<"u"&&(Rn(n,{size:t.size}),n=ze(n,{dir:"right"})),new TextDecoder().decode(n)}function ut(e,t){const n=typeof t=="string"?de(t):t,r=At(n);if(Z(n)===0&&e.length>0)throw new Kt;if(Z(t)&&Z(t)<32)throw new ki({data:typeof t=="string"?t:H(t),params:e,size:Z(t)});let s=0;const o=[];for(let i=0;i<e.length;++i){const a=e[i];r.setPosition(s);const[c,u]=xt(r,a,{staticPosition:0});s+=u,o.push(c)}return o}function xt(e,t,{staticPosition:n}){const r=us(t.type);if(r){const[s,o]=r;return Xu(e,{...t,type:o},{length:s,staticPosition:n})}if(t.type==="tuple")return nf(e,t,{staticPosition:n});if(t.type==="address")return Ju(e);if(t.type==="bool")return Qu(e);if(t.type.startsWith("bytes"))return ef(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return tf(e,t);if(t.type==="string")return rf(e,{staticPosition:n});throw new Bu(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const Bo=32,Fr=32;function Ju(e){const t=e.readBytes(32);return[Yt(H(ji(t,-20))),32]}function Xu(e,t,{length:n,staticPosition:r}){if(!n){const i=Ne(e.readBytes(Fr)),a=r+i,c=a+Bo;e.setPosition(a);const u=Ne(e.readBytes(Bo)),f=Ut(t);let d=0;const h=[];for(let l=0;l<u;++l){e.setPosition(c+(f?l*32:d));const[p,b]=xt(e,t,{staticPosition:c});d+=b,h.push(p)}return e.setPosition(r+32),[h,32]}if(Ut(t)){const i=Ne(e.readBytes(Fr)),a=r+i,c=[];for(let u=0;u<n;++u){e.setPosition(a+u*32);const[f]=xt(e,t,{staticPosition:a});c.push(f)}return e.setPosition(r+32),[c,32]}let s=0;const o=[];for(let i=0;i<n;++i){const[a,c]=xt(e,t,{staticPosition:r+s});s+=c,o.push(a)}return[o,s]}function Qu(e){return[Zi(e.readBytes(32),{size:32}),32]}function ef(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=Ne(e.readBytes(32));e.setPosition(n+i);const a=Ne(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[H(c),32]}return[H(e.readBytes(Number.parseInt(s,10),32)),32]}function tf(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?Wi(s,{signed:n}):Ne(s,{signed:n}),32]}function nf(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:i})=>!i),s=r?[]:{};let o=0;if(Ut(t)){const i=Ne(e.readBytes(Fr)),a=n+i;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(a+o);const[f,d]=xt(e,u,{staticPosition:a});o+=d,s[r?c:u==null?void 0:u.name]=f}return e.setPosition(n+32),[s,32]}for(let i=0;i<t.components.length;++i){const a=t.components[i],[c,u]=xt(e,a,{staticPosition:n});s[r?i:a==null?void 0:a.name]=c,o+=u}return[s,o]}function rf(e,{staticPosition:t}){const n=Ne(e.readBytes(32)),r=t+n;e.setPosition(r);const s=Ne(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=Ki(ze(o));return e.setPosition(t+32),[i,32]}function Ut(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(Ut);const n=us(e.type);return!!(n&&Ut({...e,type:n[1]}))}function Yi(e){const{abi:t,data:n}=e,r=Ye(n,0,4);if(r==="0x")throw new Kt;const o=[...t||[],Vi,Zu].find(i=>i.type==="error"&&r===Jt($e(i)));if(!o)throw new _i(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?ut(o.inputs,Ye(n,4)):void 0,errorName:o.name}}function Ji({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,o)=>`${r&&s.name?`${s.name}: `:""}${typeof t[o]=="object"?le(t[o]):t[o]}`).join(", ")})`}function ds(e,t="wei"){return d0(e,ui[t])}class sf extends ${constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class of extends ${constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function So(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function af(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=So(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=So(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function Qt(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class cf extends ${constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class Xi extends ${constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class uf extends ${constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Qt(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class ff extends ${constructor({serializedType:t}){super(`Serialized transaction type "${t}" is invalid.`,{name:"InvalidSerializedTransactionType"}),Object.defineProperty(this,"serializedType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.serializedType=t}}class en extends ${constructor({attributes:t,serializedTransaction:n,type:r}){const s=Object.entries(t).map(([o,i])=>typeof i>"u"?o:void 0).filter(Boolean);super(`Invalid serialized transaction of type "${r}" was provided.`,{metaMessages:[`Serialized Transaction: "${n}"`,s.length>0?`Missing Attributes: ${s.join(", ")}`:""].filter(Boolean),name:"InvalidSerializedTransactionError"}),Object.defineProperty(this,"serializedTransaction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.serializedTransaction=n,this.type=r}}class df extends ${constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class lf extends ${constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:h}){var p;const l=Qt({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:d,value:typeof h<"u"&&`${ds(h)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${Ce(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Ce(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Ce(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",l].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Qi extends ${constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){let i="Transaction";r&&o!==void 0&&(i=`Transaction at block time "${r}" at index "${o}"`),t&&o!==void 0&&(i=`Transaction at block hash "${t}" at index "${o}"`),n&&o!==void 0&&(i=`Transaction at block number "${n}" at index "${o}"`),s&&(i=`Transaction with hash "${s}"`),super(`${i} could not be found.`,{name:"TransactionNotFoundError"})}}class ea extends ${constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class hf extends ${constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}class ta extends ${constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:h,stateOverride:l}){var g;const p=n?Y(n):void 0;let b=Qt({from:p==null?void 0:p.address,to:d,value:typeof h<"u"&&`${ds(h)} ${((g=s==null?void 0:s.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${Ce(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Ce(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Ce(u)} gwei`,nonce:f});l&&(b+=`
${af(l)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",b].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class na extends ${constructor(t,{abi:n,args:r,contractAddress:s,docsPath:o,functionName:i,sender:a}){const c=ct({abi:n,args:r,name:i}),u=c?Ji({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,f=c?$e(c,{includeName:!0}):void 0,d=Qt({address:s&&l0(s),function:f,args:u&&u!=="()"&&`${[...Array((i==null?void 0:i.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:t,docsPath:o,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=i,this.sender=a}}class qr extends ${constructor({abi:t,data:n,functionName:r,message:s}){let o,i,a,c;if(n&&n!=="0x")try{i=Yi({abi:t,data:n});const{abiItem:f,errorName:d,args:h}=i;if(d==="Error")c=h[0];else if(d==="Panic"){const[l]=h;c=Wu[l]}else{const l=f?$e(f,{includeName:!0}):void 0,p=f&&h?Ji({abiItem:f,args:h,includeFunctionName:!1,includeName:!1}):void 0;a=[l?`Error: ${l}`:"",p&&p!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${p}`:""]}}catch(f){o=f}else s&&(c=s);let u;o instanceof _i&&(u=o.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:o,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=i,this.raw=n,this.reason=c,this.signature=u}}class bf extends ${constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class pf extends ${constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class qn extends ${constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}const mf=3;function st(e,{abi:t,address:n,args:r,docsPath:s,functionName:o,sender:i}){const a=e instanceof qn?e:e instanceof $?e.walk(p=>"data"in p)||e.walk():{},{code:c,data:u,details:f,message:d,shortMessage:h}=a,l=(()=>e instanceof Kt?new bf({functionName:o}):[mf,h0.code].includes(c)&&(u||f||d||h)?new qr({abi:t,data:typeof u=="object"?u.data:u,functionName:o,message:a instanceof fi?f:h??d}):e)();return new na(l,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:o,sender:i})}function yf(e){const t=K(`0x${e.substring(4)}`).substring(26);return Yt(`0x${t}`)}async function gf({hash:e,signature:t}){const n=U(e)?e:ye(e),{secp256k1:r}=await os(()=>Promise.resolve().then(()=>$h),void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:f,v:d,yParity:h}=t,l=Number(h??d),p=To(l);return new r.Signature(j(u),j(f)).addRecoveryBit(p)}const i=U(t)?t:ye(t);if(Z(i)!==65)throw new Error("invalid signature length");const a=V(`0x${i.slice(130)}`),c=To(a);return r.Signature.fromCompact(i.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function To(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function Bt({hash:e,signature:t}){return yf(await gf({hash:e,signature:t}))}function Re(e,t="hex"){const n=ra(e),r=At(new Uint8Array(n.length));return n.encode(r),t==="hex"?H(r.bytes):r.bytes}function Gp(e,t="bytes"){return Re(e,t)}function Dp(e,t="hex"){return Re(e,t)}function ra(e){return Array.isArray(e)?wf(e.map(t=>ra(t))):xf(e)}function wf(e){const t=e.reduce((s,o)=>s+o.length,0),n=sa(t);return{length:(()=>t<=55?1+t:1+n+t)(),encode(s){t<=55?s.pushByte(192+t):(s.pushByte(192+55+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:o}of e)o(s)}}}function xf(e){const t=typeof e=="string"?de(e):e,n=sa(t.length);return{length:(()=>t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length)(),encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(128+55+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function sa(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new $("Length is too large.")}function vf(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,o=K(we(["0x05",Re([t?A(t):"0x",s,n?A(n):"0x"])]));return r==="bytes"?de(o):o}async function ls(e){const{authorization:t,signature:n}=e;return Bt({hash:vf(t),signature:n??t})}class Ef extends ${constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:h}){var p;const l=Qt({from:n==null?void 0:n.address,to:d,value:typeof h<"u"&&`${ds(h)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${Ce(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Ce(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Ce(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",l].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}function jn(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof $?e.walk(s=>(s==null?void 0:s.code)===hn.code):e;return r instanceof $?new hn({cause:e,message:r.details}):hn.nodeMessage.test(n)?new hn({cause:e,message:e.details}):Pt.nodeMessage.test(n)?new Pt({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):to.nodeMessage.test(n)?new to({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):no.nodeMessage.test(n)?new no({cause:e,nonce:t==null?void 0:t.nonce}):ro.nodeMessage.test(n)?new ro({cause:e,nonce:t==null?void 0:t.nonce}):so.nodeMessage.test(n)?new so({cause:e,nonce:t==null?void 0:t.nonce}):oo.nodeMessage.test(n)?new oo({cause:e}):io.nodeMessage.test(n)?new io({cause:e,gas:t==null?void 0:t.gas}):ao.nodeMessage.test(n)?new ao({cause:e,gas:t==null?void 0:t.gas}):co.nodeMessage.test(n)?new co({cause:e}):Pn.nodeMessage.test(n)?new Pn({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new Wt({cause:e})}function Pf(e,{docsPath:t,...n}){const r=(()=>{const s=jn(e,n);return s instanceof Wt?e:s})();return new Ef(r,{docsPath:t,...n})}function tn(e,{format:t}){if(!t)return{};const n={};function r(o){const i=Object.keys(o);for(const a of i)a in e&&(n[a]=e[a]),o[a]&&typeof o[a]=="object"&&!Array.isArray(o[a])&&r(o[a])}const s=t(e||{});return r(s),n}function Gn(e,t){return({exclude:n,format:r})=>({exclude:n,format:s=>{const o=t(s);if(n)for(const i of n)delete o[i];return{...o,...r(s)}},type:e})}const If={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Qe(e){const t={};return typeof e.authorizationList<"u"&&(t.authorizationList=Af(e.authorizationList)),typeof e.accessList<"u"&&(t.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(t.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?t.blobs=e.blobs.map(n=>H(n)):t.blobs=e.blobs),typeof e.data<"u"&&(t.data=e.data),typeof e.from<"u"&&(t.from=e.from),typeof e.gas<"u"&&(t.gas=A(e.gas)),typeof e.gasPrice<"u"&&(t.gasPrice=A(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(t.maxFeePerBlobGas=A(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(t.maxFeePerGas=A(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(t.maxPriorityFeePerGas=A(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(t.nonce=A(e.nonce)),typeof e.to<"u"&&(t.to=e.to),typeof e.type<"u"&&(t.type=If[e.type]),typeof e.value<"u"&&(t.value=A(e.value)),t}const Vp=Gn("transactionRequest",Qe);function Af(e){return e.map(t=>({address:t.address,r:t.r?A(BigInt(t.r)):t.r,s:t.s?A(BigInt(t.s)):t.s,chainId:A(t.chainId),nonce:A(t.nonce),...typeof t.yParity<"u"?{yParity:A(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:A(t.v)}:{}}))}function Co(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new uo({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new uo({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function $f(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:o}=e,i={};if(o!==void 0&&(i.code=o),t!==void 0&&(i.balance=A(t)),n!==void 0&&(i.nonce=A(n)),r!==void 0&&(i.state=Co(r)),s!==void 0){if(i.state)throw new of;i.stateDiff=Co(s)}return i}function hs(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!X(n,{strict:!1}))throw new ae({address:n});if(t[n])throw new sf({address:n});t[n]=$f(r)}return t}const Hp=2n**(8n-1n)-1n,Wp=2n**(16n-1n)-1n,Zp=2n**(24n-1n)-1n,Kp=2n**(32n-1n)-1n,Yp=2n**(40n-1n)-1n,Jp=2n**(48n-1n)-1n,Xp=2n**(56n-1n)-1n,Qp=2n**(64n-1n)-1n,e6=2n**(72n-1n)-1n,t6=2n**(80n-1n)-1n,n6=2n**(88n-1n)-1n,r6=2n**(96n-1n)-1n,s6=2n**(104n-1n)-1n,o6=2n**(112n-1n)-1n,i6=2n**(120n-1n)-1n,a6=2n**(128n-1n)-1n,c6=2n**(136n-1n)-1n,u6=2n**(144n-1n)-1n,f6=2n**(152n-1n)-1n,d6=2n**(160n-1n)-1n,l6=2n**(168n-1n)-1n,h6=2n**(176n-1n)-1n,b6=2n**(184n-1n)-1n,p6=2n**(192n-1n)-1n,m6=2n**(200n-1n)-1n,y6=2n**(208n-1n)-1n,g6=2n**(216n-1n)-1n,w6=2n**(224n-1n)-1n,x6=2n**(232n-1n)-1n,v6=2n**(240n-1n)-1n,E6=2n**(248n-1n)-1n,P6=2n**(256n-1n)-1n,I6=-(2n**(8n-1n)),A6=-(2n**(16n-1n)),$6=-(2n**(24n-1n)),B6=-(2n**(32n-1n)),S6=-(2n**(40n-1n)),T6=-(2n**(48n-1n)),C6=-(2n**(56n-1n)),N6=-(2n**(64n-1n)),k6=-(2n**(72n-1n)),z6=-(2n**(80n-1n)),_6=-(2n**(88n-1n)),R6=-(2n**(96n-1n)),O6=-(2n**(104n-1n)),L6=-(2n**(112n-1n)),M6=-(2n**(120n-1n)),U6=-(2n**(128n-1n)),F6=-(2n**(136n-1n)),q6=-(2n**(144n-1n)),j6=-(2n**(152n-1n)),G6=-(2n**(160n-1n)),D6=-(2n**(168n-1n)),V6=-(2n**(176n-1n)),H6=-(2n**(184n-1n)),W6=-(2n**(192n-1n)),Z6=-(2n**(200n-1n)),K6=-(2n**(208n-1n)),Y6=-(2n**(216n-1n)),J6=-(2n**(224n-1n)),X6=-(2n**(232n-1n)),Q6=-(2n**(240n-1n)),em=-(2n**(248n-1n)),tm=-(2n**(256n-1n)),nm=2n**8n-1n,rm=2n**16n-1n,sm=2n**24n-1n,om=2n**32n-1n,im=2n**40n-1n,am=2n**48n-1n,cm=2n**56n-1n,um=2n**64n-1n,fm=2n**72n-1n,dm=2n**80n-1n,lm=2n**88n-1n,hm=2n**96n-1n,bm=2n**104n-1n,pm=2n**112n-1n,mm=2n**120n-1n,ym=2n**128n-1n,gm=2n**136n-1n,wm=2n**144n-1n,xm=2n**152n-1n,vm=2n**160n-1n,Em=2n**168n-1n,Pm=2n**176n-1n,Im=2n**184n-1n,Am=2n**192n-1n,$m=2n**200n-1n,Bm=2n**208n-1n,Sm=2n**216n-1n,Tm=2n**224n-1n,Cm=2n**232n-1n,Nm=2n**240n-1n,km=2n**248n-1n,Dn=2n**256n-1n;function ft(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:o}=e,i=t?Y(t):void 0;if(i&&!X(i.address))throw new ae({address:i.address});if(o&&!X(o))throw new ae({address:o});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new cf;if(r&&r>Dn)throw new Pt({maxFeePerGas:r});if(s&&r&&s>r)throw new Pn({maxFeePerGas:r,maxPriorityFeePerGas:s})}class Bf extends ${constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class bs extends ${constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class Sf extends ${constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Ce(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class oa extends ${constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const ia={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function ps(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?V(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?V(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?ia[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(t.authorizationList=Tf(e.authorizationList)),t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof t.v=="bigint"){if(t.v===0n||t.v===27n)return 0;if(t.v===1n||t.v===28n)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),t.type==="eip2930"&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t.type==="eip1559"&&delete t.maxFeePerBlobGas,t}const zm=Gn("transaction",ps);function Tf(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function ms(e){const t=(e.transactions??[]).map(n=>typeof n=="string"?n:ps(n));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const _m=Gn("block",ms);async function Se(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){var u,f,d;const o=s??!1,i=n!==void 0?A(n):void 0;let a=null;if(t?a=await e.request({method:"eth_getBlockByHash",params:[t,o]},{dedupe:!0}):a=await e.request({method:"eth_getBlockByNumber",params:[i||r,o]},{dedupe:!!i}),!a)throw new oa({blockHash:t,blockNumber:n});return(((d=(f=(u=e.chain)==null?void 0:u.formatters)==null?void 0:f.block)==null?void 0:d.format)||ms)(a)}async function ys(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function Cf(e,t){return aa(e,t)}async function aa(e,t){var o,i;const{block:n,chain:r=e.chain,request:s}=t||{};try{const a=((o=r==null?void 0:r.fees)==null?void 0:o.maxPriorityFeePerGas)??((i=r==null?void 0:r.fees)==null?void 0:i.defaultPriorityFee);if(typeof a=="function"){const u=n||await L(e,Se,"getBlock")({}),f=await a({block:u,client:e,request:s});if(f===null)throw new Error;return f}if(typeof a<"u")return a;const c=await e.request({method:"eth_maxPriorityFeePerGas"});return j(c)}catch{const[a,c]=await Promise.all([n?Promise.resolve(n):L(e,Se,"getBlock")({}),L(e,ys,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new bs;const u=c-a.baseFeePerGas;return u<0n?0n:u}}async function Nf(e,t){return jr(e,t)}async function jr(e,t){var h,l;const{block:n,chain:r=e.chain,request:s,type:o="eip1559"}=t||{},i=await(async()=>{var p,b;return typeof((p=r==null?void 0:r.fees)==null?void 0:p.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):((b=r==null?void 0:r.fees)==null?void 0:b.baseFeeMultiplier)??1.2})();if(i<1)throw new Bf;const c=10**(((h=i.toString().split(".")[1])==null?void 0:h.length)??0),u=p=>p*BigInt(Math.ceil(i*c))/BigInt(c),f=n||await L(e,Se,"getBlock")({});if(typeof((l=r==null?void 0:r.fees)==null?void 0:l.estimateFeesPerGas)=="function"){const p=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:o});if(p!==null)return p}if(o==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new bs;const p=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await aa(e,{block:f,chain:r,request:s}),b=u(f.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??b+p,maxPriorityFeePerGas:p}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await L(e,ys,"getGasPrice")({}))}}async function Vn(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?A(r):n]},{dedupe:!!r});return V(s)}function gs(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>de(o)):e.blobs,s=[];for(const o of r)s.push(Uint8Array.from(t.blobToKzgCommitment(o)));return n==="bytes"?s:s.map(o=>H(o))}function ws(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>de(i)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(i=>de(i)):e.commitments,o=[];for(let i=0;i<r.length;i++){const a=r[i],c=s[i];o.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return n==="bytes"?o:o.map(i=>H(i))}function kf(e,t){const n=t||"hex",r=b0(U(e,{strict:!1})?me(e):e);return n==="bytes"?r:ye(r)}function ca(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=kf(t,"bytes");return s.set([n],0),r==="bytes"?s:H(s)}function ua(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),s=[];for(const o of t)s.push(ca({commitment:o,to:r,version:n}));return s}const No=6,fa=32,xs=4096,da=fa*xs,ko=da*No-1-1*xs*No,la=1;class zf extends ${constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class ha extends ${constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class _f extends ${constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class Rf extends ${constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${la}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function Of(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?de(e.data):e.data,r=Z(n);if(!r)throw new ha;if(r>ko)throw new zf({maxSize:ko,size:r});const s=[];let o=!0,i=0;for(;o;){const a=At(new Uint8Array(da));let c=0;for(;c<xs;){const u=n.slice(i,i+(fa-1));if(a.pushByte(0),a.pushBytes(u),u.length<31){a.pushByte(128),o=!1;break}c++,i+=31}s.push(a)}return t==="bytes"?s.map(a=>a.bytes):s.map(a=>H(a.bytes))}function vs(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??Of({data:t,to:r}),o=e.commitments??gs({blobs:s,kzg:n,to:r}),i=e.proofs??ws({blobs:s,commitments:o,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:o[c],proof:i[c]});return a}function ba(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new uf({transaction:e})}async function St(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return V(t)}const pa=["blobVersionedHashes","chainId","fees","gas","nonce","type"],zo=new Map;async function Hn(e,t){const{account:n=e.account,blobs:r,chain:s,gas:o,kzg:i,nonce:a,nonceManager:c,parameters:u=pa,type:f}=t,d=n&&Y(n),h={...t,...d?{from:d==null?void 0:d.address}:{}};let l;async function p(){return l||(l=await L(e,Se,"getBlock")({blockTag:"latest"}),l)}let b;async function g(){return b||(s?s.id:typeof t.chainId<"u"?t.chainId:(b=await L(e,St,"getChainId")({}),b))}if(u.includes("nonce")&&typeof a>"u"&&d)if(c){const m=await g();h.nonce=await c.consume({address:d.address,chainId:m,client:e})}else h.nonce=await L(e,Vn,"getTransactionCount")({address:d.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&i){const m=gs({blobs:r,kzg:i});if(u.includes("blobVersionedHashes")){const x=ua({commitments:m,to:"hex"});h.blobVersionedHashes=x}if(u.includes("sidecars")){const x=ws({blobs:r,commitments:m,kzg:i}),w=vs({blobs:r,commitments:m,proofs:x,to:"hex"});h.sidecars=w}}if(u.includes("chainId")&&(h.chainId=await g()),(u.includes("fees")||u.includes("type"))&&typeof f>"u")try{h.type=ba(h)}catch{let m=zo.get(e.uid);if(typeof m>"u"){const x=await p();m=typeof(x==null?void 0:x.baseFeePerGas)=="bigint",zo.set(e.uid,m)}h.type=m?"eip1559":"legacy"}if(u.includes("fees"))if(h.type!=="legacy"&&h.type!=="eip2930"){if(typeof h.maxFeePerGas>"u"||typeof h.maxPriorityFeePerGas>"u"){const m=await p(),{maxFeePerGas:x,maxPriorityFeePerGas:w}=await jr(e,{block:m,chain:s,request:h});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<w)throw new Sf({maxPriorityFeePerGas:w});h.maxPriorityFeePerGas=w,h.maxFeePerGas=x}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new bs;if(typeof t.gasPrice>"u"){const m=await p(),{gasPrice:x}=await jr(e,{block:m,chain:s,request:h,type:"legacy"});h.gasPrice=x}}return u.includes("gas")&&typeof o>"u"&&(h.gas=await L(e,Es,"estimateGas")({...h,account:d&&{address:d.address,type:"json-rpc"}})),ft(h),delete h.parameters,h}async function ma(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?A(n):void 0,o=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(o)}async function Es(e,t){var s,o,i;const{account:n=e.account}=t,r=n?Y(n):void 0;try{let q=function(N){const{block:O,request:S,rpcStateOverride:R}=N;return e.request({method:"eth_estimateGas",params:R?[S,O??e.experimental_blockTag??"latest",R]:O?[S,O]:[S]})};const{accessList:a,authorizationList:c,blobs:u,blobVersionedHashes:f,blockNumber:d,blockTag:h,data:l,gas:p,gasPrice:b,maxFeePerBlobGas:g,maxFeePerGas:m,maxPriorityFeePerGas:x,nonce:w,value:y,stateOverride:v,...E}=await Hn(e,{...t,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),I=(typeof d=="bigint"?A(d):void 0)||h,T=hs(v),k=await(async()=>{if(E.to)return E.to;if(c&&c.length>0)return await ls({authorization:c[0]}).catch(()=>{throw new $("`to` is required. Could not infer from `authorizationList`")})})();ft(t);const B=(i=(o=(s=e.chain)==null?void 0:s.formatters)==null?void 0:o.transactionRequest)==null?void 0:i.format,_=(B||Qe)({...tn(E,{format:B}),from:r==null?void 0:r.address,accessList:a,authorizationList:c,blobs:u,blobVersionedHashes:f,data:l,gas:p,gasPrice:b,maxFeePerBlobGas:g,maxFeePerGas:m,maxPriorityFeePerGas:x,nonce:w,to:k,value:y});let C=BigInt(await q({block:I,request:_,rpcStateOverride:T}));if(c){const N=await ma(e,{address:_.from}),O=await Promise.all(c.map(async S=>{const{address:R}=S,M=await q({block:I,request:{authorizationList:void 0,data:l,from:r==null?void 0:r.address,to:R,value:A(N)},rpcStateOverride:T}).catch(()=>100000n);return 2n*BigInt(M)}));C+=O.reduce((S,R)=>S+R,0n)}return C}catch(a){throw Pf(a,{...t,account:r,chain:e.chain})}}async function ya(e,t){const{abi:n,address:r,args:s,functionName:o,dataSuffix:i,...a}=t,c=xe({abi:n,args:s,functionName:o});try{return await L(e,Es,"estimateGas")({data:`${c}${i?i.replace("0x",""):""}`,to:r,...a})}catch(u){const f=a.account?Y(a.account):void 0;throw st(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:f==null?void 0:f.address})}}function He(e,t){if(!X(e,{strict:!1}))throw new ae({address:e});if(!X(t,{strict:!1}))throw new ae({address:t});return e.toLowerCase()===t.toLowerCase()}const _o="/docs/contract/decodeEventLog";function Ps(e){const{abi:t,data:n,strict:r,topics:s}=e,o=r??!0,[i,...a]=s;if(!i)throw new Pu({docsPath:_o});const c=t.find(b=>b.type==="event"&&i===Un($e(b)));if(!(c&&"name"in c)||c.type!=="event")throw new Ri(i,{docsPath:_o});const{name:u,inputs:f}=c,d=f==null?void 0:f.some(b=>!("name"in b&&b.name)),h=d?[]:{},l=f.map((b,g)=>[b,g]).filter(([b])=>"indexed"in b&&b.indexed);for(let b=0;b<l.length;b++){const[g,m]=l[b],x=a[b];if(!x)throw new Mn({abiItem:c,param:g});h[d?m:g.name||m]=Lf({param:g,value:x})}const p=f.filter(b=>!("indexed"in b&&b.indexed));if(p.length>0){if(n&&n!=="0x")try{const b=ut(p,n);if(b)if(d)for(let g=0;g<f.length;g++)h[g]=h[g]??b.shift();else for(let g=0;g<p.length;g++)h[p[g].name]=b[g]}catch(b){if(o)throw b instanceof ki||b instanceof Hi?new Lt({abiItem:c,data:n,params:p,size:Z(n)}):b}else if(o)throw new Lt({abiItem:c,data:"0x",params:p,size:0})}return{eventName:u,args:Object.values(h).length>0?h:void 0}}function Lf({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(ut([e],t)||[])[0]}function Is(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,o=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(i=>{var a;try{const c=t.find(f=>f.type==="event"&&i.topics[0]===Un(f));if(!c)return null;const u=Ps({...i,abi:[c],strict:s});return o&&!o.includes(u.eventName)||!Mf({args:u.args,inputs:c.inputs,matchArgs:n})?null:{...u,...i}}catch(c){let u,f;if(c instanceof Ri)return null;if(c instanceof Lt||c instanceof Mn){if(s)return null;u=c.abiItem.name,f=(a=c.abiItem.inputs)==null?void 0:a.some(d=>!("name"in d&&d.name))}return{...i,args:f?[]:{},eventName:u}}}).filter(Boolean)}function Mf(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(o,i,a){try{return o.type==="address"?He(i,a):o.type==="string"||o.type==="bytes"?K(me(i))===a:i===a}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((o,i)=>{if(o==null)return!0;const a=n[i];return a?(Array.isArray(o)?o:[o]).some(u=>s(a,u,t[i])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([o,i])=>{if(i==null)return!0;const a=n.find(u=>u.name===o);return a?(Array.isArray(i)?i:[i]).some(u=>s(a,u,t[o])):!1}):!1}function je(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function As(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:o,events:i,args:a,strict:c}={}){const u=c??!1,f=i??(o?[o]:void 0);let d=[];f&&(d=[f.flatMap(b=>Xt({abi:[b],eventName:b.name,args:i?void 0:a}))],o&&(d=d[0]));let h;n?h=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:n}]}):h=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:typeof r=="bigint"?A(r):r,toBlock:typeof s=="bigint"?A(s):s}]});const l=h.map(p=>je(p));return f?Is({abi:f,args:a,logs:l,strict:u}):l}async function $s(e,t){const{abi:n,address:r,args:s,blockHash:o,eventName:i,fromBlock:a,toBlock:c,strict:u}=t,f=i?ct({abi:n,name:i}):void 0,d=f?void 0:n.filter(h=>h.type==="event");return L(e,As,"getLogs")({address:r,args:s,blockHash:o,event:f,events:d,fromBlock:a,toBlock:c,strict:u})}const br="/docs/contract/decodeFunctionResult";function dt(e){const{abi:t,args:n,functionName:r,data:s}=e;let o=t[0];if(r){const a=ct({abi:t,args:n,name:r});if(!a)throw new It(r,{docsPath:br});o=a}if(o.type!=="function")throw new It(void 0,{docsPath:br});if(!o.outputs)throw new Oi(o.name,{docsPath:br});const i=ut(o.outputs,s);if(i&&i.length>1)return i;if(i&&i.length===1)return i[0]}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Bs=BigInt(0),Gr=BigInt(1);function nn(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Je(e){if(!nn(e))throw new Error("Uint8Array expected")}function Ft(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function pn(e){const t=e.toString(16);return t.length&1?"0"+t:t}function ga(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Bs:BigInt("0x"+e)}const wa=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Uf=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function qt(e){if(Je(e),wa)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=Uf[e[n]];return t}const Le={_0:48,_9:57,A:65,F:70,a:97,f:102};function Ro(e){if(e>=Le._0&&e<=Le._9)return e-Le._0;if(e>=Le.A&&e<=Le.F)return e-(Le.A-10);if(e>=Le.a&&e<=Le.f)return e-(Le.a-10)}function Cn(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(wa)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,o=0;s<n;s++,o+=2){const i=Ro(e.charCodeAt(o)),a=Ro(e.charCodeAt(o+1));if(i===void 0||a===void 0){const c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}r[s]=i*16+a}return r}function ke(e){return ga(qt(e))}function xa(e){return Je(e),ga(qt(Uint8Array.from(e).reverse()))}function lt(e,t){return Cn(e.toString(16).padStart(t*2,"0"))}function va(e,t){return lt(e,t).reverse()}function te(e,t,n){let r;if(typeof t=="string")try{r=Cn(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(nn(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function Ee(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];Je(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}function Ss(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}const pr=e=>typeof e=="bigint"&&Bs<=e;function jt(e,t,n){return pr(e)&&pr(t)&&pr(n)&&t<=e&&e<n}function rt(e,t,n,r){if(!jt(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function Ff(e){let t;for(t=0;e>Bs;e>>=Gr,t+=1);return t}const Wn=e=>(Gr<<BigInt(e))-Gr,mr=e=>new Uint8Array(e),Oo=e=>Uint8Array.from(e);function qf(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=mr(e),s=mr(e),o=0;const i=()=>{r.fill(1),s.fill(0),o=0},a=(...d)=>n(s,r,...d),c=(d=mr(0))=>{s=a(Oo([0]),d),r=a(),d.length!==0&&(s=a(Oo([1]),d),r=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const h=[];for(;d<t;){r=a();const l=r.slice();h.push(l),d+=r.length}return Ee(...h)};return(d,h)=>{i(),c(d);let l;for(;!(l=h(u()));)c();return i(),l}}const jf={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||nn(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function rn(e,t,n={}){const r=(s,o,i)=>{const a=jf[o];if(typeof a!="function")throw new Error("invalid validator function");const c=e[s];if(!(i&&c===void 0)&&!a(c,e))throw new Error("param "+String(s)+" is invalid. Expected "+o+", got "+c)};for(const[s,o]of Object.entries(t))r(s,o,!1);for(const[s,o]of Object.entries(n))r(s,o,!0);return e}function Lo(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const o=e(n,...r);return t.set(n,o),o}}const Gf="0.1.1";function Df(){return Gf}class F extends Error{constructor(t,n={}){const r=(()=>{var c;if(n.cause instanceof F){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=(()=>n.cause instanceof F&&n.cause.docsPath||n.docsPath)(),i=`https://oxlib.sh${s??""}`,a=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${i}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${Df()}`}),this.cause=n.cause,this.details=r,this.docs=i,this.docsPath=s,this.shortMessage=t}walk(t){return Ea(this,t)}}function Ea(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?Ea(e.cause,t):t?null:e}function sn(e,t){if(Te(e)>t)throw new ld({givenSize:Te(e),maxSize:t})}function Vf(e,t){if(typeof t=="number"&&t>0&&t>Te(e)-1)throw new $a({offset:t,position:"start",size:Te(e)})}function Hf(e,t,n){if(typeof t=="number"&&typeof n=="number"&&Te(e)!==n-t)throw new $a({offset:n,position:"end",size:Te(e)})}const Me={zero:48,nine:57,A:65,F:70,a:97,f:102};function Mo(e){if(e>=Me.zero&&e<=Me.nine)return e-Me.zero;if(e>=Me.A&&e<=Me.F)return e-(Me.A-10);if(e>=Me.a&&e<=Me.f)return e-(Me.a-10)}function Wf(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new hd({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let o=0;o<r;o++){const i=n==="right";s[i?o:r-o-1]=e[i?o:e.length-o-1]}return s}function Pa(e,t={}){const{dir:n="left"}=t;let r=e,s=0;for(let o=0;o<r.length-1&&r[n==="left"?o:r.length-o-1].toString()==="0";o++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r}function Zn(e,t){if(ce(e)>t)throw new yd({givenSize:ce(e),maxSize:t})}function Zf(e,t){if(typeof t=="number"&&t>0&&t>ce(e)-1)throw new ka({offset:t,position:"start",size:ce(e)})}function Kf(e,t,n){if(typeof t=="number"&&typeof n=="number"&&ce(e)!==n-t)throw new ka({offset:n,position:"end",size:ce(e)})}function Ia(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new gd({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}function Yf(e,t={}){const{dir:n="left"}=t;let r=e.replace("0x",""),s=0;for(let o=0;o<r.length-1&&r[n==="left"?o:r.length-o-1].toString()==="0";o++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r==="0"?"0x":n==="right"&&r.length%2===1?`0x${r}0`:`0x${r}`}const Jf="#__bigint";function Kn(e,t,n){return JSON.stringify(e,(r,s)=>typeof t=="function"?t(r,s):typeof s=="bigint"?s.toString()+Jf:s,n)}const Xf=new TextDecoder,Qf=new TextEncoder;function ed(e){if(!(e instanceof Uint8Array)){if(!e)throw new mn(e);if(typeof e!="object")throw new mn(e);if(!("BYTES_PER_ELEMENT"in e))throw new mn(e);if(e.BYTES_PER_ELEMENT!==1||e.constructor.name!=="Uint8Array")throw new mn(e)}}function td(e){return e instanceof Uint8Array?e:typeof e=="string"?Ts(e):nd(e)}function nd(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function Ts(e,t={}){const{size:n}=t;let r=e;n&&(Zn(e,n),r=it(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const o=s.length/2,i=new Uint8Array(o);for(let a=0,c=0;a<o;a++){const u=Mo(s.charCodeAt(c++)),f=Mo(s.charCodeAt(c++));if(u===void 0||f===void 0)throw new F(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);i[a]=u*16+f}return i}function rd(e,t={}){const{size:n}=t,r=Qf.encode(e);return typeof n=="number"?(sn(r,n),sd(r,n)):r}function sd(e,t){return Wf(e,{dir:"right",size:t})}function Te(e){return e.length}function od(e,t,n,r={}){const{strict:s}=r;Vf(e,t);const o=e.slice(t,n);return s&&Hf(o,t,n),o}function id(e,t={}){const{size:n}=t;typeof n<"u"&&sn(e,n);const r=ge(e,t);return Sa(r,t)}function ad(e,t={}){const{size:n}=t;let r=e;if(typeof n<"u"&&(sn(r,n),r=Aa(r)),r.length>1||r[0]>1)throw new dd(r);return!!r[0]}function qe(e,t={}){const{size:n}=t;typeof n<"u"&&sn(e,n);const r=ge(e,t);return Ta(r,t)}function cd(e,t={}){const{size:n}=t;let r=e;return typeof n<"u"&&(sn(r,n),r=ud(r)),Xf.decode(r)}function Aa(e){return Pa(e,{dir:"left"})}function ud(e){return Pa(e,{dir:"right"})}function fd(e){try{return ed(e),!0}catch{return!1}}class dd extends F{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}class mn extends F{constructor(t){super(`Value \`${typeof t=="object"?Kn(t):t}\` of type \`${typeof t}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}let ld=class extends F{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},$a=class extends F{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SliceOffsetOutOfBoundsError"})}},hd=class extends F{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const bd=new TextEncoder,pd=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function md(e,t={}){const{strict:n=!1}=t;if(!e)throw new Fo(e);if(typeof e!="string")throw new Fo(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new qo(e);if(!e.startsWith("0x"))throw new qo(e)}function be(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function Cs(e){return e instanceof Uint8Array?ge(e):Array.isArray(e)?ge(new Uint8Array(e)):e}function Ba(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Zn(n,t.size),ot(n,t.size)):n}function ge(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=pd[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(Zn(r,t.size),it(r,t.size)):r}function W(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const u=typeof e=="bigint"?"n":"";throw new Na({max:o?`${o}${u}`:void 0,min:`${i}${u}`,signed:n,size:r,value:`${e}${u}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?ot(c,r):c}function Ns(e,t={}){return ge(bd.encode(e),t)}function ot(e,t){return Ia(e,{dir:"left",size:t})}function it(e,t){return Ia(e,{dir:"right",size:t})}function ne(e,t,n,r={}){const{strict:s}=r;Zf(e,t);const o=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&Kf(o,t,n),o}function ce(e){return Math.ceil((e.length-2)/2)}function Uo(e){return Yf(e,{dir:"left"})}function Sa(e,t={}){const{signed:n}=t;t.size&&Zn(e,t.size);const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,o=(1n<<BigInt(s)*8n)-1n,i=o>>1n;return r<=i?r:r-o-1n}function Ta(e,t={}){const{signed:n,size:r}=t;return Number(!n&&!r?e:Sa(e,t))}function Ca(e,t={}){const{strict:n=!1}=t;try{return md(e,{strict:n}),!0}catch{return!1}}class Na extends F{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number \`${o}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class Fo extends F{constructor(t){super(`Value \`${typeof t=="object"?Kn(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class qo extends F{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class yd extends F{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class ka extends F{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class gd extends F{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function wd(e){return{address:e.address,amount:W(e.amount),index:W(e.index),validatorIndex:W(e.validatorIndex)}}function za(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:W(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:W(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:W(e.gasLimit)},...typeof e.number=="bigint"&&{number:W(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:W(e.prevRandao)},...typeof e.time=="bigint"&&{time:W(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(wd)}}}const xd="0x82ad56cb",_a="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",vd="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Ed="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",ks="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class Dr extends ${constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class Pd extends ${constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id} – ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id} – ${t.name}`],name:"ChainMismatchError"})}}class Id extends ${constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class Ra extends ${constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class Yn extends ${constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}const yr="/docs/contract/encodeDeployData";function Jn(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(i=>"type"in i&&i.type==="constructor");if(!s)throw new Ni({docsPath:yr});if(!("inputs"in s))throw new Tn({docsPath:yr});if(!s.inputs||s.inputs.length===0)throw new Tn({docsPath:yr});const o=Ve(s.inputs,n);return we([r,o])}function Tt({blockNumber:e,chain:t,contract:n}){var s;const r=(s=t==null?void 0:t.contracts)==null?void 0:s[n];if(!r)throw new Dr({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new Dr({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function Oa(e,{docsPath:t,...n}){const r=(()=>{const s=jn(e,n);return s instanceof Wt?e:s})();return new ta(r,{docsPath:t,...n})}async function on(e,t){var _,q,C,N;const{account:n=e.account,authorizationList:r,batch:s=!!((_=e.batch)!=null&&_.multicall),blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:u,code:f,data:d,factory:h,factoryData:l,gas:p,gasPrice:b,maxFeePerBlobGas:g,maxFeePerGas:m,maxPriorityFeePerGas:x,nonce:w,to:y,value:v,stateOverride:E,...P}=t,I=n?Y(n):void 0;if(f&&(h||l))throw new $("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(f&&y)throw new $("Cannot provide both `code` & `to` as parameters.");const T=f&&d,k=h&&l&&y&&d,B=T||k,z=(()=>T?La({code:f,data:d}):k?Bd({data:d,factory:h,factoryData:l,to:y}):d)();try{ft(t);const S=(typeof o=="bigint"?A(o):void 0)||i,R=u?za(u):void 0,M=hs(E),G=(N=(C=(q=e.chain)==null?void 0:q.formatters)==null?void 0:C.transactionRequest)==null?void 0:N.format,se=(G||Qe)({...tn(P,{format:G}),from:I==null?void 0:I.address,accessList:a,authorizationList:r,blobs:c,data:z,gas:p,gasPrice:b,maxFeePerBlobGas:g,maxFeePerGas:m,maxPriorityFeePerGas:x,nonce:w,to:B?void 0:y,value:v});if(s&&Ad({request:se})&&!M&&!R)try{return await $d(e,{...se,blockNumber:o,blockTag:i})}catch(oe){if(!(oe instanceof Ra)&&!(oe instanceof Dr))throw oe}const re=(()=>{const oe=[se,S];return M&&R?[...oe,M,R]:M?[...oe,M]:R?[...oe,{},R]:oe})(),J=await e.request({method:"eth_call",params:re});return J==="0x"?{data:void 0}:{data:J}}catch(O){const S=Sd(O),{offchainLookup:R,offchainLookupSignature:M}=await os(()=>Promise.resolve().then(()=>Nl),void 0);if(e.ccipRead!==!1&&(S==null?void 0:S.slice(0,10))===M&&y)return{data:await R(e,{data:S,to:y})};throw B&&(S==null?void 0:S.slice(0,10))==="0x101bb98d"?new pf({factory:h}):Oa(O,{...t,account:I,chain:e.chain})}}function Ad({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(xd)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function $d(e,t){var b;const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof((b=e.batch)==null?void 0:b.multicall)=="object"?e.batch.multicall:{},{blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",data:a,to:c}=t,u=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return Tt({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Ra})(),d=(typeof o=="bigint"?A(o):void 0)||i,{schedule:h}=di({id:`${e.uid}.${d}`,wait:s,shouldSplitBatch(g){return g.reduce((x,{data:w})=>x+(w.length-2),0)>n*2},fn:async g=>{const m=g.map(y=>({allowFailure:!0,callData:y.data,target:y.to})),x=xe({abi:In,args:[m],functionName:"aggregate3"}),w=await e.request({method:"eth_call",params:[{...u===null?{data:La({code:ks,data:x})}:{to:u,data:x}},d]});return dt({abi:In,args:[m],functionName:"aggregate3",data:w||"0x"})}}),[{returnData:l,success:p}]=await h({data:a,to:c});if(!p)throw new qn({data:l});return l==="0x"?{data:void 0}:{data:l}}function La(e){const{code:t,data:n}=e;return Jn({abi:Ci(["constructor(bytes, bytes)"]),bytecode:_a,args:[t,n]})}function Bd(e){const{data:t,factory:n,factoryData:r,to:s}=e;return Jn({abi:Ci(["constructor(address, bytes, address, bytes)"]),bytecode:vd,args:[s,t,n,r]})}function Sd(e){var n;if(!(e instanceof $))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}async function Pe(e,t){const{abi:n,address:r,args:s,functionName:o,...i}=t,a=xe({abi:n,args:s,functionName:o});try{const{data:c}=await L(e,on,"call")({...i,data:a,to:r});return dt({abi:n,args:s,functionName:o,data:c||"0x"})}catch(c){throw st(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:o})}}async function Ma(e,t){const{abi:n,address:r,args:s,dataSuffix:o,functionName:i,...a}=t,c=a.account?Y(a.account):e.account,u=xe({abi:n,args:s,functionName:i});try{const{data:f}=await L(e,on,"call")({batch:!1,data:`${u}${o?o.replace("0x",""):""}`,to:r,...a,account:c}),d=dt({abi:n,args:s,functionName:i,data:f||"0x"}),h=n.filter(l=>"name"in l&&l.name===t.functionName);return{result:d,request:{abi:h,address:r,args:s,dataSuffix:o,functionName:i,...a,account:c}}}catch(f){throw st(f,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:i,sender:c==null?void 0:c.address})}}const gr=new Map,jo=new Map;let Td=0;function Ge(e,t,n){const r=++Td,s=()=>gr.get(e)||[],o=()=>{const f=s();gr.set(e,f.filter(d=>d.id!==r))},i=()=>{const f=s();if(!f.some(h=>h.id===r))return;const d=jo.get(e);if(f.length===1&&d){const h=d();h instanceof Promise&&h.catch(()=>{})}o()},a=s();if(gr.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return i;const c={};for(const f in t)c[f]=(...d)=>{var l,p;const h=s();if(h.length!==0)for(const b of h)(p=(l=b.fns)[f])==null||p.call(l,...d)};const u=n(c);return typeof u=="function"&&jo.set(e,u),i}function Ct(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const o=()=>s=!1;return(async()=>{let a;t&&(a=await e({unpoll:o}));const c=await(n==null?void 0:n(a))??r;await fo(c);const u=async()=>{s&&(await e({unpoll:o}),await fo(r),u())};u()})(),o}const Cd=new Map,Nd=new Map;function kd(e){const t=(s,o)=>({clear:()=>o.delete(s),get:()=>o.get(s),set:i=>o.set(s,i)}),n=t(e,Cd),r=t(e,Nd);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function zd(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=kd(t),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let o=r.promise.get();o||(o=e(),r.promise.set(o));try{const i=await o;return r.response.set({created:new Date,data:i}),i}finally{r.promise.clear()}}const _d=e=>`blockNumber.${e}`;async function an(e,{cacheTime:t=e.cacheTime}={}){const n=await zd(()=>e.request({method:"eth_blockNumber"}),{cacheKey:_d(e.uid),cacheTime:t});return BigInt(n)}async function Xn(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(o=>je(o));return!("abi"in t)||!t.abi?s:Is({abi:t.abi,logs:s,strict:n})}async function Qn(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function Ua(e,t){const{abi:n,address:r,args:s,batch:o=!0,eventName:i,fromBlock:a,onError:c,onLogs:u,poll:f,pollingInterval:d=e.pollingInterval,strict:h}=t;return(()=>typeof f<"u"?f:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))()?(()=>{const g=h??!1,m=le(["watchContractEvent",r,s,o,e.uid,i,d,g,a]);return Ge(m,{onLogs:u,onError:c},x=>{let w;a!==void 0&&(w=a-1n);let y,v=!1;const E=Ct(async()=>{var P;if(!v){try{y=await L(e,fs,"createContractEventFilter")({abi:n,address:r,args:s,eventName:i,strict:g,fromBlock:a})}catch{}v=!0;return}try{let I;if(y)I=await L(e,Xn,"getFilterChanges")({filter:y});else{const T=await L(e,an,"getBlockNumber")({});w&&w<T?I=await L(e,$s,"getContractEvents")({abi:n,address:r,args:s,eventName:i,fromBlock:w+1n,toBlock:T,strict:g}):I=[],w=T}if(I.length===0)return;if(o)x.onLogs(I);else for(const T of I)x.onLogs([T])}catch(I){y&&I instanceof li&&(v=!1),(P=x.onError)==null||P.call(x,I)}},{emitOnBegin:!0,interval:d});return async()=>{y&&await L(e,Qn,"uninstallFilter")({filter:y}),E()}})})():(()=>{const g=h??!1,m=le(["watchContractEvent",r,s,o,e.uid,i,d,g]);let x=!0,w=()=>x=!1;return Ge(m,{onLogs:u,onError:c},y=>((async()=>{try{const v=(()=>{if(e.transport.type==="fallback"){const I=e.transport.transports.find(T=>T.config.type==="webSocket"||T.config.type==="ipc");return I?I.value:e.transport}return e.transport})(),E=i?Xt({abi:n,eventName:i,args:s}):[],{unsubscribe:P}=await v.subscribe({params:["logs",{address:r,topics:E}],onData(I){var k;if(!x)return;const T=I.result;try{const{eventName:B,args:z}=Ps({abi:n,data:T.data,topics:T.topics,strict:h}),_=je(T,{args:z,eventName:B});y.onLogs([_])}catch(B){let z,_;if(B instanceof Lt||B instanceof Mn){if(h)return;z=B.abiItem.name,_=(k=B.abiItem.inputs)==null?void 0:k.some(C=>!("name"in C&&C.name))}const q=je(T,{args:_?[]:{},eventName:z});y.onLogs([q])}},onError(I){var T;(T=y.onError)==null||T.call(y,I)}});w=P,x||w()}catch(v){c==null||c(v)}})(),()=>w()))})()}class ht extends ${constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class xn extends ${constructor({docsPath:t,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:t,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function Fa({chain:e,currentChainId:t}){if(!e)throw new Id;if(t!==e.id)throw new Pd({chain:e,currentChainId:t})}function qa(e,{docsPath:t,...n}){const r=(()=>{const s=jn(e,n);return s instanceof Wt?e:s})();return new lf(r,{docsPath:t,...n})}async function zs(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const wr=new _n(128);async function er(e,t){var x,w,y,v;const{account:n=e.account,chain:r=e.chain,accessList:s,authorizationList:o,blobs:i,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:l,type:p,value:b,...g}=t;if(typeof n>"u")throw new ht({docsPath:"/docs/actions/wallet/sendTransaction"});const m=n?Y(n):null;try{ft(t);const E=await(async()=>{if(t.to)return t.to;if(t.to!==null&&o&&o.length>0)return await ls({authorization:o[0]}).catch(()=>{throw new $("`to` is required. Could not infer from `authorizationList`.")})})();if((m==null?void 0:m.type)==="json-rpc"||m===null){let P;r!==null&&(P=await L(e,St,"getChainId")({}),Fa({currentChainId:P,chain:r}));const I=(y=(w=(x=e.chain)==null?void 0:x.formatters)==null?void 0:w.transactionRequest)==null?void 0:y.format,k=(I||Qe)({...tn(g,{format:I}),accessList:s,authorizationList:o,blobs:i,chainId:P,data:a,from:m==null?void 0:m.address,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:l,to:E,type:p,value:b}),B=wr.get(e.uid),z=B?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:z,params:[k]},{retryCount:0})}catch(_){if(B===!1)throw _;const q=_;if(q.name==="InvalidInputRpcError"||q.name==="InvalidParamsRpcError"||q.name==="MethodNotFoundRpcError"||q.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[k]},{retryCount:0}).then(C=>(wr.set(e.uid,!0),C)).catch(C=>{const N=C;throw N.name==="MethodNotFoundRpcError"||N.name==="MethodNotSupportedRpcError"?(wr.set(e.uid,!1),q):N});throw q}}if((m==null?void 0:m.type)==="local"){const P=await L(e,Hn,"prepareTransactionRequest")({account:m,accessList:s,authorizationList:o,blobs:i,chain:r,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:h,nonce:l,nonceManager:m.nonceManager,parameters:[...pa,"sidecars"],type:p,value:b,...g,to:E}),I=(v=r==null?void 0:r.serializers)==null?void 0:v.transaction,T=await m.signTransaction(P,{serializer:I});return await L(e,zs,"sendRawTransaction")({serializedTransaction:T})}throw(m==null?void 0:m.type)==="smart"?new xn({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new xn({docsPath:"/docs/actions/wallet/sendTransaction",type:m==null?void 0:m.type})}catch(E){throw E instanceof xn?E:qa(E,{...t,account:m,chain:t.chain||void 0})}}async function ja(e,t){const{abi:n,account:r=e.account,address:s,args:o,dataSuffix:i,functionName:a,...c}=t;if(typeof r>"u")throw new ht({docsPath:"/docs/contract/writeContract"});const u=r?Y(r):null,f=xe({abi:n,args:o,functionName:a});try{return await L(e,er,"sendTransaction")({data:`${f}${i?i.replace("0x",""):""}`,to:s,account:u,...c})}catch(d){throw st(d,{abi:n,address:s,args:o,docsPath:"/docs/contract/writeContract",functionName:a,sender:u==null?void 0:u.address})}}function Mm({abi:e,address:t,client:n}){const r=n,[s,o]=(()=>r?"public"in r&&"wallet"in r?[r.public,r.wallet]:"public"in r?[r.public,void 0]:"wallet"in r?[void 0,r.wallet]:[r,r]:[void 0,void 0])(),i=s!=null,a=o!=null,c={};let u=!1,f=!1,d=!1;for(const h of e)if(h.type==="function"?h.stateMutability==="view"||h.stateMutability==="pure"?u=!0:f=!0:h.type==="event"&&(d=!0),u&&f&&d)break;return i&&(u&&(c.read=new Proxy({},{get(h,l){return(...p)=>{const{args:b,options:g}=yn(p);return L(s,Pe,"readContract")({abi:e,address:t,functionName:l,args:b,...g})}}})),f&&(c.simulate=new Proxy({},{get(h,l){return(...p)=>{const{args:b,options:g}=yn(p);return L(s,Ma,"simulateContract")({abi:e,address:t,functionName:l,args:b,...g})}}})),d&&(c.createEventFilter=new Proxy({},{get(h,l){return(...p)=>{const b=e.find(x=>x.type==="event"&&x.name===l),{args:g,options:m}=xr(p,b);return L(s,fs,"createContractEventFilter")({abi:e,address:t,eventName:l,args:g,...m})}}}),c.getEvents=new Proxy({},{get(h,l){return(...p)=>{const b=e.find(x=>x.type==="event"&&x.name===l),{args:g,options:m}=xr(p,b);return L(s,$s,"getContractEvents")({abi:e,address:t,eventName:l,args:g,...m})}}}),c.watchEvent=new Proxy({},{get(h,l){return(...p)=>{const b=e.find(x=>x.type==="event"&&x.name===l),{args:g,options:m}=xr(p,b);return L(s,Ua,"watchContractEvent")({abi:e,address:t,eventName:l,args:g,...m})}}}))),a&&f&&(c.write=new Proxy({},{get(h,l){return(...p)=>{const{args:b,options:g}=yn(p);return L(o,ja,"writeContract")({abi:e,address:t,functionName:l,args:b,...g})}}})),(i||a)&&f&&(c.estimateGas=new Proxy({},{get(h,l){return(...p)=>{const{args:b,options:g}=yn(p);return L(s??o,ya,"estimateContractGas")({abi:e,address:t,functionName:l,args:b,...g,account:g.account??o.account})}}})),c.address=t,c.abi=e,c}function yn(e){const t=e.length&&Array.isArray(e[0]),n=t?e[0]:[],r=(t?e[1]:e[0])??{};return{args:n,options:r}}function xr(e,t){let n=!1;Array.isArray(e[0])?n=!0:e.length===1?n=t.inputs.some(o=>o.indexed):e.length===2&&(n=!0);const r=n?e[0]:void 0,s=(n?e[1]:e[0])??{};return{args:r,options:s}}class Rd extends ${constructor(t){super(`Call bundle failed with status: ${t.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=t}}const Ga={"0x0":"reverted","0x1":"success"};function Da(e){const t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(n=>je(n)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?V(e.transactionIndex):null,status:e.status?Ga[e.status]:null,type:e.type?ia[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t}const Um=Gn("transactionReceipt",Da),Va="0x5792579257925792579257925792579257925792579257925792579257925792",Ha=A(0,{size:32});async function Od(e,t){const{account:n=e.account,capabilities:r,chain:s=e.chain,experimental_fallback:o,experimental_fallbackDelay:i=32,forceAtomic:a=!1,id:c,version:u="2.0.0"}=t,f=n?Y(n):null,d=t.calls.map(h=>{const l=h,p=l.abi?xe({abi:l.abi,functionName:l.functionName,args:l.args}):l.data;return{data:l.dataSuffix&&p?he([p,l.dataSuffix]):p,to:l.to,value:l.value?A(l.value):void 0}});try{const h=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:d,capabilities:r,chainId:A(s.id),from:f==null?void 0:f.address,id:c,version:u}]},{retryCount:0});return typeof h=="string"?{id:h}:h}catch(h){const l=h;if(o&&(l.name==="MethodNotFoundRpcError"||l.name==="MethodNotSupportedRpcError"||l.name==="UnknownRpcError"||l.details.toLowerCase().includes("does not exist / is not available")||l.details.toLowerCase().includes("missing or invalid. request()")||l.details.toLowerCase().includes("did not match any variant of untagged enum")||l.details.toLowerCase().includes("account upgraded to unsupported contract")||l.details.toLowerCase().includes("eip-7702 not supported")||l.details.toLowerCase().includes("unsupported wc_ method")||l.details.toLowerCase().includes("feature toggled misconfigured"))){if(r&&Object.values(r).some(x=>!x.optional)){const x="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new p0(new $(x,{details:x}))}if(a&&d.length>1){const m="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new m0(new $(m,{details:m}))}const p=[];for(const m of d){const x=er(e,{account:f,chain:s,data:m.data,to:m.to,value:m.value?j(m.value):void 0});p.push(x),i>0&&await new Promise(w=>setTimeout(w,i))}const b=await Promise.allSettled(p);if(b.every(m=>m.status==="rejected"))throw b[0].reason;const g=b.map(m=>m.status==="fulfilled"?m.value:Ha);return{id:he([...g,A(s.id,{size:32}),Va])}}throw qa(h,{...t,account:f,chain:t.chain})}}async function Wa(e,t){async function n(f){if(f.endsWith(Va.slice(2))){const h=ze(Mt(f,-64,-32)),l=Mt(f,0,-64).slice(2).match(/.{1,64}/g),p=await Promise.all(l.map(g=>Ha.slice(2)!==g?e.request({method:"eth_getTransactionReceipt",params:[`0x${g}`]},{dedupe:!0}):void 0)),b=(()=>p.some(g=>g===null)?100:p.every(g=>(g==null?void 0:g.status)==="0x1")?200:p.every(g=>(g==null?void 0:g.status)==="0x0")?500:600)();return{atomic:!1,chainId:V(h),receipts:p.filter(Boolean),status:b,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[f]})}const{atomic:r=!1,chainId:s,receipts:o,version:i="2.0.0",...a}=await n(t.id),[c,u]=(()=>{const f=a.status;return f>=100&&f<200?["pending",f]:f>=200&&f<300?["success",f]:f>=300&&f<700?["failure",f]:f==="CONFIRMED"?["success",200]:f==="PENDING"?["pending",100]:[void 0,f]})();return{...a,atomic:r,chainId:s?V(s):void 0,receipts:(o==null?void 0:o.map(f=>({...f,blockNumber:j(f.blockNumber),gasUsed:j(f.gasUsed),status:Ga[f.status]})))??[],statusCode:u,status:c,version:i}}async function Ld(e,t){const{id:n,pollingInterval:r=e.pollingInterval,status:s=({statusCode:b})=>b===200||b>=300,retryCount:o=4,retryDelay:i=({count:b})=>~~(1<<b)*200,timeout:a=6e4,throwOnFailure:c=!1}=t,u=le(["waitForCallsStatus",e.uid,n]),{promise:f,resolve:d,reject:h}=hi();let l;const p=Ge(u,{resolve:d,reject:h},b=>{const g=Ct(async()=>{const m=x=>{clearTimeout(l),g(),x(),p()};try{const x=await zr(async()=>{const w=await L(e,Wa,"getCallsStatus")({id:n});if(c&&w.status==="failure")throw new Rd(w);return w},{retryCount:o,delay:i});if(!s(x))return;m(()=>b.resolve(x))}catch(x){m(()=>b.reject(x))}},{interval:r,emitOnBegin:!0});return g});return l=a?setTimeout(()=>{p(),clearTimeout(l),h(new Md({id:n}))},a):void 0,await f}class Md extends ${constructor({id:t}){super(`Timed out while waiting for call bundle with id "${t}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}function _s(e){const{batch:t,chain:n,ccipRead:r,key:s="base",name:o="Base Client",type:i="base"}=e,a=e.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),c=(n==null?void 0:n.blockTime)??12e3,u=Math.min(Math.max(Math.floor(c/2),500),4e3),f=e.pollingInterval??u,d=e.cacheTime??f,h=e.account?Y(e.account):void 0,{config:l,request:p,value:b}=e.transport({chain:n,pollingInterval:f}),g={...l,...b},m={account:h,batch:t,cacheTime:d,ccipRead:r,chain:n,key:s,name:o,pollingInterval:f,request:p,transport:g,type:i,uid:y0(),...a?{experimental_blockTag:a}:{}};function x(w){return y=>{const v=y(w);for(const P in m)delete v[P];const E={...w,...v};return Object.assign(E,{extend:x(E)})}}return Object.assign(m,{extend:x(m)})}function Fm(){return null}function Rs(e){var n,r,s,o,i,a;if(!(e instanceof $))return!1;const t=e.walk(c=>c instanceof qr);return t instanceof qr?((n=t.data)==null?void 0:n.errorName)==="HttpError"||((r=t.data)==null?void 0:r.errorName)==="ResolverError"||((s=t.data)==null?void 0:s.errorName)==="ResolverNotContract"||((o=t.data)==null?void 0:o.errorName)==="ResolverNotFound"||((i=t.data)==null?void 0:i.errorName)==="ReverseAddressMismatch"||((a=t.data)==null?void 0:a.errorName)==="UnsupportedResolverProfile":!1}function Ud(e){const{abi:t,data:n}=e,r=Ye(n,0,4),s=t.find(o=>o.type==="function"&&r===Jt($e(o)));if(!s)throw new Iu(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?ut(s.inputs,Ye(n,4)):void 0}}const vr="/docs/contract/encodeErrorResult";function Go(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const c=ct({abi:t,args:r,name:n});if(!c)throw new vo(n,{docsPath:vr});s=c}if(s.type!=="error")throw new vo(void 0,{docsPath:vr});const o=$e(s),i=Jt(o);let a="0x";if(r&&r.length>0){if(!s.inputs)throw new Eu(s.name,{docsPath:vr});a=Ve(s.inputs,r)}return we([i,a])}const Er="/docs/contract/encodeFunctionResult";function Fd(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const i=ct({abi:t,name:n});if(!i)throw new It(n,{docsPath:Er});s=i}if(s.type!=="function")throw new It(void 0,{docsPath:Er});if(!s.outputs)throw new Oi(s.name,{docsPath:Er});const o=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new Mi(r)})();return Ve(s.outputs,o)}const cn="x-batch-gateway:true";async function Za(e){const{data:t,ccipRequest:n}=e,{args:[r]}=Ud({abi:_r,data:t}),s=[],o=[];return await Promise.all(r.map(async(i,a)=>{try{o[a]=i.urls.includes(cn)?await Za({data:i.data,ccipRequest:n}):await n(i),s[a]=!1}catch(c){s[a]=!0,o[a]=qd(c)}})),Fd({abi:_r,functionName:"query",result:[s,o]})}function qd(e){return e.name==="HttpRequestError"&&e.status?Go({abi:_r,errorName:"HttpError",args:[e.status,e.shortMessage]}):Go({abi:[Vi],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function Ka(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return U(t)?t:null}function Vr(e){let t=new Uint8Array(32).fill(0);if(!e)return H(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=Ka(n[r]),o=s?me(s):K(wt(n[r]),"bytes");t=K(he([t,o]),"bytes")}return H(t)}function jd(e){return`[${e.slice(2)}]`}function Gd(e){const t=new Uint8Array(32).fill(0);return e?Ka(e)||K(wt(e)):H(t)}function Os(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(wt(t).byteLength+2);let r=0;const s=t.split(".");for(let o=0;o<s.length;o++){let i=wt(s[o]);i.byteLength>255&&(i=wt(jd(Gd(s[o])))),n[r]=i.length,n.set(i,r+1),r+=i.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function Dd(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:o,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Tt({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c==null?void 0:c.ensTlds;if(f&&!f.some(h=>o.endsWith(h)))return null;const d=(()=>s!=null?[Vr(o),BigInt(s)]:[Vr(o)])();try{const h=xe({abi:lo,functionName:"addr",args:d}),l={address:u,abi:bi,functionName:"resolveWithGateways",args:[ye(Os(o)),h,i??[cn]],blockNumber:n,blockTag:r},b=await L(e,Pe,"readContract")(l);if(b[0]==="0x")return null;const g=dt({abi:lo,args:d,functionName:"addr",data:b[0]});return g==="0x"||ze(g)==="0x00"?null:g}catch(h){if(a)throw h;if(Rs(h))return null;throw h}}class Vd extends ${constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class _t extends ${constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class Ls extends ${constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class Hd extends ${constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}class Wd extends ${constructor({chainId:t}){super(`Invalid ENSIP-11 chainId: ${t}. Must be between 0 and 0x7fffffff, or 1.`,{name:"EnsInvalidChainIdError"})}}const Zd=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Kd=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Yd=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Jd=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function Xd(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function Do(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Ya({uri:e,gatewayUrls:t}){const n=Yd.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Do(t==null?void 0:t.ipfs,"https://ipfs.io"),s=Do(t==null?void 0:t.arweave,"https://arweave.net"),o=e.match(Zd),{protocol:i,subpath:a,target:c,subtarget:u=""}=(o==null?void 0:o.groups)||{},f=i==="ipns:/"||a==="ipns/",d=i==="ipfs:/"||a==="ipfs/"||Kd.test(e);if(e.startsWith("http")&&!f&&!d){let l=e;return t!=null&&t.arweave&&(l=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:l,isOnChain:!1,isEncoded:!1}}if((f||d)&&c)return{uri:`${r}/${f?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(i==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let h=e.replace(Jd,"");if(h.startsWith("<svg")&&(h=`data:image/svg+xml;base64,${btoa(h)}`),h.startsWith("data:")||h.startsWith("{"))return{uri:h,isOnChain:!0,isEncoded:!1};throw new Ls({uri:e})}function Ja(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new Vd({data:e});return e.image||e.image_url||e.image_data}async function Qd({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await Ms({gatewayUrls:e,uri:Ja(n)})}catch{throw new Ls({uri:t})}}async function Ms({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=Ya({uri:t,gatewayUrls:e});if(r||await Xd(n))return n;throw new Ls({uri:t})}function el(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[o,i]=n.split(":"),[a,c]=r.split(":");if(!o||o.toLowerCase()!=="eip155")throw new _t({reason:"Only EIP-155 supported"});if(!i)throw new _t({reason:"Chain ID not found"});if(!c)throw new _t({reason:"Contract address not found"});if(!s)throw new _t({reason:"Token ID not found"});if(!a)throw new _t({reason:"ERC namespace not found"});return{chainID:Number.parseInt(i,10),namespace:a.toLowerCase(),contractAddress:c,tokenID:s}}async function tl(e,{nft:t}){if(t.namespace==="erc721")return Pe(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return Pe(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new Hd({namespace:t.namespace})}async function nl(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?rl(e,{gatewayUrls:t,record:n}):Ms({uri:n,gatewayUrls:t})}async function rl(e,{gatewayUrls:t,record:n}){const r=el(n),s=await tl(e,{nft:r}),{uri:o,isOnChain:i,isEncoded:a}=Ya({uri:s,gatewayUrls:t});if(i&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const u=a?atob(o.replace("data:application/json;base64,","")):o,f=JSON.parse(u);return Ms({uri:Ja(f),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),Qd({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,c)})}async function Xa(e,t){const{blockNumber:n,blockTag:r,key:s,name:o,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Tt({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c==null?void 0:c.ensTlds;if(f&&!f.some(d=>o.endsWith(d)))return null;try{const d={address:u,abi:bi,args:[ye(Os(o)),xe({abi:ho,functionName:"text",args:[Vr(o),s]}),i??[cn]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},l=await L(e,Pe,"readContract")(d);if(l[0]==="0x")return null;const p=dt({abi:ho,functionName:"text",data:l[0]});return p===""?null:p}catch(d){if(a)throw d;if(Rs(d))return null;throw d}}async function sl(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:o,strict:i,universalResolverAddress:a}){const c=await L(e,Xa,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:a,gatewayUrls:o,strict:i});if(!c)return null;try{return await nl(e,{record:c,gatewayUrls:r})}catch{return null}}async function ol(e,t){const{address:n,blockNumber:r,blockTag:s,coinType:o=60n,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Tt({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{const f={address:u,abi:g0,args:[n,o,i??[cn]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},d=L(e,Pe,"readContract"),[h]=await d(f);return h||null}catch(f){if(a)throw f;if(Rs(f))return null;throw f}}async function il(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:o}=e,i=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!o)throw new Error("client chain not configured. universalResolverAddress is required.");return Tt({blockNumber:n,chain:o,contract:"ensUniversalResolver"})})(),a=o==null?void 0:o.ensTlds;if(a&&!a.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${a==null?void 0:a.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);const[c]=await L(e,Pe,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[ye(Os(s))],blockNumber:n,blockTag:r});return c}async function Qa(e,t){var g,m,x;const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:o,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:h,value:l,...p}=t,b=n?Y(n):void 0;try{ft(t);const y=(typeof r=="bigint"?A(r):void 0)||s,v=(x=(m=(g=e.chain)==null?void 0:g.formatters)==null?void 0:m.transactionRequest)==null?void 0:x.format,P=(v||Qe)({...tn(p,{format:v}),from:b==null?void 0:b.address,blobs:o,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:h,value:l}),I=await e.request({method:"eth_createAccessList",params:[P,y]});return{accessList:I.accessList,gasUsed:BigInt(I.gasUsed)}}catch(w){throw Oa(w,{...t,account:b,chain:e.chain})}}async function al(e){const t=Fn(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function ec(e,{address:t,args:n,event:r,events:s,fromBlock:o,strict:i,toBlock:a}={}){const c=s??(r?[r]:void 0),u=Fn(e,{method:"eth_newFilter"});let f=[];c&&(f=[c.flatMap(l=>Xt({abi:[l],eventName:l.name,args:n}))],r&&(f=f[0]));const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof o=="bigint"?A(o):o,toBlock:typeof a=="bigint"?A(a):a,...f.length?{topics:f}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:o,id:d,request:u(d),strict:!!i,toBlock:a,type:"event"}}async function tc(e){const t=Fn(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function cl(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function ul(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?A(n):void 0;let o;return t?o=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):o=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),V(o)}async function Hr(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?A(n):void 0,o=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(o!=="0x")return o}class fl extends ${constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function dl(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[o,i,a,c,u,f,d]=await L(e,Pe,"readContract")({abi:ll,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:i,version:a,chainId:Number(c),verifyingContract:u,salt:f},extensions:d,fields:o}}catch(o){const i=o;throw i.name==="ContractFunctionExecutionError"&&i.cause.name==="ContractFunctionZeroDataError"?new fl({address:n}):i}}const ll=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function hl(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function bl(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const o=typeof n=="bigint"?A(n):void 0,i=await e.request({method:"eth_feeHistory",params:[A(t),o||r,s]},{dedupe:!!o});return hl(i)}async function pl(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(o=>je(o));return t.abi?Is({abi:t.abi,logs:s,strict:n}):s}function qm(e,t){if(e.length!==t.length)throw new zi({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],o=t[r];n.push(nc(s,o))}return we(n)}function nc(e,t,n=!1){if(e==="address"){const i=t;if(!X(i))throw new ae({address:i});return wn(i.toLowerCase(),{size:n?32:null})}if(e==="string")return Ot(t);if(e==="bytes")return t;if(e==="bool")return wn(ci(t),{size:n?32:1});const r=e.match(is);if(r){const[i,a,c="256"]=r,u=Number.parseInt(c,10)/8;return A(t,{size:n?32:u,signed:a==="int"})}const s=e.match(Gi);if(s){const[i,a]=s;if(Number.parseInt(a,10)!==(t.length-2)/2)throw new Li({expectedSize:Number.parseInt(a,10),givenSize:(t.length-2)/2});return wn(t,{dir:"right",size:n?32:null})}const o=e.match(Lu);if(o&&Array.isArray(t)){const[i,a]=o,c=[];for(let u=0;u<t.length;u++)c.push(nc(a,t[u],!0));return c.length===0?"0x":we(c)}throw new Tu(e)}function Vo(e){return!e||typeof e!="object"||!("BYTES_PER_ELEMENT"in e)?!1:e.BYTES_PER_ELEMENT===1&&e.constructor.name==="Uint8Array"}function jm(e){return e.opcode==="CREATE2"?yl(e):ml(e)}function ml(e){const t=me(_e(e.from));let n=me(e.nonce);return n[0]===0&&(n=new Uint8Array([])),_e(`0x${K(Re([t,n],"bytes")).slice(26)}`)}function yl(e){const t=me(_e(e.from)),n=wn(Vo(e.salt)?e.salt:me(e.salt),{size:32}),r=(()=>"bytecodeHash"in e?Vo(e.bytecodeHash)?e.bytecodeHash:me(e.bytecodeHash):K(e.bytecode,"bytes"))();return _e(Ye(K(he([me("0xff"),t,n,r])),12))}function rc(e){const{authorizationList:t}=e;if(t)for(const n of t){const{chainId:r}=n,s=n.address;if(!X(s))throw new ae({address:s});if(r<0)throw new Yn({chainId:r})}tr(e)}function sc(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new ha;for(const n of t){const r=Z(n),s=V(Ye(n,0,1));if(r!==32)throw new _f({hash:n,size:r});if(s!==la)throw new Rf({hash:n,version:s})}}tr(e)}function tr(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:s}=e;if(t<=0)throw new Yn({chainId:t});if(s&&!X(s))throw new ae({address:s});if(r&&r>Dn)throw new Pt({maxFeePerGas:r});if(n&&r&&n>r)throw new Pn({maxFeePerGas:r,maxPriorityFeePerGas:n})}function oc(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:o}=e;if(t<=0)throw new Yn({chainId:t});if(o&&!X(o))throw new ae({address:o});if(n||s)throw new $("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>Dn)throw new Pt({maxFeePerGas:r})}function ic(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:o}=e;if(o&&!X(o))throw new ae({address:o});if(typeof t<"u"&&t<=0)throw new Yn({chainId:t});if(n||s)throw new $("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>Dn)throw new Pt({maxFeePerGas:r})}function nr(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:s}=e[n];for(let o=0;o<s.length;o++)if(s[o].length-2!==64)throw new df({storageKey:s[o]});if(!X(r,{strict:!1}))throw new ae({address:r});t.push([r,s])}return t}function gl(e,t){const n=ba(e);return n==="eip1559"?vl(e,t):n==="eip2930"?El(e,t):n==="eip4844"?xl(e,t):n==="eip7702"?wl(e,t):Pl(e,t)}function wl(e,t){const{authorizationList:n,chainId:r,gas:s,nonce:o,to:i,value:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:f,data:d}=e;rc(e);const h=nr(f),l=Il(n);return we(["0x04",Re([A(r),o?A(o):"0x",u?A(u):"0x",c?A(c):"0x",s?A(s):"0x",i??"0x",a?A(a):"0x",d??"0x",h,l,...un(e,t)])])}function xl(e,t){const{chainId:n,gas:r,nonce:s,to:o,value:i,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:f,data:d}=e;sc(e);let h=e.blobVersionedHashes,l=e.sidecars;if(e.blobs&&(typeof h>"u"||typeof l>"u")){const w=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(E=>H(E)),y=e.kzg,v=gs({blobs:w,kzg:y});if(typeof h>"u"&&(h=ua({commitments:v})),typeof l>"u"){const E=ws({blobs:w,commitments:v,kzg:y});l=vs({blobs:w,commitments:v,proofs:E})}}const p=nr(f),b=[A(n),s?A(s):"0x",u?A(u):"0x",c?A(c):"0x",r?A(r):"0x",o??"0x",i?A(i):"0x",d??"0x",p,a?A(a):"0x",h??[],...un(e,t)],g=[],m=[],x=[];if(l)for(let w=0;w<l.length;w++){const{blob:y,commitment:v,proof:E}=l[w];g.push(y),m.push(v),x.push(E)}return we(["0x03",Re(l?[b,g,m,x]:b)])}function vl(e,t){const{chainId:n,gas:r,nonce:s,to:o,value:i,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:u,data:f}=e;tr(e);const d=nr(u),h=[A(n),s?A(s):"0x",c?A(c):"0x",a?A(a):"0x",r?A(r):"0x",o??"0x",i?A(i):"0x",f??"0x",d,...un(e,t)];return we(["0x02",Re(h)])}function El(e,t){const{chainId:n,gas:r,data:s,nonce:o,to:i,value:a,accessList:c,gasPrice:u}=e;oc(e);const f=nr(c),d=[A(n),o?A(o):"0x",u?A(u):"0x",r?A(r):"0x",i??"0x",a?A(a):"0x",s??"0x",f,...un(e,t)];return we(["0x01",Re(d)])}function Pl(e,t){const{chainId:n=0,gas:r,data:s,nonce:o,to:i,value:a,gasPrice:c}=e;ic(e);let u=[o?A(o):"0x",c?A(c):"0x",r?A(r):"0x",i??"0x",a?A(a):"0x",s??"0x"];if(t){const f=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const l=27n+(t.v===27n?0n:1n);if(t.v!==l)throw new Xi({v:t.v});return l})(),d=ze(t.r),h=ze(t.s);u=[...u,A(f),d==="0x00"?"0x":d,h==="0x00"?"0x":h]}else n>0&&(u=[...u,A(n),"0x","0x"]);return Re(u)}function un(e,t){const n=t??e,{v:r,yParity:s}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof s>"u")return[];const o=ze(n.r),i=ze(n.s);return[(()=>typeof s=="number"?s?A(1):"0x":r===0n?"0x":r===1n?A(1):r===27n?"0x":A(1))(),o==="0x00"?"0x":o,i==="0x00"?"0x":i]}function Il(e){if(!e||e.length===0)return[];const t=[];for(const n of e){const{chainId:r,nonce:s,...o}=n,i=n.address;t.push([r?ye(r):"0x",i,s?ye(s):"0x",...un({},o)])}return t}async function Al({address:e,authorization:t,signature:n}){return He(_e(e),await ls({authorization:t,signature:n}))}class $l extends ${constructor({callbackSelector:t,cause:n,data:r,extraData:s,sender:o,urls:i}){var a;super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],(a=n.metaMessages)!=null&&a.length?"":[],"Offchain Gateway Call:",i&&["  Gateway URL(s):",...i.map(c=>`    ${pi(c)}`)],`  Sender: ${o}`,`  Data: ${r}`,`  Callback selector: ${t}`,`  Extra data: ${s}`].flat(),name:"OffchainLookupError"})}}class Bl extends ${constructor({result:t,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${pi(n)}`,`Response: ${le(t)}`],name:"OffchainLookupResponseMalformedError"})}}class Sl extends ${constructor({sender:t,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${t}`],name:"OffchainLookupSenderMismatchError"})}}const Tl="0x556f1830",ac={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function Cl(e,{blockNumber:t,blockTag:n,data:r,to:s}){const{args:o}=Yi({data:r,abi:[ac]}),[i,a,c,u,f]=o,{ccipRead:d}=e,h=d&&typeof(d==null?void 0:d.request)=="function"?d.request:cc;try{if(!He(s,i))throw new Sl({sender:i,to:s});const l=a.includes(cn)?await Za({data:c,ccipRequest:h}):await h({data:c,sender:i,urls:a}),{data:p}=await on(e,{blockNumber:t,blockTag:n,data:he([u,Ve([{type:"bytes"},{type:"bytes"}],[l,f])]),to:s});return p}catch(l){throw new $l({callbackSelector:u,cause:l,data:r,extraData:f,sender:i,urls:a})}}async function cc({data:e,sender:t,urls:n}){var s;let r=new Error("An unknown error occurred.");for(let o=0;o<n.length;o++){const i=n[o],a=i.includes("{data}")?"GET":"POST",c=a==="POST"?{data:e,sender:t}:void 0,u=a==="POST"?{"Content-Type":"application/json"}:{};try{const f=await fetch(i.replace("{sender}",t.toLowerCase()).replace("{data}",e),{body:JSON.stringify(c),headers:u,method:a});let d;if((s=f.headers.get("Content-Type"))!=null&&s.startsWith("application/json")?d=(await f.json()).data:d=await f.text(),!f.ok){r=new bo({body:c,details:d!=null&&d.error?le(d.error):f.statusText,headers:f.headers,status:f.status,url:i});continue}if(!U(d)){r=new Bl({result:d,url:i});continue}return d}catch(f){r=new bo({body:c,details:f.message,url:i})}}throw r}const Nl=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:cc,offchainLookup:Cl,offchainLookupAbiItem:ac,offchainLookupSignature:Tl},Symbol.toStringTag,{value:"Module"}));function Gm({chains:e,id:t}){return e.find(n=>n.id===t)}function uc(e,t="hex"){const n=(()=>{if(typeof e=="string"){if(e.length>3&&e.length%2!==0)throw new w0(e);return de(e)}return e})(),r=At(n,{recursiveReadLimit:Number.POSITIVE_INFINITY});return fc(r,t)}function fc(e,t="hex"){if(e.bytes.length===0)return t==="hex"?H(e.bytes):e.bytes;const n=e.readByte();if(n<128&&e.decrementPosition(1),n<192){const s=Ho(e,n,128),o=e.readBytes(s);return t==="hex"?H(o):o}const r=Ho(e,n,192);return kl(e,r,t)}function Ho(e,t,n){if(n===128&&t<128)return 1;if(t<=n+55)return t-n;if(t===n+55+1)return e.readUint8();if(t===n+55+2)return e.readUint16();if(t===n+55+3)return e.readUint24();if(t===n+55+4)return e.readUint32();throw new $("Invalid RLP prefix")}function kl(e,t,n){const r=e.position,s=[];for(;e.position-r<t;)s.push(fc(e,n));return s}function zl(e){return U(e)&&Z(e)===32}const _l=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),dc=(()=>Uint8Array.from(new Array(16).fill(0).map((e,t)=>t)))(),Rl=(()=>dc.map(e=>(9*e+5)%16))(),lc=(()=>{const n=[[dc],[Rl]];for(let r=0;r<4;r++)for(let s of n)s.push(s[r].map(o=>_l[o]));return n})(),hc=(()=>lc[0])(),bc=(()=>lc[1])(),pc=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>Uint8Array.from(e)),Ol=hc.map((e,t)=>e.map(n=>pc[t][n])),Ll=bc.map((e,t)=>e.map(n=>pc[t][n])),Ml=Uint32Array.from([0,1518500249,1859775393,2400959708,2840853838]),Ul=Uint32Array.from([1352829926,1548603684,1836072691,2053994217,0]);function Wo(e,t,n,r){return e===0?t^n^r:e===1?t&n|~t&r:e===2?(t|~n)^r:e===3?t&r|n&~r:t^(n|~r)}const gn=new Uint32Array(16);class Fl extends v0{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:n,h2:r,h3:s,h4:o}=this;return[t,n,r,s,o]}set(t,n,r,s,o){this.h0=t|0,this.h1=n|0,this.h2=r|0,this.h3=s|0,this.h4=o|0}process(t,n){for(let l=0;l<16;l++,n+=4)gn[l]=t.getUint32(n,!0);let r=this.h0|0,s=r,o=this.h1|0,i=o,a=this.h2|0,c=a,u=this.h3|0,f=u,d=this.h4|0,h=d;for(let l=0;l<5;l++){const p=4-l,b=Ml[l],g=Ul[l],m=hc[l],x=bc[l],w=Ol[l],y=Ll[l];for(let v=0;v<16;v++){const E=bn(r+Wo(l,o,a,u)+gn[m[v]]+b,w[v])+d|0;r=d,d=u,u=bn(a,10)|0,a=o,o=E}for(let v=0;v<16;v++){const E=bn(s+Wo(p,i,c,f)+gn[x[v]]+g,y[v])+h|0;s=h,h=f,f=bn(c,10)|0,c=i,i=E}}this.set(this.h1+a+f|0,this.h2+u+h|0,this.h3+d+s|0,this.h4+r+i|0,this.h0+o+c|0)}roundClean(){po(gn)}destroy(){this.destroyed=!0,po(this.buffer),this.set(0,0,0,0,0)}}const ql=x0(()=>new Fl),jl=ql;function Dm(e,t){const n=t||"hex",r=jl(U(e,{strict:!1})?me(e):e);return n==="bytes"?r:ye(r)}function Gl(e){const{source:t}=e,n=new Map,r=new _n(8192),s=new Map,o=({address:i,chainId:a})=>`${i}.${a}`;return{async consume({address:i,chainId:a,client:c}){const u=o({address:i,chainId:a}),f=this.get({address:i,chainId:a,client:c});this.increment({address:i,chainId:a});const d=await f;return await t.set({address:i,chainId:a},d),r.set(u,d),d},async increment({address:i,chainId:a}){const c=o({address:i,chainId:a}),u=n.get(c)??0;n.set(c,u+1)},async get({address:i,chainId:a,client:c}){const u=o({address:i,chainId:a});let f=s.get(u);return f||(f=(async()=>{try{const h=await t.get({address:i,chainId:a,client:c}),l=r.get(u)??0;return l>0&&h<=l?l+1:(r.delete(u),h)}finally{this.reset({address:i,chainId:a})}})(),s.set(u,f)),(n.get(u)??0)+await f},reset({address:i,chainId:a}){const c=o({address:i,chainId:a});n.delete(c),s.delete(c)}}}function Dl(){return{async get(e){const{address:t,client:n}=e;return Vn(n,{address:t,blockTag:"pending"})},set(){}}}const Vm=Gl({source:Dl()}),Pr=new Map;async function Vl(e){const{getSocket:t,keepAlive:n=!0,key:r="socket",reconnect:s=!0,url:o}=e,{interval:i=3e4}=typeof n=="object"?n:{},{attempts:a=5,delay:c=2e3}=typeof s=="object"?s:{},u=JSON.stringify({keepAlive:n,key:r,url:o,reconnect:s});let f=Pr.get(u);if(f)return f;let d=0;const{schedule:h}=di({id:u,fn:async()=>{const b=new Map,g=new Map;let m,x,w,y=!1;function v(){if(s&&d<a){if(y)return;y=!0,d++,x==null||x.close(),setTimeout(async()=>{await E().catch(console.error),y=!1},c)}else b.clear(),g.clear()}async function E(){const P=await t({onClose(){var I,T;for(const k of b.values())(I=k.onError)==null||I.call(k,new An({url:o}));for(const k of g.values())(T=k.onError)==null||T.call(k,new An({url:o}));v()},onError(I){var T,k;m=I;for(const B of b.values())(T=B.onError)==null||T.call(B,m);for(const B of g.values())(k=B.onError)==null||k.call(B,m);v()},onOpen(){m=void 0,d=0},onResponse(I){const T=I.method==="eth_subscription",k=T?I.params.subscription:I.id,B=T?g:b,z=B.get(k);z&&z.onResponse(I),T||B.delete(k)}});if(x=P,n&&(w&&clearInterval(w),w=setInterval(()=>{var I;return(I=x.ping)==null?void 0:I.call(x)},i)),s&&g.size>0){const I=g.entries();for(const[T,{onResponse:k,body:B,onError:z}]of I)B&&(g.delete(T),f==null||f.request({body:B,onResponse:k,onError:z}))}return P}return await E(),m=void 0,f={close(){w&&clearInterval(w),x.close(),Pr.delete(u)},get socket(){return x},request({body:P,onError:I,onResponse:T}){m&&I&&I(m);const k=P.id??E0.take(),B=z=>{var _;typeof z.id=="number"&&k!==z.id||(P.method==="eth_subscribe"&&typeof z.result=="string"&&g.set(z.result,{onResponse:B,onError:I,body:P}),P.method==="eth_unsubscribe"&&g.delete((_=P.params)==null?void 0:_[0]),T(z))};b.set(k,{onResponse:B,onError:I});try{x.request({body:{jsonrpc:"2.0",id:k,...P}})}catch(z){I==null||I(z)}},requestAsync({body:P,timeout:I=1e4}){return P0(()=>new Promise((T,k)=>this.request({body:P,onError:k,onResponse:T})),{errorInstance:new I0({body:P,url:o}),timeout:I})},requests:b,subscriptions:g,url:o},Pr.set(u,f),[f]}}),[l,[p]]=await h();return p}async function vn(e,t={}){const{keepAlive:n,reconnect:r}=t;return Vl({async getSocket({onClose:s,onError:o,onOpen:i,onResponse:a}){const c=await os(()=>import("./native-7cdc9c28.js"),[]).then(l=>l.WebSocket),u=new c(e);function f(){u.removeEventListener("close",f),u.removeEventListener("message",d),u.removeEventListener("error",o),u.removeEventListener("open",i),s()}function d({data:l}){try{const p=JSON.parse(l);a(p)}catch(p){o(p)}}u.addEventListener("close",f),u.addEventListener("message",d),u.addEventListener("error",o),u.addEventListener("open",i),u.readyState===c.CONNECTING&&await new Promise((l,p)=>{u&&(u.onopen=l,u.onerror=p)});const{close:h}=u;return Object.assign(u,{close(){h.bind(u)(),f()},ping(){try{if(u.readyState===u.CLOSED||u.readyState===u.CLOSING)throw new mo({url:u.url,cause:new An({url:u.url})});const l={jsonrpc:"2.0",method:"net_version",params:[]};u.send(JSON.stringify(l))}catch(l){o(l)}},request({body:l}){if(u.readyState===u.CLOSED||u.readyState===u.CLOSING)throw new mo({body:l,url:u.url,cause:new An({url:u.url})});return u.send(JSON.stringify(l))}})},keepAlive:n,reconnect:r,url:e})}async function Hl(e){const t=await vn(e);return Object.assign(t.socket,{requests:t.requests,subscriptions:t.subscriptions})}const Wl=`Ethereum Signed Message:
`;function Zl(e){const t=(()=>typeof e=="string"?Ot(e):typeof e.raw=="string"?e.raw:H(e.raw))(),n=Ot(`${Wl}${Z(t)}`);return he([n,t])}function Us(e,t){return K(Zl(e),t)}class Kl extends ${constructor({domain:t}){super(`Invalid domain "${le(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class Yl extends ${constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class Jl extends ${constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function Xl(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(c,u)=>{const f={...u};for(const d of c){const{name:h,type:l}=d;l==="address"&&(f[h]=f[h].toLowerCase())}return f},i=(()=>s.EIP712Domain?t?o(s.EIP712Domain,t):{}:{})(),a=(()=>{if(r!=="EIP712Domain")return o(s[r],n)})();return le({domain:i,message:a,primaryType:r,types:s})}function mc(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(i,a)=>{for(const c of i){const{name:u,type:f}=c,d=a[u],h=f.match(is);if(h&&(typeof d=="number"||typeof d=="bigint")){const[b,g,m]=h;A(d,{signed:g==="int",size:Number.parseInt(m,10)/8})}if(f==="address"&&typeof d=="string"&&!X(d))throw new ae({address:d});const l=f.match(Gi);if(l){const[b,g]=l;if(g&&Z(d)!==Number.parseInt(g,10))throw new Li({expectedSize:Number.parseInt(g,10),givenSize:Z(d)})}const p=s[f];p&&(Ql(f),o(p,d))}};if(s.EIP712Domain&&t){if(typeof t!="object")throw new Kl({domain:t});o(s.EIP712Domain,t)}if(r!=="EIP712Domain")if(s[r])o(s[r],n);else throw new Yl({primaryType:r,types:s})}function Fs({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},(typeof(e==null?void 0:e.chainId)=="number"||typeof(e==null?void 0:e.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function Hm({domain:e}){return gc({domain:e,types:{EIP712Domain:Fs({domain:e})}})}function Ql(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new Jl({type:e})}function yc(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:Fs({domain:t}),...e.types};mc({domain:t,message:n,primaryType:r,types:s});const o=["0x1901"];return t&&o.push(gc({domain:t,types:s})),r!=="EIP712Domain"&&o.push(wc({data:n,primaryType:r,types:s})),K(he(o))}function gc({domain:e,types:t}){return wc({data:e,primaryType:"EIP712Domain",types:t})}function wc({data:e,primaryType:t,types:n}){const r=xc({data:e,primaryType:t,types:n});return K(r)}function xc({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[e1({primaryType:t,types:n})];for(const o of n[t]){const[i,a]=Ec({types:n,name:o.name,type:o.type,value:e[o.name]});r.push(i),s.push(a)}return Ve(r,s)}function e1({primaryType:e,types:t}){const n=ye(t1({primaryType:e,types:t}));return K(n)}function t1({primaryType:e,types:t}){let n="";const r=vc({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const o of s)n+=`${o}(${t[o].map(({name:i,type:a})=>`${a} ${i}`).join(",")})`;return n}function vc({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const o of t[s])vc({primaryType:o.type,types:t},n);return n}function Ec({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},K(xc({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},K(r)];if(n==="string")return[{type:"bytes32"},K(ye(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),o=r.map(i=>Ec({name:t,type:s,types:e,value:i}));return[{type:"bytes32"},K(Ve(o.map(([i])=>i),o.map(([,i])=>i)))]}return[{type:n},r]}const Pc="0x6492649264926492649264926492649264926492649264926492649264926492",Wm="0x0000000000000000000000000000000000000000000000000000000000000000";function n1(e){return Mt(e,-32)===Pc}class r1 extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const s1={checksum:new r1(8192)},Ir=s1.checksum;function rr(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=ii(td(e));return n==="Bytes"?r:ge(r)}function Ic(e,t={}){const{compressed:n}=t,{prefix:r,x:s,y:o}=e;if(n===!1||typeof s=="bigint"&&typeof o=="bigint"){if(r!==4)throw new Zo({prefix:r,cause:new f1});return}if(n===!0||typeof s=="bigint"&&typeof o>"u"){if(r!==3&&r!==2)throw new Zo({prefix:r,cause:new u1});return}throw new c1({publicKey:e})}function o1(e){const t=(()=>{if(Ca(e))return Ac(e);if(fd(e))return i1(e);const{prefix:n,x:r,y:s}=e;return typeof r=="bigint"&&typeof s=="bigint"?{prefix:n??4,x:r,y:s}:{prefix:n,x:r}})();return Ic(t),t}function i1(e){return Ac(ge(e))}function Ac(e){if(e.length!==132&&e.length!==130&&e.length!==68)throw new d1({publicKey:e});if(e.length===130){const r=BigInt(ne(e,0,32)),s=BigInt(ne(e,32,64));return{prefix:4,x:r,y:s}}if(e.length===132){const r=Number(ne(e,0,1)),s=BigInt(ne(e,1,33)),o=BigInt(ne(e,33,65));return{prefix:r,x:s,y:o}}const t=Number(ne(e,0,1)),n=BigInt(ne(e,1,33));return{prefix:t,x:n}}function a1(e,t={}){Ic(e);const{prefix:n,x:r,y:s}=e,{includePrefix:o=!0}=t;return be(o?W(n,{size:1}):"0x",W(r,{size:32}),typeof s=="bigint"?W(s,{size:32}):"0x")}class c1 extends F{constructor({publicKey:t}){super(`Value \`${Kn(t)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class Zo extends F{constructor({prefix:t,cause:n}){super(`Prefix "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class u1 extends F{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class f1 extends F{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}let d1=class extends F{constructor({publicKey:t}){super(`Value \`${t}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${ce(Cs(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}};const l1=/^0x[a-fA-F0-9]{40}$/;function fn(e,t={}){const{strict:n=!0}=t;if(!l1.test(e))throw new Ko({address:e,cause:new p1});if(n){if(e.toLowerCase()===e)return;if(qs(e)!==e)throw new Ko({address:e,cause:new m1})}}function qs(e){if(Ir.has(e))return Ir.get(e);fn(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=rr(rd(t),{as:"Bytes"}),r=t.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&r[o]&&(r[o]=r[o].toUpperCase()),(n[o>>1]&15)>=8&&r[o+1]&&(r[o+1]=r[o+1].toUpperCase());const s=`0x${r.join("")}`;return Ir.set(e,s),s}function h1(e,t={}){const{checksum:n=!1}=t;return fn(e),n?qs(e):e}function b1(e,t={}){const n=rr(`0x${a1(e).slice(4)}`).substring(26);return h1(`0x${n}`,t)}function Wr(e,t={}){const{strict:n=!0}=t??{};try{return fn(e,{strict:n}),!0}catch{return!1}}class Ko extends F{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class p1 extends F{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class m1 extends F{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const y1=/^(.*)\[([0-9]*)\]$/,g1=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,$c=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Yo=2n**256n-1n;function vt(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=Ds(t.type);if(o){const[i,a]=o;return x1(e,{...t,type:a},{checksumAddress:r,length:i,staticPosition:s})}if(t.type==="tuple")return I1(e,t,{checksumAddress:r,staticPosition:s});if(t.type==="address")return w1(e,{checksum:r});if(t.type==="bool")return v1(e);if(t.type.startsWith("bytes"))return E1(e,t,{staticPosition:s});if(t.type.startsWith("uint")||t.type.startsWith("int"))return P1(e,t);if(t.type==="string")return A1(e,{staticPosition:s});throw new Vs(t.type)}const Jo=32,Zr=32;function w1(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32);return[(o=>n?qs(o):o)(ge(od(r,-20))),32]}function x1(e,t,n){const{checksumAddress:r,length:s,staticPosition:o}=n;if(!s){const c=qe(e.readBytes(Zr)),u=o+c,f=u+Jo;e.setPosition(u);const d=qe(e.readBytes(Jo)),h=Gt(t);let l=0;const p=[];for(let b=0;b<d;++b){e.setPosition(f+(h?b*32:l));const[g,m]=vt(e,t,{checksumAddress:r,staticPosition:f});l+=m,p.push(g)}return e.setPosition(o+32),[p,32]}if(Gt(t)){const c=qe(e.readBytes(Zr)),u=o+c,f=[];for(let d=0;d<s;++d){e.setPosition(u+d*32);const[h]=vt(e,t,{checksumAddress:r,staticPosition:u});f.push(h)}return e.setPosition(o+32),[f,32]}let i=0;const a=[];for(let c=0;c<s;++c){const[u,f]=vt(e,t,{checksumAddress:r,staticPosition:o+i});i+=f,a.push(u)}return[a,i]}function v1(e){return[ad(e.readBytes(32),{size:32}),32]}function E1(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=qe(e.readBytes(32));e.setPosition(n+i);const a=qe(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[ge(c),32]}return[ge(e.readBytes(Number.parseInt(s,10),32)),32]}function P1(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?id(s,{signed:n}):qe(s,{signed:n}),32]}function I1(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=t.components.length===0||t.components.some(({name:c})=>!c),i=o?[]:{};let a=0;if(Gt(t)){const c=qe(e.readBytes(Zr)),u=s+c;for(let f=0;f<t.components.length;++f){const d=t.components[f];e.setPosition(u+a);const[h,l]=vt(e,d,{checksumAddress:r,staticPosition:u});a+=l,i[o?f:d==null?void 0:d.name]=h}return e.setPosition(s+32),[i,32]}for(let c=0;c<t.components.length;++c){const u=t.components[c],[f,d]=vt(e,u,{checksumAddress:r,staticPosition:s});i[o?c:u==null?void 0:u.name]=f,a+=d}return[i,a]}function A1(e,{staticPosition:t}){const n=qe(e.readBytes(32)),r=t+n;e.setPosition(r);const s=qe(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=cd(Aa(o));return e.setPosition(t+32),[i,32]}function $1({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(js({checksumAddress:e,parameter:t[s],value:n[s]}));return r}function js({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=Ds(r.type);if(s){const[o,i]=s;return S1(n,{checksumAddress:e,length:o,parameter:{...r,type:i}})}if(r.type==="tuple")return z1(n,{checksumAddress:e,parameter:r});if(r.type==="address")return B1(n,{checksum:e});if(r.type==="bool")return C1(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const o=r.type.startsWith("int"),[,,i="256"]=$c.exec(r.type)??[];return N1(n,{signed:o,size:Number(i)})}if(r.type.startsWith("bytes"))return T1(n,{type:r.type});if(r.type==="string")return k1(n);throw new Vs(r.type)}function Gs(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=ce(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(W(t+s,{size:32})),r.push(a),s+=ce(a)):n.push(a)}return be(...n,...r)}function B1(e,t){const{checksum:n=!1}=t;return fn(e,{strict:n}),{dynamic:!1,encoded:ot(e.toLowerCase())}}function S1(e,t){const{checksumAddress:n,length:r,parameter:s}=t,o=r===null;if(!Array.isArray(e))throw new q1(e);if(!o&&e.length!==r)throw new F1({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let i=!1;const a=[];for(let c=0;c<e.length;c++){const u=js({checksumAddress:n,parameter:s,value:e[c]});u.dynamic&&(i=!0),a.push(u)}if(o||i){const c=Gs(a);if(o){const u=W(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?be(u,c):u}}if(i)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:be(...a.map(({encoded:c})=>c))}}function T1(e,{type:t}){const[,n]=t.split("bytes"),r=ce(e);if(!n){let s=e;return r%32!==0&&(s=it(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:be(ot(W(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new Tc({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:it(e)}}function C1(e){if(typeof e!="boolean")throw new F(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:ot(Ba(e))}}function N1(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new Na({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:W(e,{size:32,signed:t})}}function k1(e){const t=Ns(e),n=Math.ceil(ce(t)/32),r=[];for(let s=0;s<n;s++)r.push(it(ne(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:be(it(W(ce(t),{size:32})),...r)}}function z1(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const o=[];for(let i=0;i<r.components.length;i++){const a=r.components[i],c=Array.isArray(e)?i:a.name,u=js({checksumAddress:n,parameter:a,value:e[c]});o.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?Gs(o):be(...o.map(({encoded:i})=>i))}}function Ds(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function Gt(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(Gt);const n=Ds(e.type);return!!(n&&Gt({...e,type:n[1]}))}const _1={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new O1({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new R1({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Xo({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Xo({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Bc(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(_1);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class Xo extends F{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class R1 extends F{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class O1 extends F{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function L1(e,t,n={}){const{as:r="Array",checksumAddress:s=!1}=n,o=typeof t=="string"?Ts(t):t,i=Bc(o);if(Te(o)===0&&e.length>0)throw new U1;if(Te(o)&&Te(o)<32)throw new M1({data:typeof t=="string"?t:ge(t),parameters:e,size:Te(o)});let a=0;const c=r==="Array"?[]:{};for(let u=0;u<e.length;++u){const f=e[u];i.setPosition(a);const[d,h]=vt(i,f,{checksumAddress:s,staticPosition:0});a+=h,r==="Array"?c.push(d):c[f.name??u]=d}return c}function sr(e,t,n){const{checksumAddress:r=!1}=n??{};if(e.length!==t.length)throw new Cc({expectedLength:e.length,givenLength:t.length});const s=$1({checksumAddress:r,parameters:e,values:t}),o=Gs(s);return o.length===0?"0x":o}function Kr(e,t){if(e.length!==t.length)throw new Cc({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],o=t[r];n.push(Kr.encode(s,o))}return be(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const c=r;return fn(c),ot(c.toLowerCase(),s?32:0)}if(n==="string")return Ns(r);if(n==="bytes")return r;if(n==="bool")return ot(Ba(r),s?32:1);const o=n.match($c);if(o){const[c,u,f="256"]=o,d=Number.parseInt(f,10)/8;return W(r,{size:s?32:d,signed:u==="int"})}const i=n.match(g1);if(i){const[c,u]=i;if(Number.parseInt(u,10)!==(r.length-2)/2)throw new Tc({expectedSize:Number.parseInt(u,10),value:r});return it(r,s?32:0)}const a=n.match(y1);if(a&&Array.isArray(r)){const[c,u]=a,f=[];for(let d=0;d<r.length;d++)f.push(t(u,r[d],!0));return f.length===0?"0x":be(...f)}throw new Vs(n)}e.encode=t})(Kr||(Kr={}));function Sc(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?xo(e):e}class M1 extends F{constructor({data:t,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${yt(n)})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class U1 extends F{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class F1 extends F{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class Tc extends F{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${ce(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class Cc extends F{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class q1 extends F{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class Vs extends F{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function j1(e,t){const{as:n}=t,r=Nc(e),s=Bc(new Uint8Array(r.length));return r.encode(s),n==="Hex"?ge(s.bytes):s.bytes}function G1(e,t={}){const{as:n="Hex"}=t;return j1(e,{as:n})}function Nc(e){return Array.isArray(e)?D1(e.map(t=>Nc(t))):V1(e)}function D1(e){const t=e.reduce((s,o)=>s+o.length,0),n=kc(t);return{length:(()=>t<=55?1+t:1+n+t)(),encode(s){t<=55?s.pushByte(192+t):(s.pushByte(192+55+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:o}of e)o(s)}}}function V1(e){const t=typeof e=="string"?Ts(e):e,n=kc(t.length);return{length:(()=>t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length)(),encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(128+55+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function kc(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new F("Length is too large.")}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const fe=BigInt(0),ie=BigInt(1),nt=BigInt(2),H1=BigInt(3),zc=BigInt(4),_c=BigInt(5),Rc=BigInt(8);function ee(e,t){const n=e%t;return n>=fe?n:t+n}function ve(e,t,n){let r=e;for(;t-- >fe;)r*=r,r%=n;return r}function Yr(e,t){if(e===fe)throw new Error("invert: expected non-zero number");if(t<=fe)throw new Error("invert: expected positive modulus, got "+t);let n=ee(e,t),r=t,s=fe,o=ie;for(;n!==fe;){const a=r/n,c=r%n,u=s-o*a;r=n,n=c,s=o,o=u}if(r!==ie)throw new Error("invert: does not exist");return ee(s,t)}function Oc(e,t){const n=(e.ORDER+ie)/zc,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function W1(e,t){const n=(e.ORDER-_c)/Rc,r=e.mul(t,nt),s=e.pow(r,n),o=e.mul(t,s),i=e.mul(e.mul(o,nt),s),a=e.mul(o,e.sub(i,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function Z1(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-ie,n=0;for(;t%nt===fe;)t/=nt,n++;let r=nt;const s=Hs(e);for(;Qo(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Oc;let o=s.pow(r,t);const i=(t+ie)/nt;return function(c,u){if(c.is0(u))return u;if(Qo(c,u)!==1)throw new Error("Cannot find square root");let f=n,d=c.mul(c.ONE,o),h=c.pow(u,t),l=c.pow(u,i);for(;!c.eql(h,c.ONE);){if(c.is0(h))return c.ZERO;let p=1,b=c.sqr(h);for(;!c.eql(b,c.ONE);)if(p++,b=c.sqr(b),p===f)throw new Error("Cannot find square root");const g=ie<<BigInt(f-p-1),m=c.pow(d,g);f=p,d=c.sqr(m),h=c.mul(h,d),l=c.mul(l,m)}return l}}function K1(e){return e%zc===H1?Oc:e%Rc===_c?W1:Z1(e)}const Y1=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Lc(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Y1.reduce((r,s)=>(r[s]="function",r),t);return rn(e,n)}function J1(e,t,n){if(n<fe)throw new Error("invalid exponent, negatives unsupported");if(n===fe)return e.ONE;if(n===ie)return t;let r=e.ONE,s=t;for(;n>fe;)n&ie&&(r=e.mul(r,s)),s=e.sqr(s),n>>=ie;return r}function or(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((i,a,c)=>e.is0(a)?i:(r[c]=i,e.mul(i,a)),e.ONE),o=e.inv(s);return t.reduceRight((i,a,c)=>e.is0(a)?i:(r[c]=e.mul(i,r[c]),e.mul(i,a)),o),r}function Qo(e,t){const n=(e.ORDER-ie)/nt,r=e.pow(t,n),s=e.eql(r,e.ONE),o=e.eql(r,e.ZERO),i=e.eql(r,e.neg(e.ONE));if(!s&&!o&&!i)throw new Error("invalid Legendre symbol result");return s?1:o?0:-1}function Mc(e,t){t!==void 0&&A0(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Hs(e,t,n=!1,r={}){if(e<=fe)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:o}=Mc(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let i;const a=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:o,MASK:Wn(s),ZERO:fe,ONE:ie,create:c=>ee(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return fe<=c&&c<e},is0:c=>c===fe,isOdd:c=>(c&ie)===ie,neg:c=>ee(-c,e),eql:(c,u)=>c===u,sqr:c=>ee(c*c,e),add:(c,u)=>ee(c+u,e),sub:(c,u)=>ee(c-u,e),mul:(c,u)=>ee(c*u,e),pow:(c,u)=>J1(a,c,u),div:(c,u)=>ee(c*Yr(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>Yr(c,e),sqrt:r.sqrt||(c=>(i||(i=K1(e)),i(a,c))),toBytes:c=>n?va(c,o):lt(c,o),fromBytes:c=>{if(c.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+c.length);return n?xa(c):ke(c)},invertBatch:c=>or(a,c),cmov:(c,u,f)=>f?u:c});return Object.freeze(a)}function Uc(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Fc(e){const t=Uc(e);return t+Math.ceil(t/2)}function X1(e,t,n=!1){const r=e.length,s=Uc(t),o=Fc(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const i=n?xa(e):ke(e),a=ee(i,t-ie)+ie;return n?va(a,s):lt(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ei=BigInt(0),Jr=BigInt(1);function Ar(e,t){const n=t.negate();return e?n:t}function qc(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function $r(e,t){qc(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,o=Wn(e),i=BigInt(e);return{windows:n,windowSize:r,mask:o,maxNumber:s,shiftBy:i}}function ti(e,t,n){const{windowSize:r,mask:s,maxNumber:o,shiftBy:i}=n;let a=Number(e&s),c=e>>i;a>r&&(a-=o,c+=Jr);const u=t*r,f=u+Math.abs(a)-1,d=a===0,h=a<0,l=t%2!==0;return{nextN:c,offset:f,isZero:d,isNeg:h,isNegF:l,offsetF:u}}function Q1(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function eh(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const Br=new WeakMap,jc=new WeakMap;function Sr(e){return jc.get(e)||1}function th(e,t){return{constTimeNegate:Ar,hasPrecomputes(n){return Sr(n)!==1},unsafeLadder(n,r,s=e.ZERO){let o=n;for(;r>ei;)r&Jr&&(s=s.add(o)),o=o.double(),r>>=Jr;return s},precomputeWindow(n,r){const{windows:s,windowSize:o}=$r(r,t),i=[];let a=n,c=a;for(let u=0;u<s;u++){c=a,i.push(c);for(let f=1;f<o;f++)c=c.add(a),i.push(c);a=c.double()}return i},wNAF(n,r,s){let o=e.ZERO,i=e.BASE;const a=$r(n,t);for(let c=0;c<a.windows;c++){const{nextN:u,offset:f,isZero:d,isNeg:h,isNegF:l,offsetF:p}=ti(s,c,a);s=u,d?i=i.add(Ar(l,r[p])):o=o.add(Ar(h,r[f]))}return{p:o,f:i}},wNAFUnsafe(n,r,s,o=e.ZERO){const i=$r(n,t);for(let a=0;a<i.windows&&s!==ei;a++){const{nextN:c,offset:u,isZero:f,isNeg:d}=ti(s,a,i);if(s=c,!f){const h=r[u];o=o.add(d?h.negate():h)}}return o},getPrecomputes(n,r,s){let o=Br.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&Br.set(r,s(o))),o},wNAFCached(n,r,s){const o=Sr(n);return this.wNAF(o,this.getPrecomputes(o,n,s),r)},wNAFCachedUnsafe(n,r,s,o){const i=Sr(n);return i===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(i,this.getPrecomputes(i,n,s),r,o)},setWindowSize(n,r){qc(r,t),jc.set(n,r),Br.delete(n)}}}function nh(e,t,n,r){Q1(n,e),eh(r,t);const s=n.length,o=r.length;if(s!==o)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,a=Ff(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=Wn(c),f=new Array(Number(u)+1).fill(i),d=Math.floor((t.BITS-1)/c)*c;let h=i;for(let l=d;l>=0;l-=c){f.fill(i);for(let b=0;b<o;b++){const g=r[b],m=Number(g>>BigInt(l)&u);f[m]=f[m].add(n[b])}let p=i;for(let b=f.length-1,g=i;b>0;b--)g=g.add(f[b]),p=p.add(g);if(h=h.add(p),l!==0)for(let b=0;b<c;b++)h=h.double()}return h}function Gc(e){return Lc(e.Fp),rn(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Mc(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ni(e){e.lowS!==void 0&&Ft("lowS",e.lowS),e.prehash!==void 0&&Ft("prehash",e.prehash)}function rh(e){const t=Gc(e);rn(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class sh extends Error{constructor(t=""){super(t)}}const Ue={Err:sh,_tlv:{encode:(e,t)=>{const{Err:n}=Ue;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=pn(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?pn(s.length/2|128):"";return pn(e)+o+s+t},decode(e,t){const{Err:n}=Ue;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],o=!!(s&128);let i=0;if(!o)i=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of u)i=i<<8|f;if(r+=c,i<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+i);if(a.length!==i)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+i)}}},_int:{encode(e){const{Err:t}=Ue;if(e<Ie)throw new t("integer: negative integers are not allowed");let n=pn(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Ue;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return ke(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Ue,s=te("signature",e),{v:o,l:i}=r.decode(48,s);if(i.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,o),{v:u,l:f}=r.decode(2,c);if(f.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=Ue,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),o=r+s;return t.encode(48,o)}};function Tr(e,t){return qt(lt(e,t))}const Ie=BigInt(0),D=BigInt(1),Ze=BigInt(2),Rt=BigInt(3),Xr=BigInt(4);function oh(e){const t=rh(e),{Fp:n}=t,r=Hs(t.n,t.nBitLength),s=t.toBytes||((w,y,v)=>{const E=y.toAffine();return Ee(Uint8Array.from([4]),n.toBytes(E.x),n.toBytes(E.y))}),o=t.fromBytes||(w=>{const y=w.subarray(1),v=n.fromBytes(y.subarray(0,n.BYTES)),E=n.fromBytes(y.subarray(n.BYTES,2*n.BYTES));return{x:v,y:E}});function i(w){const{a:y,b:v}=t,E=n.sqr(w),P=n.mul(E,w);return n.add(n.add(P,n.mul(w,y)),v)}function a(w,y){const v=n.sqr(y),E=i(w);return n.eql(v,E)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,Rt),Xr),u=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,u)))throw new Error("bad curve params: a or b");function f(w){return jt(w,D,t.n)}function d(w){const{allowedPrivateKeyLengths:y,nByteLength:v,wrapPrivateKey:E,n:P}=t;if(y&&typeof w!="bigint"){if(nn(w)&&(w=qt(w)),typeof w!="string"||!y.includes(w.length))throw new Error("invalid private key");w=w.padStart(v*2,"0")}let I;try{I=typeof w=="bigint"?w:ke(te("private key",w,v))}catch{throw new Error("invalid private key, expected hex or "+v+" bytes, got "+typeof w)}return E&&(I=ee(I,P)),rt("private key",I,D,P),I}function h(w){if(!(w instanceof b))throw new Error("ProjectivePoint expected")}const l=Lo((w,y)=>{const{px:v,py:E,pz:P}=w;if(n.eql(P,n.ONE))return{x:v,y:E};const I=w.is0();y==null&&(y=I?n.ONE:n.inv(P));const T=n.mul(v,y),k=n.mul(E,y),B=n.mul(P,y);if(I)return{x:n.ZERO,y:n.ZERO};if(!n.eql(B,n.ONE))throw new Error("invZ was invalid");return{x:T,y:k}}),p=Lo(w=>{if(w.is0()){if(t.allowInfinityPoint&&!n.is0(w.py))return;throw new Error("bad point: ZERO")}const{x:y,y:v}=w.toAffine();if(!n.isValid(y)||!n.isValid(v))throw new Error("bad point: x or y not FE");if(!a(y,v))throw new Error("bad point: equation left != right");if(!w.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class b{constructor(y,v,E){if(y==null||!n.isValid(y))throw new Error("x required");if(v==null||!n.isValid(v)||n.is0(v))throw new Error("y required");if(E==null||!n.isValid(E))throw new Error("z required");this.px=y,this.py=v,this.pz=E,Object.freeze(this)}static fromAffine(y){const{x:v,y:E}=y||{};if(!y||!n.isValid(v)||!n.isValid(E))throw new Error("invalid affine point");if(y instanceof b)throw new Error("projective point not allowed");const P=I=>n.eql(I,n.ZERO);return P(v)&&P(E)?b.ZERO:new b(v,E,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const v=or(n,y.map(E=>E.pz));return y.map((E,P)=>E.toAffine(v[P])).map(b.fromAffine)}static fromHex(y){const v=b.fromAffine(o(te("pointHex",y)));return v.assertValidity(),v}static fromPrivateKey(y){return b.BASE.multiply(d(y))}static msm(y,v){return nh(b,r,y,v)}_setWindowSize(y){x.setWindowSize(this,y)}assertValidity(){p(this)}hasEvenY(){const{y}=this.toAffine();if(n.isOdd)return!n.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){h(y);const{px:v,py:E,pz:P}=this,{px:I,py:T,pz:k}=y,B=n.eql(n.mul(v,k),n.mul(I,P)),z=n.eql(n.mul(E,k),n.mul(T,P));return B&&z}negate(){return new b(this.px,n.neg(this.py),this.pz)}double(){const{a:y,b:v}=t,E=n.mul(v,Rt),{px:P,py:I,pz:T}=this;let k=n.ZERO,B=n.ZERO,z=n.ZERO,_=n.mul(P,P),q=n.mul(I,I),C=n.mul(T,T),N=n.mul(P,I);return N=n.add(N,N),z=n.mul(P,T),z=n.add(z,z),k=n.mul(y,z),B=n.mul(E,C),B=n.add(k,B),k=n.sub(q,B),B=n.add(q,B),B=n.mul(k,B),k=n.mul(N,k),z=n.mul(E,z),C=n.mul(y,C),N=n.sub(_,C),N=n.mul(y,N),N=n.add(N,z),z=n.add(_,_),_=n.add(z,_),_=n.add(_,C),_=n.mul(_,N),B=n.add(B,_),C=n.mul(I,T),C=n.add(C,C),_=n.mul(C,N),k=n.sub(k,_),z=n.mul(C,q),z=n.add(z,z),z=n.add(z,z),new b(k,B,z)}add(y){h(y);const{px:v,py:E,pz:P}=this,{px:I,py:T,pz:k}=y;let B=n.ZERO,z=n.ZERO,_=n.ZERO;const q=t.a,C=n.mul(t.b,Rt);let N=n.mul(v,I),O=n.mul(E,T),S=n.mul(P,k),R=n.add(v,E),M=n.add(I,T);R=n.mul(R,M),M=n.add(N,O),R=n.sub(R,M),M=n.add(v,P);let G=n.add(I,k);return M=n.mul(M,G),G=n.add(N,S),M=n.sub(M,G),G=n.add(E,P),B=n.add(T,k),G=n.mul(G,B),B=n.add(O,S),G=n.sub(G,B),_=n.mul(q,M),B=n.mul(C,S),_=n.add(B,_),B=n.sub(O,_),_=n.add(O,_),z=n.mul(B,_),O=n.add(N,N),O=n.add(O,N),S=n.mul(q,S),M=n.mul(C,M),O=n.add(O,S),S=n.sub(N,S),S=n.mul(q,S),M=n.add(M,S),N=n.mul(O,M),z=n.add(z,N),N=n.mul(G,M),B=n.mul(R,B),B=n.sub(B,N),N=n.mul(R,O),_=n.mul(G,_),_=n.add(_,N),new b(B,z,_)}subtract(y){return this.add(y.negate())}is0(){return this.equals(b.ZERO)}wNAF(y){return x.wNAFCached(this,y,b.normalizeZ)}multiplyUnsafe(y){const{endo:v,n:E}=t;rt("scalar",y,Ie,E);const P=b.ZERO;if(y===Ie)return P;if(this.is0()||y===D)return this;if(!v||x.hasPrecomputes(this))return x.wNAFCachedUnsafe(this,y,b.normalizeZ);let{k1neg:I,k1:T,k2neg:k,k2:B}=v.splitScalar(y),z=P,_=P,q=this;for(;T>Ie||B>Ie;)T&D&&(z=z.add(q)),B&D&&(_=_.add(q)),q=q.double(),T>>=D,B>>=D;return I&&(z=z.negate()),k&&(_=_.negate()),_=new b(n.mul(_.px,v.beta),_.py,_.pz),z.add(_)}multiply(y){const{endo:v,n:E}=t;rt("scalar",y,D,E);let P,I;if(v){const{k1neg:T,k1:k,k2neg:B,k2:z}=v.splitScalar(y);let{p:_,f:q}=this.wNAF(k),{p:C,f:N}=this.wNAF(z);_=x.constTimeNegate(T,_),C=x.constTimeNegate(B,C),C=new b(n.mul(C.px,v.beta),C.py,C.pz),P=_.add(C),I=q.add(N)}else{const{p:T,f:k}=this.wNAF(y);P=T,I=k}return b.normalizeZ([P,I])[0]}multiplyAndAddUnsafe(y,v,E){const P=b.BASE,I=(k,B)=>B===Ie||B===D||!k.equals(P)?k.multiplyUnsafe(B):k.multiply(B),T=I(this,v).add(I(y,E));return T.is0()?void 0:T}toAffine(y){return l(this,y)}isTorsionFree(){const{h:y,isTorsionFree:v}=t;if(y===D)return!0;if(v)return v(b,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:v}=t;return y===D?this:v?v(b,this):this.multiplyUnsafe(t.h)}toRawBytes(y=!0){return Ft("isCompressed",y),this.assertValidity(),s(b,this,y)}toHex(y=!0){return Ft("isCompressed",y),qt(this.toRawBytes(y))}}b.BASE=new b(t.Gx,t.Gy,n.ONE),b.ZERO=new b(n.ZERO,n.ONE,n.ZERO);const{endo:g,nBitLength:m}=t,x=th(b,g?Math.ceil(m/2):m);return{CURVE:t,ProjectivePoint:b,normPrivateKeyToScalar:d,weierstrassEquation:i,isWithinCurveOrder:f}}function ih(e){const t=Gc(e);return rn(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function ah(e){const t=ih(e),{Fp:n,n:r,nByteLength:s,nBitLength:o}=t,i=n.BYTES+1,a=2*n.BYTES+1;function c(C){return ee(C,r)}function u(C){return Yr(C,r)}const{ProjectivePoint:f,normPrivateKeyToScalar:d,weierstrassEquation:h,isWithinCurveOrder:l}=oh({...t,toBytes(C,N,O){const S=N.toAffine(),R=n.toBytes(S.x),M=Ee;return Ft("isCompressed",O),O?M(Uint8Array.from([N.hasEvenY()?2:3]),R):M(Uint8Array.from([4]),R,n.toBytes(S.y))},fromBytes(C){const N=C.length,O=C[0],S=C.subarray(1);if(N===i&&(O===2||O===3)){const R=ke(S);if(!jt(R,D,n.ORDER))throw new Error("Point is not on curve");const M=h(R);let G;try{G=n.sqrt(M)}catch(re){const J=re instanceof Error?": "+re.message:"";throw new Error("Point is not on curve"+J)}const Q=(G&D)===D;return(O&1)===1!==Q&&(G=n.neg(G)),{x:R,y:G}}else if(N===a&&O===4){const R=n.fromBytes(S.subarray(0,n.BYTES)),M=n.fromBytes(S.subarray(n.BYTES,2*n.BYTES));return{x:R,y:M}}else{const R=i,M=a;throw new Error("invalid Point, expected length of "+R+", or uncompressed "+M+", got "+N)}}});function p(C){const N=r>>D;return C>N}function b(C){return p(C)?c(-C):C}const g=(C,N,O)=>ke(C.slice(N,O));class m{constructor(N,O,S){rt("r",N,D,r),rt("s",O,D,r),this.r=N,this.s=O,S!=null&&(this.recovery=S),Object.freeze(this)}static fromCompact(N){const O=s;return N=te("compactSignature",N,O*2),new m(g(N,0,O),g(N,O,2*O))}static fromDER(N){const{r:O,s:S}=Ue.toSig(te("DER",N));return new m(O,S)}assertValidity(){}addRecoveryBit(N){return new m(this.r,this.s,N)}recoverPublicKey(N){const{r:O,s:S,recovery:R}=this,M=P(te("msgHash",N));if(R==null||![0,1,2,3].includes(R))throw new Error("recovery id invalid");const G=R===2||R===3?O+t.n:O;if(G>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const Q=R&1?"03":"02",se=f.fromHex(Q+Tr(G,n.BYTES)),re=u(G),J=c(-M*re),oe=c(S*re),We=f.BASE.multiplyAndAddUnsafe(se,J,oe);if(!We)throw new Error("point at infinify");return We.assertValidity(),We}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Cn(this.toDERHex())}toDERHex(){return Ue.hexFromSig(this)}toCompactRawBytes(){return Cn(this.toCompactHex())}toCompactHex(){const N=s;return Tr(this.r,N)+Tr(this.s,N)}}const x={isValidPrivateKey(C){try{return d(C),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const C=Fc(t.n);return X1(t.randomBytes(C),t.n)},precompute(C=8,N=f.BASE){return N._setWindowSize(C),N.multiply(BigInt(3)),N}};function w(C,N=!0){return f.fromPrivateKey(C).toRawBytes(N)}function y(C){if(typeof C=="bigint")return!1;if(C instanceof f)return!0;const O=te("key",C).length,S=n.BYTES,R=S+1,M=2*S+1;if(!(t.allowedPrivateKeyLengths||s===R))return O===R||O===M}function v(C,N,O=!0){if(y(C)===!0)throw new Error("first arg must be private key");if(y(N)===!1)throw new Error("second arg must be public key");return f.fromHex(N).multiply(d(C)).toRawBytes(O)}const E=t.bits2int||function(C){if(C.length>8192)throw new Error("input is too large");const N=ke(C),O=C.length*8-o;return O>0?N>>BigInt(O):N},P=t.bits2int_modN||function(C){return c(E(C))},I=Wn(o);function T(C){return rt("num < 2^"+o,C,Ie,I),lt(C,s)}function k(C,N,O=B){if(["recovered","canonical"].some(et=>et in O))throw new Error("sign() legacy options not supported");const{hash:S,randomBytes:R}=t;let{lowS:M,prehash:G,extraEntropy:Q}=O;M==null&&(M=!0),C=te("msgHash",C),ni(O),G&&(C=te("prehashed msgHash",S(C)));const se=P(C),re=d(N),J=[T(re),T(se)];if(Q!=null&&Q!==!1){const et=Q===!0?R(n.BYTES):Q;J.push(te("extraEntropy",et))}const oe=Ee(...J),We=se;function ur(et){const bt=E(et);if(!l(bt))return;const fr=u(bt),Nt=f.BASE.multiply(bt).toAffine(),tt=c(Nt.x);if(tt===Ie)return;const kt=c(fr*c(We+tt*re));if(kt===Ie)return;let zt=(Nt.x===tt?0:2)|Number(Nt.y&D),pt=kt;return M&&p(kt)&&(pt=b(kt),zt^=1),new m(tt,pt,zt)}return{seed:oe,k2sig:ur}}const B={lowS:t.lowS,prehash:!1},z={lowS:t.lowS,prehash:!1};function _(C,N,O=B){const{seed:S,k2sig:R}=k(C,N,O),M=t;return qf(M.hash.outputLen,M.nByteLength,M.hmac)(S,R)}f.BASE._setWindowSize(8);function q(C,N,O,S=z){var zt;const R=C;N=te("msgHash",N),O=te("publicKey",O);const{lowS:M,prehash:G,format:Q}=S;if(ni(S),"strict"in S)throw new Error("options.strict was renamed to lowS");if(Q!==void 0&&Q!=="compact"&&Q!=="der")throw new Error("format must be compact or der");const se=typeof R=="string"||nn(R),re=!se&&!Q&&typeof R=="object"&&R!==null&&typeof R.r=="bigint"&&typeof R.s=="bigint";if(!se&&!re)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let J,oe;try{if(re&&(J=new m(R.r,R.s)),se){try{Q!=="compact"&&(J=m.fromDER(R))}catch(pt){if(!(pt instanceof Ue.Err))throw pt}!J&&Q!=="der"&&(J=m.fromCompact(R))}oe=f.fromHex(O)}catch{return!1}if(!J||M&&J.hasHighS())return!1;G&&(N=t.hash(N));const{r:We,s:ur}=J,et=P(N),bt=u(ur),fr=c(et*bt),Nt=c(We*bt),tt=(zt=f.BASE.multiplyAndAddUnsafe(oe,fr,Nt))==null?void 0:zt.toAffine();return tt?c(tt.x)===We:!1}return{CURVE:t,getPublicKey:w,getSharedSecret:v,sign:_,verify:q,ProjectivePoint:f,Signature:m,utils:x}}function ch(e,t){const n=e.ORDER;let r=Ie;for(let p=n-D;p%Ze===Ie;p/=Ze)r+=D;const s=r,o=Ze<<s-D-D,i=o*Ze,a=(n-D)/i,c=(a-D)/Ze,u=i-D,f=o,d=e.pow(t,a),h=e.pow(t,(a+D)/Ze);let l=(p,b)=>{let g=d,m=e.pow(b,u),x=e.sqr(m);x=e.mul(x,b);let w=e.mul(p,x);w=e.pow(w,c),w=e.mul(w,m),m=e.mul(w,b),x=e.mul(w,p);let y=e.mul(x,m);w=e.pow(y,f);let v=e.eql(w,e.ONE);m=e.mul(x,h),w=e.mul(y,g),x=e.cmov(m,x,v),y=e.cmov(w,y,v);for(let E=s;E>D;E--){let P=E-Ze;P=Ze<<P-D;let I=e.pow(y,P);const T=e.eql(I,e.ONE);m=e.mul(x,g),g=e.mul(g,g),I=e.mul(y,g),x=e.cmov(m,x,T),y=e.cmov(I,y,T)}return{isValid:v,value:x}};if(e.ORDER%Xr===Rt){const p=(e.ORDER-Rt)/Xr,b=e.sqrt(e.neg(t));l=(g,m)=>{let x=e.sqr(m);const w=e.mul(g,m);x=e.mul(x,w);let y=e.pow(x,p);y=e.mul(y,w);const v=e.mul(y,b),E=e.mul(e.sqr(y),m),P=e.eql(E,g);let I=e.cmov(v,y,P);return{isValid:P,value:I}}}return l}function uh(e,t){if(Lc(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const n=ch(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return r=>{let s,o,i,a,c,u,f,d;s=e.sqr(r),s=e.mul(s,t.Z),o=e.sqr(s),o=e.add(o,s),i=e.add(o,e.ONE),i=e.mul(i,t.B),a=e.cmov(t.Z,e.neg(o),!e.eql(o,e.ZERO)),a=e.mul(a,t.A),o=e.sqr(i),u=e.sqr(a),c=e.mul(u,t.A),o=e.add(o,c),o=e.mul(o,i),u=e.mul(u,a),c=e.mul(u,t.B),o=e.add(o,c),f=e.mul(s,i);const{isValid:h,value:l}=n(o,u);d=e.mul(s,r),d=e.mul(d,l),f=e.cmov(f,i,h),d=e.cmov(d,l,h);const p=e.isOdd(r)===e.isOdd(d);d=e.cmov(e.neg(d),d,p);const b=or(e,[a],!0)[0];return f=e.mul(f,b),{x:f,y:d}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function fh(e){return{hash:e,hmac:(t,...n)=>$0(e,t,B0(...n)),randomBytes:mi}}function dh(e,t){const n=r=>ah({...e,...fh(r)});return{...n(t),create:n}}const lh=ke;function Ke(e,t){if(Dt(e),Dt(t),e<0||e>=1<<8*t)throw new Error("invalid I2OSP input: "+e);const n=Array.from({length:t}).fill(0);for(let r=t-1;r>=0;r--)n[r]=e&255,e>>>=8;return new Uint8Array(n)}function hh(e,t){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r]^t[r];return n}function Dt(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function bh(e,t,n,r){Je(e),Je(t),Dt(n),t.length>255&&(t=r(Ee(Ss("H2C-OVERSIZE-DST-"),t)));const{outputLen:s,blockLen:o}=r,i=Math.ceil(n/s);if(n>65535||i>255)throw new Error("expand_message_xmd: invalid lenInBytes");const a=Ee(t,Ke(t.length,1)),c=Ke(0,o),u=Ke(n,2),f=new Array(i),d=r(Ee(c,e,u,Ke(0,1),a));f[0]=r(Ee(d,Ke(1,1),a));for(let l=1;l<=i;l++){const p=[hh(d,f[l-1]),Ke(l+1,1),a];f[l]=r(Ee(...p))}return Ee(...f).slice(0,n)}function ph(e,t,n,r,s){if(Je(e),Je(t),Dt(n),t.length>255){const o=Math.ceil(2*r/8);t=s.create({dkLen:o}).update(Ss("H2C-OVERSIZE-DST-")).update(t).digest()}if(n>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return s.create({dkLen:n}).update(e).update(Ke(n,2)).update(t).update(Ke(t.length,1)).digest()}function ri(e,t,n){rn(n,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:r,k:s,m:o,hash:i,expand:a,DST:c}=n;Je(e),Dt(t);const u=typeof c=="string"?Ss(c):c,f=r.toString(2).length,d=Math.ceil((f+s)/8),h=t*o*d;let l;if(a==="xmd")l=bh(e,u,h,i);else if(a==="xof")l=ph(e,u,h,s,i);else if(a==="_internal_pass")l=e;else throw new Error('expand must be "xmd" or "xof"');const p=new Array(t);for(let b=0;b<t;b++){const g=new Array(o);for(let m=0;m<o;m++){const x=d*(m+b*o),w=l.subarray(x,x+d);g[m]=ee(lh(w),r)}p[b]=g}return p}function mh(e,t){const n=t.map(r=>Array.from(r).reverse());return(r,s)=>{const[o,i,a,c]=n.map(d=>d.reduce((h,l)=>e.add(e.mul(h,r),l))),[u,f]=or(e,[i,c],!0);return r=e.mul(o,u),s=e.mul(s,e.mul(a,f)),{x:r,y:s}}}function yh(e,t,n){if(typeof t!="function")throw new Error("mapToCurve() must be defined");function r(o){return e.fromAffine(t(o))}function s(o){const i=o.clearCofactor();return i.equals(e.ZERO)?e.ZERO:(i.assertValidity(),i)}return{defaults:n,hashToCurve(o,i){const a=ri(o,2,{...n,DST:n.DST,...i}),c=r(a[0]),u=r(a[1]);return s(c.add(u))},encodeToCurve(o,i){const a=ri(o,1,{...n,DST:n.encodeDST,...i});return s(r(a[0]))},mapToCurve(o){if(!Array.isArray(o))throw new Error("expected array of bigints");for(const i of o)if(typeof i!="bigint")throw new Error("expected array of bigints");return s(r(o))}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const dn=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Nn=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Ws=BigInt(0),Vt=BigInt(1),kn=BigInt(2),si=(e,t)=>(e+t/kn)/t;function Dc(e){const t=dn,n=BigInt(3),r=BigInt(6),s=BigInt(11),o=BigInt(22),i=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,f=u*u*e%t,d=ve(f,n,t)*f%t,h=ve(d,n,t)*f%t,l=ve(h,kn,t)*u%t,p=ve(l,s,t)*l%t,b=ve(p,o,t)*p%t,g=ve(b,a,t)*b%t,m=ve(g,c,t)*g%t,x=ve(m,a,t)*b%t,w=ve(x,n,t)*f%t,y=ve(w,i,t)*p%t,v=ve(y,r,t)*u%t,E=ve(v,kn,t);if(!Xe.eql(Xe.sqr(E),e))throw new Error("Cannot find square root");return E}const Xe=Hs(dn,void 0,void 0,{sqrt:Dc}),Oe=dh({a:Ws,b:BigInt(7),Fp:Xe,n:Nn,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Nn,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Vt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,i=BigInt("0x100000000000000000000000000000000"),a=si(o*e,t),c=si(-r*e,t);let u=ee(e-a*n-c*s,t),f=ee(-a*r-c*o,t);const d=u>i,h=f>i;if(d&&(u=t-u),h&&(f=t-f),u>i||f>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:h,k2:f}}}},$n),oi={};function zn(e,...t){let n=oi[e];if(n===void 0){const r=$n(Uint8Array.from(e,s=>s.charCodeAt(0)));n=Ee(r,r),oi[e]=n}return $n(Ee(n,...t))}const Zs=e=>e.toRawBytes(!0).slice(1),Qr=e=>lt(e,32),Cr=e=>ee(e,dn),Ht=e=>ee(e,Nn),Ks=(()=>Oe.ProjectivePoint)(),gh=(e,t,n)=>Ks.BASE.multiplyAndAddUnsafe(e,t,n);function es(e){let t=Oe.utils.normPrivateKeyToScalar(e),n=Ks.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:Ht(-t),bytes:Zs(n)}}function Vc(e){rt("x",e,Vt,dn);const t=Cr(e*e),n=Cr(t*e+BigInt(7));let r=Dc(n);r%kn!==Ws&&(r=Cr(-r));const s=new Ks(e,r,Vt);return s.assertValidity(),s}const Et=ke;function Hc(...e){return Ht(Et(zn("BIP0340/challenge",...e)))}function wh(e){return es(e).bytes}function xh(e,t,n=mi(32)){const r=te("message",e),{bytes:s,scalar:o}=es(t),i=te("auxRand",n,32),a=Qr(o^Et(zn("BIP0340/aux",i))),c=zn("BIP0340/nonce",a,s,r),u=Ht(Et(c));if(u===Ws)throw new Error("sign failed: k is zero");const{bytes:f,scalar:d}=es(u),h=Hc(f,s,r),l=new Uint8Array(64);if(l.set(f,0),l.set(Qr(Ht(d+h*o)),32),!Wc(l,r,s))throw new Error("sign: Invalid signature produced");return l}function Wc(e,t,n){const r=te("signature",e,64),s=te("message",t),o=te("publicKey",n,32);try{const i=Vc(Et(o)),a=Et(r.subarray(0,32));if(!jt(a,Vt,dn))return!1;const c=Et(r.subarray(32,64));if(!jt(c,Vt,Nn))return!1;const u=Hc(Qr(a),Zs(i),s),f=gh(i,c,Ht(-u));return!(!f||!f.hasEvenY()||f.toAffine().x!==a)}catch{return!1}}const vh=(()=>({getPublicKey:wh,sign:xh,verify:Wc,utils:{randomPrivateKey:Oe.utils.randomPrivateKey,lift_x:Vc,pointToBytes:Zs,numberToBytesBE:lt,bytesToNumberBE:ke,taggedHash:zn,mod:ee}}))(),Eh=(()=>mh(Xe,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(t=>BigInt(t)))))(),Ph=(()=>uh(Xe,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:Xe.create(BigInt("-11"))}))(),Ys=(()=>yh(Oe.ProjectivePoint,e=>{const{x:t,y:n}=Ph(Xe.create(e[0]));return Eh(t,n)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:Xe.ORDER,m:1,k:128,expand:"xmd",hash:$n}))(),Ih=(()=>Ys.hashToCurve)(),Ah=(()=>Ys.encodeToCurve)(),$h=Object.freeze(Object.defineProperty({__proto__:null,encodeToCurve:Ah,hashToCurve:Ih,schnorr:vh,secp256k1:Oe,secp256k1_hasher:Ys},Symbol.toStringTag,{value:"Module"}));function Zc(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new Nr({signature:e});if(typeof e.s>"u")throw new Nr({signature:e});if(n&&typeof e.yParity>"u")throw new Nr({signature:e});if(e.r<0n||e.r>Yo)throw new kh({value:e.r});if(e.s<0n||e.s>Yo)throw new zh({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new Xs({value:e.yParity})}function Bh(e){return Kc(ge(e))}function Kc(e){if(e.length!==130&&e.length!==132)throw new Nh({signature:e});const t=BigInt(ne(e,0,32)),n=BigInt(ne(e,32,64)),r=(()=>{const s=+`0x${e.slice(130)}`;if(!Number.isNaN(s))try{return Js(s)}catch{throw new Xs({value:s})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function Yc(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return Jc(e)}function Jc(e){const t=(()=>typeof e=="string"?Kc(e):e instanceof Uint8Array?Bh(e):typeof e.r=="string"?Th(e):e.v?Sh(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}})();return Zc(t),t}function Sh(e){return{r:e.r,s:e.s,yParity:Js(e.v)}}function Th(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let r=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=Js(n)),typeof r!="number")throw new Xs({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function Ch(e){const{r:t,s:n,yParity:r}=e;return[r?"0x01":"0x",t===0n?"0x":Uo(W(t)),n===0n?"0x":Uo(W(n))]}function Js(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new _h({value:e})}class Nh extends F{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${ce(Cs(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class Nr extends F{constructor({signature:t}){super(`Signature \`${Kn(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class kh extends F{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class zh extends F{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class Xs extends F{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class _h extends F{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function Rh(e,t={}){return typeof e.chainId=="string"?Oh(e):{...e,...t.signature}}function Oh(e){const{address:t,chainId:n,nonce:r}=e,s=Yc(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...s}}function Lh(e){return Mh(e,{presign:!0})}function Mh(e,t={}){const{presign:n}=t;return rr(be("0x05",G1(Uh(n?{address:e.address,chainId:e.chainId,nonce:e.nonce}:e))))}function Uh(e){const{address:t,chainId:n,nonce:r}=e,s=Yc(e);return[n?W(n):"0x",t,r?W(r):"0x",...s?Ch(s):[]]}function Fh(e){return b1(qh(e))}function qh(e){const{payload:t,signature:n}=e,{r,s,yParity:o}=n,a=new Oe.Signature(BigInt(r),BigInt(s)).addRecoveryBit(o).recoverPublicKey(Cs(t).substring(2));return o1(a)}const Xc="0x8010801080108010801080108010801080108010801080108010801080108010",Qc=Sc("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function Qs(e){if(typeof e=="string"){if(ne(e,-32)!==Xc)throw new Gh(e)}else Zc(e.authorization)}function e0(e){Qs(e);const t=Ta(ne(e,-64,-32)),n=ne(e,-t-64,-64),r=ne(e,0,-t-64),[s,o,i]=L1(Qc,n);return{authorization:Rh({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...i&&i!=="0x"?{data:i,to:o}:{}}}function jh(e){const{data:t,signature:n}=e;Qs(e);const r=Fh({payload:Lh(e.authorization),signature:Jc(e.authorization)}),s=sr(Qc,[{...e.authorization,delegation:e.authorization.address,chainId:BigInt(e.authorization.chainId)},e.to??r,t??"0x"]),o=W(ce(s),{size:32});return be(n,s,o,Xc)}function t0(e){try{return Qs(e),!0}catch{return!1}}let Gh=class extends F{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function Dh(e){return t0(e)}function Ym(e){if(!n1(e))return{signature:e};const[t,n,r]=ut([{type:"address"},{type:"bytes"},{type:"bytes"}],e);return{address:t,data:n,signature:r}}function Jm(e){if(!Dh(e))return{signature:e};const{authorization:t,to:n,...r}=e0(e);return{authorization:{address:t.address,chainId:t.chainId,nonce:Number(t.nonce),r:A(t.r,{size:32}),s:A(t.s,{size:32}),yParity:t.yParity},...n?{address:n}:{},...r}}async function Vh({message:e,signature:t}){return Bt({hash:Us(e),signature:t})}async function Hh(e){const{domain:t,message:n,primaryType:r,signature:s,types:o}=e;return Bt({hash:yc({domain:t,message:n,primaryType:r,types:o}),signature:s})}function Xm(e){const{address:t,data:n,signature:r,to:s="hex"}=e,o=we([Ve([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),Pc]);return s==="hex"?o:de(o)}function Qm(e){const{address:t,data:n,signature:r,to:s="hex"}=e,o=jh({authorization:{address:e.authorization.address,chainId:e.authorization.chainId,nonce:BigInt(e.authorization.nonce),r:BigInt(e.authorization.r),s:BigInt(e.authorization.s),yParity:e.authorization.yParity},data:n,signature:r,to:t});return s==="hex"?o:de(o)}async function e5({address:e,hash:t,signature:n}){return He(_e(e),await Bt({hash:t,signature:n}))}async function t5({address:e,message:t,signature:n}){return He(_e(e),await Vh({message:t,signature:n}))}async function n5(e){const{address:t,domain:n,message:r,primaryType:s,signature:o,types:i}=e;return He(_e(t),await Hh({domain:n,message:r,primaryType:s,signature:o,types:i}))}function Wh(e){const t=Mt(e,0,1);if(t==="0x04")return"eip7702";if(t==="0x03")return"eip4844";if(t==="0x02")return"eip1559";if(t==="0x01")return"eip2930";if(t!=="0x"&&V(t)>=192)return"legacy";throw new ff({serializedType:t})}function Zh(e){const t=Wh(e);return t==="eip1559"?Jh(e):t==="eip2930"?Xh(e):t==="eip4844"?Yh(e):t==="eip7702"?Kh(e):Qh(e)}function Kh(e){const t=ir(e),[n,r,s,o,i,a,c,u,f,d,h,l,p]=t;if(t.length!==10&&t.length!==13)throw new en({attributes:{chainId:n,nonce:r,maxPriorityFeePerGas:s,maxFeePerGas:o,gas:i,to:a,value:c,data:u,accessList:f,authorizationList:d,...t.length>9?{v:h,r:l,s:p}:{}},serializedTransaction:e,type:"eip7702"});const b={chainId:V(n),type:"eip7702"};return U(a)&&a!=="0x"&&(b.to=a),U(i)&&i!=="0x"&&(b.gas=j(i)),U(u)&&u!=="0x"&&(b.data=u),U(r)&&(b.nonce=r==="0x"?0:V(r)),U(c)&&c!=="0x"&&(b.value=j(c)),U(o)&&o!=="0x"&&(b.maxFeePerGas=j(o)),U(s)&&s!=="0x"&&(b.maxPriorityFeePerGas=j(s)),f.length!==0&&f!=="0x"&&(b.accessList=ar(f)),d.length!==0&&d!=="0x"&&(b.authorizationList=eb(d)),rc(b),{...t.length===13?ln(t):void 0,...b}}function Yh(e){const t=ir(e),n=t.length===4,r=n?t[0]:t,s=n?t.slice(1):[],[o,i,a,c,u,f,d,h,l,p,b,g,m,x]=r,[w,y,v]=s;if(!(r.length===11||r.length===14))throw new en({attributes:{chainId:o,nonce:i,maxPriorityFeePerGas:a,maxFeePerGas:c,gas:u,to:f,value:d,data:h,accessList:l,...r.length>9?{v:g,r:m,s:x}:{}},serializedTransaction:e,type:"eip4844"});const E={blobVersionedHashes:b,chainId:V(o),type:"eip4844"};return U(f)&&f!=="0x"&&(E.to=f),U(u)&&u!=="0x"&&(E.gas=j(u)),U(h)&&h!=="0x"&&(E.data=h),U(i)&&(E.nonce=i==="0x"?0:V(i)),U(d)&&d!=="0x"&&(E.value=j(d)),U(p)&&p!=="0x"&&(E.maxFeePerBlobGas=j(p)),U(c)&&c!=="0x"&&(E.maxFeePerGas=j(c)),U(a)&&a!=="0x"&&(E.maxPriorityFeePerGas=j(a)),l.length!==0&&l!=="0x"&&(E.accessList=ar(l)),w&&y&&v&&(E.sidecars=vs({blobs:w,commitments:y,proofs:v})),sc(E),{...r.length===14?ln(r):void 0,...E}}function Jh(e){const t=ir(e),[n,r,s,o,i,a,c,u,f,d,h,l]=t;if(!(t.length===9||t.length===12))throw new en({attributes:{chainId:n,nonce:r,maxPriorityFeePerGas:s,maxFeePerGas:o,gas:i,to:a,value:c,data:u,accessList:f,...t.length>9?{v:d,r:h,s:l}:{}},serializedTransaction:e,type:"eip1559"});const p={chainId:V(n),type:"eip1559"};return U(a)&&a!=="0x"&&(p.to=a),U(i)&&i!=="0x"&&(p.gas=j(i)),U(u)&&u!=="0x"&&(p.data=u),U(r)&&(p.nonce=r==="0x"?0:V(r)),U(c)&&c!=="0x"&&(p.value=j(c)),U(o)&&o!=="0x"&&(p.maxFeePerGas=j(o)),U(s)&&s!=="0x"&&(p.maxPriorityFeePerGas=j(s)),f.length!==0&&f!=="0x"&&(p.accessList=ar(f)),tr(p),{...t.length===12?ln(t):void 0,...p}}function Xh(e){const t=ir(e),[n,r,s,o,i,a,c,u,f,d,h]=t;if(!(t.length===8||t.length===11))throw new en({attributes:{chainId:n,nonce:r,gasPrice:s,gas:o,to:i,value:a,data:c,accessList:u,...t.length>8?{v:f,r:d,s:h}:{}},serializedTransaction:e,type:"eip2930"});const l={chainId:V(n),type:"eip2930"};return U(i)&&i!=="0x"&&(l.to=i),U(o)&&o!=="0x"&&(l.gas=j(o)),U(c)&&c!=="0x"&&(l.data=c),U(r)&&(l.nonce=r==="0x"?0:V(r)),U(a)&&a!=="0x"&&(l.value=j(a)),U(s)&&s!=="0x"&&(l.gasPrice=j(s)),u.length!==0&&u!=="0x"&&(l.accessList=ar(u)),oc(l),{...t.length===11?ln(t):void 0,...l}}function Qh(e){const t=uc(e,"hex"),[n,r,s,o,i,a,c,u,f]=t;if(!(t.length===6||t.length===9))throw new en({attributes:{nonce:n,gasPrice:r,gas:s,to:o,value:i,data:a,...t.length>6?{v:c,r:u,s:f}:{}},serializedTransaction:e,type:"legacy"});const d={type:"legacy"};if(U(o)&&o!=="0x"&&(d.to=o),U(s)&&s!=="0x"&&(d.gas=j(s)),U(a)&&a!=="0x"&&(d.data=a),U(n)&&(d.nonce=n==="0x"?0:V(n)),U(i)&&i!=="0x"&&(d.value=j(i)),U(r)&&r!=="0x"&&(d.gasPrice=j(r)),ic(d),t.length===6)return d;const h=U(c)&&c!=="0x"?j(c):0n;if(f==="0x"&&u==="0x")return h>0&&(d.chainId=Number(h)),d;const l=h,p=Number((l-35n)/2n);if(p>0)d.chainId=p;else if(l!==27n&&l!==28n)throw new Xi({v:l});return d.v=l,d.s=f,d.r=u,d.yParity=l%2n===0n?1:0,d}function ir(e){return uc(`0x${e.slice(4)}`,"hex")}function ar(e){const t=[];for(let n=0;n<e.length;n++){const[r,s]=e[n];if(!X(r,{strict:!1}))throw new ae({address:r});t.push({address:r,storageKeys:s.map(o=>zl(o)?o:ze(o))})}return t}function eb(e){const t=[];for(let n=0;n<e.length;n++){const[r,s,o,i,a,c]=e[n];t.push({address:s,chainId:r==="0x"?0:V(r),nonce:o==="0x"?0:V(o),...ln([i,a,c])})}return t}function ln(e){const t=e.slice(-3),n=t[0]==="0x"||j(t[0])===0n?27n:28n;return{r:Fe(t[1],{size:32}),s:Fe(t[2],{size:32}),v:n,yParity:n===27n?0:1}}class tb extends ${constructor({value:t}){super(`Number \`${t}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function n0(e,t){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new tb({value:e});let[n,r="0"]=e.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),t===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>t){const[o,i,a]=[r.slice(0,t-1),r.slice(t-1,t),r.slice(t)],c=Math.round(+`${i}.${a}`);c>9?r=`${BigInt(o)+BigInt(1)}0`.padStart(o.length+1,"0"):r=`${o}${c}`,r.length>t&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,t)}else r=r.padEnd(t,"0");return BigInt(`${s?"-":""}${n}${r}`)}function r5(e,t="wei"){return n0(e,ui[t])}function s5(e,t="wei"){return n0(e,S0[t])}function nb(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function rb(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?V(e.nonce):void 0,storageProof:e.storageProof?nb(e.storageProof):void 0}}async function sb(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const o=r??"latest",i=n!==void 0?A(n):void 0,a=await e.request({method:"eth_getProof",params:[t,s,i||o]});return rb(a)}async function ob(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const o=n!==void 0?A(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,o||r]})}async function eo(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){var f,d,h;const i=r||"latest",a=n!==void 0?A(n):void 0;let c=null;if(s?c=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,A(o)]},{dedupe:!0}):(a||i)&&(c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||i,A(o)]},{dedupe:!!a})),!c)throw new Qi({blockHash:t,blockNumber:n,blockTag:i,hash:s,index:o});return(((h=(d=(f=e.chain)==null?void 0:f.formatters)==null?void 0:d.transaction)==null?void 0:h.format)||ps)(c)}async function ib(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([L(e,an,"getBlockNumber")({}),t?L(e,eo,"getTransaction")({hash:t}):void 0]),o=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return o?r-o+1n:0n}async function En(e,{hash:t}){var s,o,i;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new ea({hash:t});return(((i=(o=(s=e.chain)==null?void 0:s.formatters)==null?void 0:o.transactionReceipt)==null?void 0:i.format)||Da)(n)}async function ab(e,t){var x;const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:o,blockOverrides:i,blockTag:a,stateOverride:c}=t,u=t.contracts,{batchSize:f=t.batchSize??1024,deployless:d=t.deployless??!1}=typeof((x=e.batch)==null?void 0:x.multicall)=="object"?e.batch.multicall:{},h=(()=>{if(t.multicallAddress)return t.multicallAddress;if(d)return null;if(e.chain)return Tt({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),l=[[]];let p=0,b=0;for(let w=0;w<u.length;w++){const{abi:y,address:v,args:E,functionName:P}=u[w];try{const I=xe({abi:y,args:E,functionName:P});b+=(I.length-2)/2,f>0&&b>f&&l[p].length>0&&(p++,b=(I.length-2)/2,l[p]=[]),l[p]=[...l[p],{allowFailure:!0,callData:I,target:v}]}catch(I){const T=st(I,{abi:y,address:v,args:E,docsPath:"/docs/contract/multicall",functionName:P,sender:n});if(!s)throw T;l[p]=[...l[p],{allowFailure:!0,callData:"0x",target:v}]}}const g=await Promise.allSettled(l.map(w=>L(e,Pe,"readContract")({...h===null?{code:ks}:{address:h},abi:In,account:n,args:[w],authorizationList:r,blockNumber:o,blockOverrides:i,blockTag:a,functionName:"aggregate3",stateOverride:c}))),m=[];for(let w=0;w<g.length;w++){const y=g[w];if(y.status==="rejected"){if(!s)throw y.reason;for(let E=0;E<l[w].length;E++)m.push({status:"failure",error:y.reason,result:void 0});continue}const v=y.value;for(let E=0;E<v.length;E++){const{returnData:P,success:I}=v[E],{callData:T}=l[w][E],{abi:k,address:B,functionName:z,args:_}=u[m.length];try{if(T==="0x")throw new Kt;if(!I)throw new qn({data:P});const q=dt({abi:k,args:_,data:P,functionName:z});m.push(s?{result:q,status:"success"}:q)}catch(q){const C=st(q,{abi:k,address:B,args:_,docsPath:"/docs/contract/multicall",functionName:z});if(!s)throw C;m.push({error:C,result:void 0,status:"failure"})}}}if(m.length!==u.length)throw new $("multicall results mismatch");return m}async function ts(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:o,traceTransfers:i,validation:a}=t;try{const c=[];for(const h of s){const l=h.blockOverrides?za(h.blockOverrides):void 0,p=h.calls.map(g=>{const m=g,x=m.account?Y(m.account):void 0,w=m.abi?xe(m):m.data,y={...m,data:m.dataSuffix?he([w||"0x",m.dataSuffix]):w,from:m.from??(x==null?void 0:x.address)};return ft(y),Qe(y)}),b=h.stateOverrides?hs(h.stateOverrides):void 0;c.push({blockOverrides:l,calls:p,stateOverrides:b})}const f=(typeof n=="bigint"?A(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:o,traceTransfers:i,validation:a},f]})).map((h,l)=>({...ms(h),calls:h.calls.map((p,b)=>{var k,B;const{abi:g,args:m,functionName:x,to:w}=s[l].calls[b],y=((k=p.error)==null?void 0:k.data)??p.returnData,v=BigInt(p.gasUsed),E=(B=p.logs)==null?void 0:B.map(z=>je(z)),P=p.status==="0x1"?"success":"failure",I=g&&P==="success"&&y!=="0x"?dt({abi:g,data:y,functionName:x}):null,T=(()=>{var _;if(P==="success")return;let z;if(((_=p.error)==null?void 0:_.data)==="0x"?z=new Kt:p.error&&(z=new qn(p.error)),!!z)return st(z,{abi:g??[],address:w??"0x",args:m,functionName:x??"<unknown>"})})();return{data:y,gasUsed:v,logs:E,status:P,...P==="success"?{result:I}:{error:T}}})}))}catch(c){const u=c,f=jn(u,{});throw f instanceof Wt?u:f}}function ns(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function","error",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new F("Unable to normalize signature.");return s}function rs(e,t){const n=typeof e,r=t.type;switch(r){case"address":return Wr(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>rs(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>rs(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function r0(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return r0(s.components,o.components,n[r]);const i=[s.type,o.type];if((()=>i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?Wr(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?Wr(n[r],{strict:!1}):!1)())return i}}function s0(e,t={}){const{prepare:n=!0}=t,r=(()=>Array.isArray(e)||typeof e=="string"?wo(e):e)();return{...r,...n?{hash:gt(r)}:{}}}function cb(e,t,n){const{args:r=[],prepare:s=!0}=n??{},o=Ca(t,{strict:!1}),i=e.filter(u=>o?u.type==="function"||u.type==="error"?o0(u)===ne(t,0,4):u.type==="event"?gt(u)===t:!1:"name"in u&&u.name===t);if(i.length===0)throw new ss({name:t});if(i.length===1)return{...i[0],...s?{hash:gt(i[0])}:{}};let a;for(const u of i){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:gt(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((d,h)=>{const l="inputs"in u&&u.inputs[h];return l?rs(d,l):!1})){if(a&&"inputs"in a&&a.inputs){const d=r0(u.inputs,a.inputs,r);if(d)throw new fb({abiItem:u,type:d[0]},{abiItem:a,type:d[1]})}a=u}}const c=(()=>{if(a)return a;const[u,...f]=i;return{...u,overloads:f}})();if(!c)throw new ss({name:t});return{...c,...s?{hash:gt(c)}:{}}}function o0(e){return ne(gt(e),0,4)}function ub(e){const t=(()=>typeof e=="string"?e:Bn(e))();return ns(t)}function gt(e){return typeof e!="string"&&"hash"in e&&e.hash?e.hash:rr(Ns(ub(e)))}class fb extends F{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${ns(Bn(t.abiItem))}\`, and`,`\`${n.type}\` in \`${ns(Bn(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class ss extends F{constructor({name:t,data:n,type:r="item"}){const s=(()=>t?` with name "${t}"`:n?` with data "${n}"`:"")();super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function db(e,t){var s;const{bytecode:n,args:r}=t;return be(n,(s=e.inputs)!=null&&s.length&&(r!=null&&r.length)?sr(e.inputs,r):"0x")}function lb(e){return s0(e)}function hb(e,...t){const{overloads:n}=e,r=n?bb([e,...n],e.name,{args:t[0]}):e,s=pb(r),o=t.length>0?sr(r.inputs,t[0]):void 0;return o?be(s,o):s}function mt(e,t={}){return s0(e,t)}function bb(e,t,n){const r=cb(e,t,n);if(r.type!=="function")throw new ss({name:t,type:"function"});return r}function pb(e){return o0(e)}const mb="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Be="0x0000000000000000000000000000000000000000",yb="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function gb(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:o,traceAssetChanges:i,traceTransfers:a,validation:c}=t,u=t.account?Y(t.account):void 0;if(i&&!u)throw new $("`account` is required when `traceAssetChanges` is true");const f=u?db(lb("constructor(bytes, bytes)"),{bytecode:_a,args:[yb,hb(mt("function getBalance(address)"),[u.address])]}):void 0,d=i?await Promise.all(t.calls.map(async S=>{if(!S.data&&!S.abi)return;const{accessList:R}=await Qa(e,{account:u.address,...S,data:S.abi?xe(S):S.data});return R.map(({address:M,storageKeys:G})=>G.length>0?M:null)})).then(S=>S.flat().filter(Boolean)):[],h=await ts(e,{blockNumber:n,blockTag:r,blocks:[...i?[{calls:[{data:f}],stateOverrides:o},{calls:d.map((S,R)=>({abi:[mt("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:S,from:Be,nonce:R})),stateOverrides:[{address:Be,nonce:0}]}]:[],{calls:[...s,{}].map(S=>({...S,from:u==null?void 0:u.address})),stateOverrides:o},...i?[{calls:[{data:f}]},{calls:d.map((S,R)=>({abi:[mt("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:S,from:Be,nonce:R})),stateOverrides:[{address:Be,nonce:0}]},{calls:d.map((S,R)=>({to:S,abi:[mt("function decimals() returns (uint256)")],functionName:"decimals",from:Be,nonce:R})),stateOverrides:[{address:Be,nonce:0}]},{calls:d.map((S,R)=>({to:S,abi:[mt("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Be,nonce:R})),stateOverrides:[{address:Be,nonce:0}]},{calls:d.map((S,R)=>({to:S,abi:[mt("function symbol() returns (string)")],functionName:"symbol",from:Be,nonce:R})),stateOverrides:[{address:Be,nonce:0}]}]:[]],traceTransfers:a,validation:c}),l=i?h[2]:h[0],[p,b,,g,m,x,w,y]=i?h:[],{calls:v,...E}=l,P=v.slice(0,-1)??[],I=(p==null?void 0:p.calls)??[],T=(b==null?void 0:b.calls)??[],k=[...I,...T].map(S=>S.status==="success"?j(S.data):null),B=(g==null?void 0:g.calls)??[],z=(m==null?void 0:m.calls)??[],_=[...B,...z].map(S=>S.status==="success"?j(S.data):null),q=((x==null?void 0:x.calls)??[]).map(S=>S.status==="success"?S.result:null),C=((y==null?void 0:y.calls)??[]).map(S=>S.status==="success"?S.result:null),N=((w==null?void 0:w.calls)??[]).map(S=>S.status==="success"?S.result:null),O=[];for(const[S,R]of _.entries()){const M=k[S];if(typeof R!="bigint"||typeof M!="bigint")continue;const G=q[S-1],Q=C[S-1],se=N[S-1],re=(()=>S===0?{address:mb,decimals:18,symbol:"ETH"}:{address:d[S-1],decimals:se||G?Number(G??1):void 0,symbol:Q??void 0})();O.some(J=>J.token.address===re.address)||O.push({token:re,value:{pre:M,post:R,diff:R-M}})}return{assetChanges:O,block:E,results:P}}const i0="0x6492649264926492649264926492649264926492649264926492649264926492";function wb(e){if(ne(e,-32)!==i0)throw new Eb(e)}function xb(e){const{data:t,signature:n,to:r}=e;return be(sr(Sc("address, bytes, bytes"),[r,t,n]),i0)}function vb(e){try{return wb(e),!0}catch{return!1}}class Eb extends F{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function Pb({r:e,s:t,to:n="hex",v:r,yParity:s}){const o=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),i=`0x${new Oe.Signature(j(e),j(t)).toCompactHex()}${o===0?"1b":"1c"}`;return n==="hex"?i:de(i)}async function cr(e,t){var a,c,u,f,d,h;const{address:n,hash:r,erc6492VerifierAddress:s=t.universalSignatureVerifierAddress??((u=(c=(a=e.chain)==null?void 0:a.contracts)==null?void 0:c.erc6492Verifier)==null?void 0:u.address),multicallAddress:o=t.multicallAddress??((h=(d=(f=e.chain)==null?void 0:f.contracts)==null?void 0:d.multicall3)==null?void 0:h.address)}=t,i=(()=>{const l=t.signature;return U(l)?l:typeof l=="object"&&"r"in l&&"s"in l?Pb(l):H(l)})();try{return t0(i)?await Ib(e,{...t,multicallAddress:o,signature:i}):await Ab(e,{...t,verifierAddress:s,signature:i})}catch(l){try{if(He(_e(n),await Bt({hash:r,signature:i})))return!0}catch{}if(l instanceof at)return!1;throw l}}async function Ib(e,t){var g;const{address:n,blockNumber:r,blockTag:s,hash:o,multicallAddress:i}=t,{authorization:a,data:c,signature:u,to:f}=e0(t.signature);if(await Hr(e,{address:n,blockNumber:r,blockTag:s})===we(["0xef0100",a.address]))return await $b(e,{address:n,blockNumber:r,blockTag:s,hash:o,signature:u});const h={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:A(a.r,{size:32}),s:A(a.s,{size:32}),yParity:a.yParity};if(!await Al({address:n,authorization:h}))throw new at;const p=await L(e,Pe,"readContract")({...i?{address:i}:{code:ks},authorizationList:[h],abi:In,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:f??n,callData:c}]:[],{allowFailure:!0,target:n,callData:xe({abi:yi,functionName:"isValidSignature",args:[o,u]})}]]}),b=(g=p[p.length-1])==null?void 0:g.returnData;if(b!=null&&b.startsWith("0x1626ba7e"))return!0;throw new at}async function Ab(e,t){const{address:n,factory:r,factoryData:s,hash:o,signature:i,verifierAddress:a,...c}=t,u=await(async()=>!r&&!s||vb(i)?i:xb({data:s,signature:i,to:r}))(),f=a?{to:a,data:xe({abi:yo,functionName:"isValidSig",args:[n,o,u]}),...c}:{data:Jn({abi:yo,args:[n,o,u],bytecode:Ed}),...c},{data:d}=await L(e,on,"call")(f).catch(h=>{throw h instanceof ta?new at:h});if(T0(d??"0x0"))return!0;throw new at}async function $b(e,t){const{address:n,blockNumber:r,blockTag:s,hash:o,signature:i}=t;if((await L(e,Pe,"readContract")({address:n,abi:yi,args:[o,i],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(c=>{throw c instanceof na?new at:c})).startsWith("0x1626ba7e"))return!0;throw new at}class at extends Error{}async function Bb(e,{address:t,message:n,factory:r,factoryData:s,signature:o,...i}){const a=Us(n);return cr(e,{address:t,factory:r,factoryData:s,hash:a,signature:o,...i})}async function Sb(e,t){const{address:n,factory:r,factoryData:s,signature:o,message:i,primaryType:a,types:c,domain:u,...f}=t,d=yc({message:i,primaryType:a,types:c,domain:u});return cr(e,{address:n,factory:r,factoryData:s,hash:d,signature:o,...f})}function a0(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:o,pollingInterval:i=e.pollingInterval}){const a=(()=>typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))();let c;return a?(()=>{const d=le(["watchBlockNumber",e.uid,t,n,i]);return Ge(d,{onBlockNumber:r,onError:s},h=>Ct(async()=>{var l;try{const p=await L(e,an,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(p===c)return;if(p-c>1&&n)for(let b=c+1n;b<p;b++)h.onBlockNumber(b,c),c=b}(c===void 0||p>c)&&(h.onBlockNumber(p,c),c=p)}catch(p){(l=h.onError)==null||l.call(h,p)}},{emitOnBegin:t,interval:i}))})():(()=>{const d=le(["watchBlockNumber",e.uid,t,n]);return Ge(d,{onBlockNumber:r,onError:s},h=>{let l=!0,p=()=>l=!1;return(async()=>{try{const b=(()=>{if(e.transport.type==="fallback"){const m=e.transport.transports.find(x=>x.config.type==="webSocket"||x.config.type==="ipc");return m?m.value:e.transport}return e.transport})(),{unsubscribe:g}=await b.subscribe({params:["newHeads"],onData(m){var w;if(!l)return;const x=j((w=m.result)==null?void 0:w.number);h.onBlockNumber(x,c),c=x},onError(m){var x;(x=h.onError)==null||x.call(h,m)}});p=g,l||p()}catch(b){s==null||s(b)}})(),()=>p()})})()}async function Tb(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:o,retryCount:i=6,retryDelay:a=({count:v})=>~~(1<<v)*200,timeout:c=18e4}=t,u=le(["waitForTransactionReceipt",e.uid,s]),f=(()=>{var v;return t.pollingInterval?t.pollingInterval:(v=e.chain)!=null&&v.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval})();let d,h,l,p=!1,b,g;const{promise:m,resolve:x,reject:w}=hi(),y=c?setTimeout(()=>{g==null||g(),b==null||b(),w(new hf({hash:s}))},c):void 0;return b=Ge(u,{onReplaced:o,resolve:x,reject:w},async v=>{if(l=await L(e,En,"getTransactionReceipt")({hash:s}).catch(()=>{}),l&&r<=1){clearTimeout(y),v.resolve(l),b==null||b();return}g=L(e,a0,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:f,async onBlockNumber(E){const P=T=>{clearTimeout(y),g==null||g(),T(),b==null||b()};let I=E;if(!p)try{if(l){if(r>1&&(!l.blockNumber||I-l.blockNumber+1n<r))return;P(()=>v.resolve(l));return}if(n&&!d&&(p=!0,await zr(async()=>{d=await L(e,eo,"getTransaction")({hash:s}),d.blockNumber&&(I=d.blockNumber)},{delay:a,retryCount:i}),p=!1),l=await L(e,En,"getTransactionReceipt")({hash:s}),r>1&&(!l.blockNumber||I-l.blockNumber+1n<r))return;P(()=>v.resolve(l))}catch(T){if(T instanceof Qi||T instanceof ea){if(!d){p=!1;return}try{h=d,p=!0;const k=await zr(()=>L(e,Se,"getBlock")({blockNumber:I,includeTransactions:!0}),{delay:a,retryCount:i,shouldRetry:({error:_})=>_ instanceof oa});p=!1;const B=k.transactions.find(({from:_,nonce:q})=>_===h.from&&q===h.nonce);if(!B||(l=await L(e,En,"getTransactionReceipt")({hash:B.hash}),r>1&&(!l.blockNumber||I-l.blockNumber+1n<r)))return;let z="replaced";B.to===h.to&&B.value===h.value&&B.input===h.input?z="repriced":B.from===B.to&&B.value===0n&&(z="cancelled"),P(()=>{var _;(_=v.onReplaced)==null||_.call(v,{reason:z,replacedTransaction:h,transaction:B,transactionReceipt:l}),v.resolve(l)})}catch(k){P(()=>v.reject(k))}}else P(()=>v.reject(T))}}})}),m}function Cb(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:o,includeTransactions:i,poll:a,pollingInterval:c=e.pollingInterval}){const u=(()=>typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))(),f=i??!1;let d;return u?(()=>{const p=le(["watchBlocks",e.uid,t,n,r,f,c]);return Ge(p,{onBlock:s,onError:o},b=>Ct(async()=>{var g;try{const m=await L(e,Se,"getBlock")({blockTag:t,includeTransactions:f});if(m.number!==null&&(d==null?void 0:d.number)!=null){if(m.number===d.number)return;if(m.number-d.number>1&&n)for(let x=(d==null?void 0:d.number)+1n;x<m.number;x++){const w=await L(e,Se,"getBlock")({blockNumber:x,includeTransactions:f});b.onBlock(w,d),d=w}}((d==null?void 0:d.number)==null||t==="pending"&&(m==null?void 0:m.number)==null||m.number!==null&&m.number>d.number)&&(b.onBlock(m,d),d=m)}catch(m){(g=b.onError)==null||g.call(b,m)}},{emitOnBegin:r,interval:c}))})():(()=>{let p=!0,b=!0,g=()=>p=!1;return(async()=>{try{r&&L(e,Se,"getBlock")({blockTag:t,includeTransactions:f}).then(w=>{p&&b&&(s(w,void 0),b=!1)}).catch(o);const m=(()=>{if(e.transport.type==="fallback"){const w=e.transport.transports.find(y=>y.config.type==="webSocket"||y.config.type==="ipc");return w?w.value:e.transport}return e.transport})(),{unsubscribe:x}=await m.subscribe({params:["newHeads"],async onData(w){var v;if(!p)return;const y=await L(e,Se,"getBlock")({blockNumber:(v=w.result)==null?void 0:v.number,includeTransactions:f}).catch(()=>{});p&&(s(y,d),b=!1,d=y)},onError(w){o==null||o(w)}});g=x,p||g()}catch(m){o==null||o(m)}})(),()=>g()})()}function Nb(e,{address:t,args:n,batch:r=!0,event:s,events:o,fromBlock:i,onError:a,onLogs:c,poll:u,pollingInterval:f=e.pollingInterval,strict:d}){const h=(()=>typeof u<"u"?u:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))(),l=d??!1;return h?(()=>{const g=le(["watchEvent",t,n,r,e.uid,s,f,i]);return Ge(g,{onLogs:c,onError:a},m=>{let x;i!==void 0&&(x=i-1n);let w,y=!1;const v=Ct(async()=>{var E;if(!y){try{w=await L(e,ec,"createEventFilter")({address:t,args:n,event:s,events:o,strict:l,fromBlock:i})}catch{}y=!0;return}try{let P;if(w)P=await L(e,Xn,"getFilterChanges")({filter:w});else{const I=await L(e,an,"getBlockNumber")({});x&&x!==I?P=await L(e,As,"getLogs")({address:t,args:n,event:s,events:o,fromBlock:x+1n,toBlock:I}):P=[],x=I}if(P.length===0)return;if(r)m.onLogs(P);else for(const I of P)m.onLogs([I])}catch(P){w&&P instanceof li&&(y=!1),(E=m.onError)==null||E.call(m,P)}},{emitOnBegin:!0,interval:f});return async()=>{w&&await L(e,Qn,"uninstallFilter")({filter:w}),v()}})})():(()=>{let g=!0,m=()=>g=!1;return(async()=>{try{const x=(()=>{if(e.transport.type==="fallback"){const E=e.transport.transports.find(P=>P.config.type==="webSocket"||P.config.type==="ipc");return E?E.value:e.transport}return e.transport})(),w=o??(s?[s]:void 0);let y=[];w&&(y=[w.flatMap(P=>Xt({abi:[P],eventName:P.name,args:n}))],s&&(y=y[0]));const{unsubscribe:v}=await x.subscribe({params:["logs",{address:t,topics:y}],onData(E){var I;if(!g)return;const P=E.result;try{const{eventName:T,args:k}=Ps({abi:w??[],data:P.data,topics:P.topics,strict:l}),B=je(P,{args:k,eventName:T});c([B])}catch(T){let k,B;if(T instanceof Lt||T instanceof Mn){if(d)return;k=T.abiItem.name,B=(I=T.abiItem.inputs)==null?void 0:I.some(_=>!("name"in _&&_.name))}const z=je(P,{args:B?[]:{},eventName:k});c([z])}},onError(E){a==null||a(E)}});m=v,g||m()}catch(x){a==null||a(x)}})(),()=>m()})()}function kb(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:o=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const u=le(["watchPendingTransactions",e.uid,t,o]);return Ge(u,{onTransactions:r,onError:n},f=>{let d;const h=Ct(async()=>{var l;try{if(!d)try{d=await L(e,tc,"createPendingTransactionFilter")({});return}catch(b){throw h(),b}const p=await L(e,Xn,"getFilterChanges")({filter:d});if(p.length===0)return;if(t)f.onTransactions(p);else for(const b of p)f.onTransactions([b])}catch(p){(l=f.onError)==null||l.call(f,p)}},{emitOnBegin:!0,interval:o});return async()=>{d&&await L(e,Qn,"uninstallFilter")({filter:d}),h()}})})():(()=>{let u=!0,f=()=>u=!1;return(async()=>{try{const{unsubscribe:d}=await e.transport.subscribe({params:["newPendingTransactions"],onData(h){if(!u)return;const l=h.result;r([l])},onError(h){n==null||n(h)}});f=d,u||f()}catch(d){n==null||n(d)}})(),()=>f()})()}function zb(e){var d,h,l;const{scheme:t,statement:n,...r}=((d=e.match(_b))==null?void 0:d.groups)??{},{chainId:s,expirationTime:o,issuedAt:i,notBefore:a,requestId:c,...u}=((h=e.match(Rb))==null?void 0:h.groups)??{},f=(l=e.split("Resources:")[1])==null?void 0:l.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...o?{expirationTime:new Date(o)}:{},...i?{issuedAt:new Date(i)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...f?{resources:f}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const _b=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Rb=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function Ob(e){const{address:t,domain:n,message:r,nonce:s,scheme:o,time:i=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||o&&r.scheme!==o||r.expirationTime&&i>=r.expirationTime||r.notBefore&&i<r.notBefore)return!1;try{if(!r.address||!X(r.address,{strict:!1})||t&&!He(r.address,t))return!1}catch{return!1}return!0}async function Lb(e,t){const{address:n,domain:r,message:s,nonce:o,scheme:i,signature:a,time:c=new Date,...u}=t,f=zb(s);if(!f.address||!Ob({address:n,domain:r,message:f,nonce:o,scheme:i,time:c}))return!1;const h=Us(s);return cr(e,{address:f.address,hash:h,signature:a,...u})}function Mb(e){return{call:t=>on(e,t),createAccessList:t=>Qa(e,t),createBlockFilter:()=>al(e),createContractEventFilter:t=>fs(e,t),createEventFilter:t=>ec(e,t),createPendingTransactionFilter:()=>tc(e),estimateContractGas:t=>ya(e,t),estimateGas:t=>Es(e,t),getBalance:t=>ma(e,t),getBlobBaseFee:()=>cl(e),getBlock:t=>Se(e,t),getBlockNumber:t=>an(e,t),getBlockTransactionCount:t=>ul(e,t),getBytecode:t=>Hr(e,t),getChainId:()=>St(e),getCode:t=>Hr(e,t),getContractEvents:t=>$s(e,t),getEip712Domain:t=>dl(e,t),getEnsAddress:t=>Dd(e,t),getEnsAvatar:t=>sl(e,t),getEnsName:t=>ol(e,t),getEnsResolver:t=>il(e,t),getEnsText:t=>Xa(e,t),getFeeHistory:t=>bl(e,t),estimateFeesPerGas:t=>Nf(e,t),getFilterChanges:t=>Xn(e,t),getFilterLogs:t=>pl(e,t),getGasPrice:()=>ys(e),getLogs:t=>As(e,t),getProof:t=>sb(e,t),estimateMaxPriorityFeePerGas:t=>Cf(e,t),getStorageAt:t=>ob(e,t),getTransaction:t=>eo(e,t),getTransactionConfirmations:t=>ib(e,t),getTransactionCount:t=>Vn(e,t),getTransactionReceipt:t=>En(e,t),multicall:t=>ab(e,t),prepareTransactionRequest:t=>Hn(e,t),readContract:t=>Pe(e,t),sendRawTransaction:t=>zs(e,t),simulate:t=>ts(e,t),simulateBlocks:t=>ts(e,t),simulateCalls:t=>gb(e,t),simulateContract:t=>Ma(e,t),verifyHash:t=>cr(e,t),verifyMessage:t=>Bb(e,t),verifySiweMessage:t=>Lb(e,t),verifyTypedData:t=>Sb(e,t),uninstallFilter:t=>Qn(e,t),waitForTransactionReceipt:t=>Tb(e,t),watchBlocks:t=>Cb(e,t),watchBlockNumber:t=>a0(e,t),watchContractEvent:t=>Ua(e,t),watchEvent:t=>Nb(e,t),watchPendingTransactions:t=>kb(e,t)}}function o5(e){const{key:t="public",name:n="Public Client"}=e;return _s({...e,key:t,name:n,type:"publicClient"}).extend(Mb)}async function Ub(e,{hash:t}){await e.request({method:`${e.mode}_dropTransaction`,params:[t]})}async function Fb(e){return e.request({method:`${e.mode}_dumpState`})}async function qb(e){return e.mode==="ganache"?await e.request({method:"eth_mining"}):await e.request({method:`${e.mode}_getAutomine`})}async function jb(e){return await e.request({method:"txpool_content"})}async function Gb(e){const{pending:t,queued:n}=await e.request({method:"txpool_status"});return{pending:V(t),queued:V(n)}}async function Db(e,{address:t}){await e.request({method:`${e.mode}_impersonateAccount`,params:[t]})}async function Vb(e,{seconds:t}){return await e.request({method:"evm_increaseTime",params:[A(t)]})}async function Hb(e){return await e.request({method:"txpool_inspect"})}async function Wb(e,{state:t}){await e.request({method:`${e.mode}_loadState`,params:[t]})}async function Zb(e,{blocks:t,interval:n}){e.mode==="ganache"?await e.request({method:"evm_mine",params:[{blocks:A(t)}]}):await e.request({method:`${e.mode}_mine`,params:[A(t),A(n||0)]})}async function Kb(e){await e.request({method:`${e.mode}_removeBlockTimestampInterval`})}async function Yb(e,{blockNumber:t,jsonRpcUrl:n}={}){await e.request({method:`${e.mode}_reset`,params:[{forking:{blockNumber:Number(t),jsonRpcUrl:n}}]})}async function Jb(e,{id:t}){await e.request({method:"evm_revert",params:[t]})}async function Xb(e,t){var m,x,w;const{accessList:n,data:r,from:s,gas:o,gasPrice:i,maxFeePerGas:a,maxPriorityFeePerGas:c,nonce:u,to:f,value:d,...h}=t,l=(w=(x=(m=e.chain)==null?void 0:m.formatters)==null?void 0:x.transactionRequest)==null?void 0:w.format,b=(l||Qe)({...tn(h,{format:l}),accessList:n,data:r,from:s,gas:o,gasPrice:i,maxFeePerGas:a,maxPriorityFeePerGas:c,nonce:u,to:f,value:d});return await e.request({method:"eth_sendUnsignedTransaction",params:[b]})}async function Qb(e,t){e.mode==="ganache"?t?await e.request({method:"miner_start"}):await e.request({method:"miner_stop"}):await e.request({method:"evm_setAutomine",params:[t]})}async function ep(e,{address:t,value:n}){e.mode==="ganache"?await e.request({method:"evm_setAccountBalance",params:[t,A(n)]}):await e.request({method:`${e.mode}_setBalance`,params:[t,A(n)]})}async function tp(e,{gasLimit:t}){await e.request({method:"evm_setBlockGasLimit",params:[A(t)]})}async function np(e,{interval:t}){const n=(()=>e.mode==="hardhat"?t*1e3:t)();await e.request({method:`${e.mode}_setBlockTimestampInterval`,params:[n]})}async function rp(e,{address:t,bytecode:n}){e.mode==="ganache"?await e.request({method:"evm_setAccountCode",params:[t,n]}):await e.request({method:`${e.mode}_setCode`,params:[t,n]})}async function sp(e,{address:t}){await e.request({method:`${e.mode}_setCoinbase`,params:[t]})}async function op(e,{interval:t}){const n=(()=>e.mode==="hardhat"?t*1e3:t)();await e.request({method:"evm_setIntervalMining",params:[n]})}async function ip(e,t){await e.request({method:`${e.mode}_setLoggingEnabled`,params:[t]})}async function ap(e,{gasPrice:t}){await e.request({method:`${e.mode}_setMinGasPrice`,params:[A(t)]})}async function cp(e,{baseFeePerGas:t}){await e.request({method:`${e.mode}_setNextBlockBaseFeePerGas`,params:[A(t)]})}async function up(e,{timestamp:t}){await e.request({method:"evm_setNextBlockTimestamp",params:[A(t)]})}async function fp(e,{address:t,nonce:n}){await e.request({method:`${e.mode}_setNonce`,params:[t,A(n)]})}async function dp(e,t){await e.request({method:`${e.mode}_setRpcUrl`,params:[t]})}async function lp(e,{address:t,index:n,value:r}){await e.request({method:`${e.mode}_setStorageAt`,params:[t,typeof n=="number"?A(n):n,r]})}async function hp(e){return await e.request({method:"evm_snapshot"})}async function bp(e,{address:t}){await e.request({method:`${e.mode}_stopImpersonatingAccount`,params:[t]})}function pp({mode:e}){return t=>{const n=t.extend(()=>({mode:e}));return{dropTransaction:r=>Ub(n,r),dumpState:()=>Fb(n),getAutomine:()=>qb(n),getTxpoolContent:()=>jb(n),getTxpoolStatus:()=>Gb(n),impersonateAccount:r=>Db(n,r),increaseTime:r=>Vb(n,r),inspectTxpool:()=>Hb(n),loadState:r=>Wb(n,r),mine:r=>Zb(n,r),removeBlockTimestampInterval:()=>Kb(n),reset:r=>Yb(n,r),revert:r=>Jb(n,r),sendUnsignedTransaction:r=>Xb(n,r),setAutomine:r=>Qb(n,r),setBalance:r=>ep(n,r),setBlockGasLimit:r=>tp(n,r),setBlockTimestampInterval:r=>np(n,r),setCode:r=>rp(n,r),setCoinbase:r=>sp(n,r),setIntervalMining:r=>op(n,r),setLoggingEnabled:r=>ip(n,r),setMinGasPrice:r=>ap(n,r),setNextBlockBaseFeePerGas:r=>cp(n,r),setNextBlockTimestamp:r=>up(n,r),setNonce:r=>fp(n,r),setRpcUrl:r=>dp(n,r),setStorageAt:r=>lp(n,r),snapshot:()=>hp(n),stopImpersonatingAccount:r=>bp(n,r)}}}function i5(e){const{key:t="test",name:n="Test Client",mode:r}=e;return _s({...e,key:t,name:n,type:"testClient"}).extend(o=>({mode:r,...pp({mode:r})(o)}))}async function mp(e,{chain:t}){const{id:n,name:r,nativeCurrency:s,rpcUrls:o,blockExplorers:i}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:A(n),chainName:r,nativeCurrency:s,rpcUrls:o.default.http,blockExplorerUrls:i?Object.values(i).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function yp(e,t){const{abi:n,args:r,bytecode:s,...o}=t,i=Jn({abi:n,args:r,bytecode:s});return er(e,{...o,...o.authorizationList?{to:null}:{},data:i})}async function gp(e){var n;return((n=e.account)==null?void 0:n.type)==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(r=>Yt(r))}async function wp(e,t={}){const{account:n=e.account,chainId:r}=t,s=n?Y(n):void 0,o=r?[s==null?void 0:s.address,[A(r)]]:[s==null?void 0:s.address],i=await e.request({method:"wallet_getCapabilities",params:o}),a={};for(const[c,u]of Object.entries(i)){a[Number(c)]={};for(let[f,d]of Object.entries(u))f==="addSubAccount"&&(f="unstable_addSubAccount"),a[Number(c)][f]=d}return typeof r=="number"?a[r]:a}async function xp(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}async function c0(e,t){var c;const{account:n=e.account,chainId:r,nonce:s}=t;if(!n)throw new ht({docsPath:"/docs/eip7702/prepareAuthorization"});const o=Y(n),i=(()=>{if(t.executor)return t.executor==="self"?t.executor:Y(t.executor)})(),a={address:t.contractAddress??t.address,chainId:r,nonce:s};return typeof a.chainId>"u"&&(a.chainId=((c=e.chain)==null?void 0:c.id)??await L(e,St,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await L(e,Vn,"getTransactionCount")({address:o.address,blockTag:"pending"}),(i==="self"||i!=null&&i.address&&He(i.address,o.address))&&(a.nonce+=1)),a}async function vp(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>_e(n))}async function Ep(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}async function Pp(e,t){const{id:n}=t;await e.request({method:"wallet_showCallsStatus",params:[n]})}async function Ip(e,t){const{account:n=e.account}=t;if(!n)throw new ht({docsPath:"/docs/eip7702/signAuthorization"});const r=Y(n);if(!r.signAuthorization)throw new xn({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const s=await c0(e,t);return r.signAuthorization(s)}async function Ap(e,{account:t=e.account,message:n}){if(!t)throw new ht({docsPath:"/docs/actions/wallet/signMessage"});const r=Y(t);if(r.signMessage)return r.signMessage({message:n});const s=(()=>typeof n=="string"?Ot(n):n.raw instanceof Uint8Array?ye(n.raw):n.raw)();return e.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function $p(e,t){var u,f,d,h;const{account:n=e.account,chain:r=e.chain,...s}=t;if(!n)throw new ht({docsPath:"/docs/actions/wallet/signTransaction"});const o=Y(n);ft({account:o,...t});const i=await L(e,St,"getChainId")({});r!==null&&Fa({currentChainId:i,chain:r});const a=(r==null?void 0:r.formatters)||((u=e.chain)==null?void 0:u.formatters),c=((f=a==null?void 0:a.transactionRequest)==null?void 0:f.format)||Qe;return o.signTransaction?o.signTransaction({...s,chainId:i},{serializer:(h=(d=e.chain)==null?void 0:d.serializers)==null?void 0:h.transaction}):await e.request({method:"eth_signTransaction",params:[{...c(s),chainId:A(i),from:o.address}]},{retryCount:0})}async function Bp(e,t){const{account:n=e.account,domain:r,message:s,primaryType:o}=t;if(!n)throw new ht({docsPath:"/docs/actions/wallet/signTypedData"});const i=Y(n),a={EIP712Domain:Fs({domain:r}),...t.types};if(mc({domain:r,message:s,primaryType:o,types:a}),i.signTypedData)return i.signTypedData({domain:r,message:s,primaryType:o,types:a});const c=Xl({domain:r,message:s,primaryType:o,types:a});return e.request({method:"eth_signTypedData_v4",params:[i.address,c]},{retryCount:0})}async function Sp(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:A(t)}]},{retryCount:0})}async function Tp(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}function Cp(e){return{addChain:t=>mp(e,t),deployContract:t=>yp(e,t),getAddresses:()=>gp(e),getCallsStatus:t=>Wa(e,t),getCapabilities:t=>wp(e,t),getChainId:()=>St(e),getPermissions:()=>xp(e),prepareAuthorization:t=>c0(e,t),prepareTransactionRequest:t=>Hn(e,t),requestAddresses:()=>vp(e),requestPermissions:t=>Ep(e,t),sendCalls:t=>Od(e,t),sendRawTransaction:t=>zs(e,t),sendTransaction:t=>er(e,t),showCallsStatus:t=>Pp(e,t),signAuthorization:t=>Ip(e,t),signMessage:t=>Ap(e,t),signTransaction:t=>$p(e,t),signTypedData:t=>Bp(e,t),switchChain:t=>Sp(e,t),waitForCallsStatus:t=>Ld(e,t),watchAsset:t=>Tp(e,t),writeContract:t=>ja(e,t)}}function a5(e){const{key:t="wallet",name:n="Wallet Client",transport:r}=e;return _s({...e,key:t,name:n,transport:r,type:"walletClient"}).extend(Cp)}function c5(e,t={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:o}=t;return({retryCount:i})=>gi({key:n,methods:r,name:s,request:e.request.bind(e),retryCount:t.retryCount??i,retryDelay:o,type:"custom"})}function u5(e,t={}){const{keepAlive:n,key:r="webSocket",methods:s,name:o="WebSocket JSON-RPC",reconnect:i,retryDelay:a}=t;return({chain:c,retryCount:u,timeout:f})=>{var b;const d=t.retryCount??u,h=f??t.timeout??1e4,l=e||((b=c==null?void 0:c.rpcUrls.default.webSocket)==null?void 0:b[0]),p={keepAlive:n,reconnect:i};if(!l)throw new C0;return gi({key:r,methods:s,name:o,async request({method:g,params:m}){const x={method:g,params:m},w=await vn(l,p),{error:y,result:v}=await w.requestAsync({body:x,timeout:h});if(y)throw new fi({body:x,error:y,url:l});return v},retryCount:d,retryDelay:a,timeout:h,type:"webSocket"},{getSocket(){return Hl(l)},getRpcClient(){return vn(l,p)},async subscribe({params:g,onData:m,onError:x}){const w=await vn(l,p),{result:y}=await new Promise((v,E)=>w.request({body:{method:"eth_subscribe",params:g},onError(P){E(P),x==null||x(P)},onResponse(P){if(P.error){E(P.error),x==null||x(P.error);return}if(typeof P.id=="number"){v(P);return}P.method==="eth_subscription"&&m(P.params)}}));return{subscriptionId:y,async unsubscribe(){return new Promise(v=>w.request({body:{method:"eth_unsubscribe",params:[y]},onResponse:v}))}}}})}}class f5 extends Error{constructor(t,n){super(n),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t,this.details=n}}const kr="/docs/contract/decodeDeployData";function d5(e){const{abi:t,bytecode:n,data:r}=e;if(r===n)return{bytecode:n};const s=t.find(i=>"type"in i&&i.type==="constructor");if(!s)throw new Ni({docsPath:kr});if(!("inputs"in s))throw new Tn({docsPath:kr});if(!s.inputs||s.inputs.length===0)throw new Tn({docsPath:kr});return{args:ut(s.inputs,`0x${r.replace(n,"")}`),bytecode:n}}function l5(e){const t=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),n=typeof e.blobs[0]=="string"?e.blobs.map(a=>de(a)):e.blobs,r=n.reduce((a,c)=>a+c.length,0),s=At(new Uint8Array(r));let o=!0;for(const a of n){const c=At(a);for(;o&&c.position<a.length;){c.incrementPosition(1);let u=31;a.length-c.position<31&&(u=a.length-c.position);for(const f in Array.from({length:u})){const d=c.readByte();if(d===128&&!c.inspectBytes(c.remaining).includes(128)){o=!1;break}s.pushByte(d)}}}const i=s.bytes.slice(0,s.position);return t==="hex"?H(i):i}function h5(e){const{sidecars:t,version:n}=e,r=e.to??(typeof t[0].blob=="string"?"hex":"bytes"),s=[];for(const{commitment:o}of t)s.push(ca({commitment:o,to:r,version:n}));return s}const Np=2147483648;function b5(e){if(e===1)return 60n;if(e>=Np||e<0)throw new Wd({chainId:e});return BigInt((2147483648|e)>>>0)}function kp({blobToKzgCommitment:e,computeBlobKzgProof:t}){return{blobToKzgCommitment:e,computeBlobKzgProof:t}}function p5(e,t){try{e.loadTrustedSetup(t)}catch(n){const r=n;if(!r.message.includes("trusted setup is already loaded"))throw r}return kp(e)}function m5({r:e,yParityAndS:t}){const n=de(t),r=n[0]&128?1:0,s=n;return r===1&&(s[0]&=127),{r:e,s:H(s),yParity:r}}function y5(e){const{r:t,s:n}=Oe.Signature.fromCompact(e.slice(2,130));return{r:A(t,{size:32}),yParityAndS:A(n,{size:32})}}function g5(e){const{r:t,s:n}=Oe.Signature.fromCompact(e.slice(2,130)),r=+`0x${e.slice(130)}`,[s,o]=(()=>{if(r===0||r===1)return[void 0,r];if(r===27)return[BigInt(r),0];if(r===28)return[BigInt(r),1];throw new Error("Invalid yParityOrV value")})();return typeof s<"u"?{r:A(t,{size:32}),s:A(n,{size:32}),v:s,yParity:o}:{r:A(t,{size:32}),s:A(n,{size:32}),yParity:o}}async function w5(e){const{serializedTransaction:t,signature:n}=e,r=Zh(t),s=n??{r:r.r,s:r.s,v:r.v,yParity:r.yParity},o=gl({...r,r:void 0,s:void 0,v:void 0,yParity:void 0,sidecars:void 0});return await Bt({hash:K(o),signature:s})}function x5({r:e,yParityAndS:t}){return`0x${new Oe.Signature(j(e),j(t)).toCompactHex()}`}function v5(e){const{r:t,s:n,v:r,yParity:s}=e,o=Number(s??r-27n);let i=n;if(o===1){const a=de(n);a[0]|=128,i=H(a)}return{r:t,yParityAndS:i}}export{Ni as AbiConstructorNotFoundError,Tn as AbiConstructorParamsNotFoundError,Rp as AbiDecodingDataSizeInvalidError,ki as AbiDecodingDataSizeTooSmallError,Kt as AbiDecodingZeroDataError,xu as AbiEncodingArrayLengthMismatchError,vu as AbiEncodingBytesSizeMismatchError,zi as AbiEncodingLengthMismatchError,Eu as AbiErrorInputsNotFoundError,vo as AbiErrorNotFoundError,_i as AbiErrorSignatureNotFoundError,Eo as AbiEventNotFoundError,Pu as AbiEventSignatureEmptyTopicsError,Ri as AbiEventSignatureNotFoundError,It as AbiFunctionNotFoundError,Oi as AbiFunctionOutputsNotFoundError,Iu as AbiFunctionSignatureNotFoundError,sf as AccountStateConflictError,I5 as AtomicReadyWalletRejectedUpgradeError,m0 as AtomicityNotSupportedError,$ as BaseError,Bf as BaseFeeScalarError,oa as BlockNotFoundError,Rd as BundleFailedError,A5 as BundleTooLargeError,Li as BytesSizeMismatchError,ta as CallExecutionError,$5 as ChainDisconnectedError,Dr as ChainDoesNotSupportContract,Pd as ChainMismatchError,Id as ChainNotFoundError,su as CircularReferenceError,Ra as ClientChainNotConfiguredError,na as ContractFunctionExecutionError,qr as ContractFunctionRevertedError,bf as ContractFunctionZeroDataError,pf as CounterfactualDeploymentFailedError,Lt as DecodeLogDataMismatch,Mn as DecodeLogTopicsMismatch,B5 as DuplicateIdError,f5 as EIP1193ProviderRpcError,bs as Eip1559FeesNotSupportedError,_t as EnsAvatarInvalidNftUriError,Hd as EnsAvatarUnsupportedNamespaceError,Ls as EnsAvatarUriResolutionError,Wd as EnsInvalidChainIdError,Ef as EstimateGasExecutionError,hn as ExecutionRevertedError,Pt as FeeCapTooHighError,to as FeeCapTooLowError,cf as FeeConflictError,Cu as FilterTypeNotSupportedError,bo as HttpRequestError,oo as InsufficientFundsError,u0 as IntegerOutOfRangeError,h0 as InternalRpcError,io as IntrinsicGasTooHighError,ao as IntrinsicGasTooLowError,Bu as InvalidAbiDecodingTypeError,$u as InvalidAbiEncodingTypeError,H0 as InvalidAbiItemError,K0 as InvalidAbiParameterError,Y0 as InvalidAbiParametersError,tu as InvalidAbiTypeParameterError,ae as InvalidAddressError,Mi as InvalidArrayError,f0 as InvalidBytesBooleanError,Yn as InvalidChainIdError,tb as InvalidDecimalNumberError,Su as InvalidDefinitionTypeError,Kl as InvalidDomainError,eu as InvalidFunctionModifierError,S5 as InvalidHexBooleanError,w0 as InvalidHexValueError,li as InvalidInputRpcError,Xi as InvalidLegacyVError,Q0 as InvalidModifierError,J0 as InvalidParameterError,T5 as InvalidParamsRpcError,ou as InvalidParenthesisError,Yl as InvalidPrimaryTypeError,C5 as InvalidRequestRpcError,uf as InvalidSerializableTransactionError,en as InvalidSerializedTransactionError,ff as InvalidSerializedTransactionTypeError,$t as InvalidSignatureError,df as InvalidStorageKeySizeError,ru as InvalidStructSignatureError,Jl as InvalidStructTypeError,N5 as JsonRpcVersionUnsupportedError,k5 as LimitExceededRpcError,Sf as MaxFeePerGasTooLowError,z5 as MethodNotFoundRpcError,_5 as MethodNotSupportedRpcError,so as NonceMaxValueError,no as NonceTooHighError,ro as NonceTooLowError,R5 as ParseRpcError,O5 as ProviderDisconnectedError,L5 as ProviderRpcError,qn as RawContractError,M5 as ResourceNotFoundRpcError,U5 as ResourceUnavailableRpcError,F5 as RpcError,fi as RpcRequestError,q5 as SizeExceedsPaddingSizeError,j5 as SizeOverflowError,ai as SliceOffsetOutOfBoundsError,An as SocketClosedError,X0 as SolidityProtectedKeywordError,of as StateAssignmentConflictError,G5 as SwitchChainError,I0 as TimeoutError,Pn as TipAboveFeeCapError,lf as TransactionExecutionError,Qi as TransactionNotFoundError,ea as TransactionReceiptNotFoundError,D5 as TransactionRejectedRpcError,co as TransactionTypeNotSupportedError,V5 as UnauthorizedProviderError,H5 as UnknownBundleIdError,Wt as UnknownNodeError,W5 as UnknownRpcError,nu as UnknownSignatureError,W0 as UnknownTypeError,Z5 as UnsupportedChainIdError,p0 as UnsupportedNonOptionalCapabilityError,Tu as UnsupportedPackedAbiType,K5 as UnsupportedProviderMethodError,C0 as UrlRequiredError,Y5 as UserRejectedRequestError,Md as WaitForCallsStatusTimeoutError,hf as WaitForTransactionReceiptTimeoutError,mo as WebSocketRequestError,Fa as assertCurrentChain,ft as assertRequest,tr as assertTransactionEIP1559,oc as assertTransactionEIP2930,ic as assertTransactionLegacy,gs as blobsToCommitments,ws as blobsToProofs,J5 as boolToBytes,ci as boolToHex,Wi as bytesToBigInt,Zi as bytesToBool,H as bytesToHex,Ne as bytesToNumber,Gp as bytesToRlp,Ki as bytesToString,cc as ccipFetch,cc as ccipRequest,Yt as checksumAddress,ca as commitmentToVersionedHash,ua as commitmentsToVersionedHashes,x5 as compactSignatureToHex,m5 as compactSignatureToSignature,he as concat,Ou as concatBytes,we as concatHex,_s as createClient,Gl as createNonceManager,o5 as createPublicClient,i5 as createTestClient,gi as createTransport,a5 as createWalletClient,c5 as custom,ut as decodeAbiParameters,d5 as decodeDeployData,Yi as decodeErrorResult,Ps as decodeEventLog,Ud as decodeFunctionData,dt as decodeFunctionResult,_m as defineBlock,X5 as defineChain,kp as defineKzg,zm as defineTransaction,Um as defineTransactionReceipt,Vp as defineTransactionRequest,_a as deploylessCallViaBytecodeBytecode,vd as deploylessCallViaFactoryBytecode,Hm as domainSeparator,Ve as encodeAbiParameters,Jn as encodeDeployData,Go as encodeErrorResult,Xt as encodeEventTopics,xe as encodeFunctionData,Fd as encodeFunctionResult,qm as encodePacked,Q5 as erc1155Abi,ey as erc20Abi,ty as erc20Abi_bytes32,ny as erc4626Abi,yo as erc6492SignatureValidatorAbi,Ed as erc6492SignatureValidatorByteCode,ry as erc721Abi,mb as ethAddress,ui as etherUnits,Gm as extractChain,sy as fallback,ms as formatBlock,ds as formatEther,Ce as formatGwei,je as formatLog,ps as formatTransaction,Da as formatTransactionReceipt,Qe as formatTransactionRequest,d0 as formatUnits,l5 as fromBlobs,jp as fromBytes,oy as fromHex,uc as fromRlp,ct as getAbiItem,_e as getAddress,Tt as getChainContractAddress,Mm as getContract,jm as getContractAddress,st as getContractError,yl as getCreate2Address,ml as getCreateAddress,Un as getEventSelector,_u as getEventSignature,Jt as getFunctionSelector,_u as getFunctionSignature,Wh as getSerializedTransactionType,ba as getTransactionType,Fs as getTypesForEIP712Domain,S0 as gweiUnits,gc as hashDomain,Us as hashMessage,wc as hashStruct,yc as hashTypedData,j as hexToBigInt,T0 as hexToBool,de as hexToBytes,y5 as hexToCompactSignature,V as hexToNumber,Dp as hexToRlp,g5 as hexToSignature,iy as hexToString,ay as http,X as isAddress,He as isAddressEqual,Vo as isBytes,n1 as isErc6492Signature,Dh as isErc8010Signature,zl as isHash,U as isHex,K as keccak256,Gd as labelhash,s6 as maxInt104,o6 as maxInt112,i6 as maxInt120,a6 as maxInt128,c6 as maxInt136,u6 as maxInt144,f6 as maxInt152,Wp as maxInt16,d6 as maxInt160,l6 as maxInt168,h6 as maxInt176,b6 as maxInt184,p6 as maxInt192,m6 as maxInt200,y6 as maxInt208,g6 as maxInt216,w6 as maxInt224,x6 as maxInt232,Zp as maxInt24,v6 as maxInt240,E6 as maxInt248,P6 as maxInt256,Kp as maxInt32,Yp as maxInt40,Jp as maxInt48,Xp as maxInt56,Qp as maxInt64,e6 as maxInt72,Hp as maxInt8,t6 as maxInt80,n6 as maxInt88,r6 as maxInt96,bm as maxUint104,pm as maxUint112,mm as maxUint120,ym as maxUint128,gm as maxUint136,wm as maxUint144,xm as maxUint152,rm as maxUint16,vm as maxUint160,Em as maxUint168,Pm as maxUint176,Im as maxUint184,Am as maxUint192,$m as maxUint200,Bm as maxUint208,Sm as maxUint216,Tm as maxUint224,Cm as maxUint232,sm as maxUint24,Nm as maxUint240,km as maxUint248,Dn as maxUint256,om as maxUint32,im as maxUint40,am as maxUint48,cm as maxUint56,um as maxUint64,fm as maxUint72,nm as maxUint8,dm as maxUint80,lm as maxUint88,hm as maxUint96,O6 as minInt104,L6 as minInt112,M6 as minInt120,U6 as minInt128,F6 as minInt136,q6 as minInt144,j6 as minInt152,A6 as minInt16,G6 as minInt160,D6 as minInt168,V6 as minInt176,H6 as minInt184,W6 as minInt192,Z6 as minInt200,K6 as minInt208,Y6 as minInt216,J6 as minInt224,X6 as minInt232,$6 as minInt24,Q6 as minInt240,em as minInt248,tm as minInt256,B6 as minInt32,S6 as minInt40,T6 as minInt48,C6 as minInt56,N6 as minInt64,k6 as minInt72,I6 as minInt8,z6 as minInt80,_6 as minInt88,R6 as minInt96,In as multicall3Abi,Vr as namehash,Vm as nonceManager,cy as numberToBytes,A as numberToHex,Cl as offchainLookup,ac as offchainLookupAbiItem,Tl as offchainLookupSignature,wn as pad,uy as padBytes,Fe as padHex,Ci as parseAbi,wo as parseAbiItem,_p as parseAbiParameter,xo as parseAbiParameters,y5 as parseCompactSignature,Ym as parseErc6492Signature,Jm as parseErc8010Signature,r5 as parseEther,Is as parseEventLogs,s5 as parseGwei,g5 as parseSignature,Zh as parseTransaction,n0 as parseUnits,Hu as prepareEncodeFunctionData,Wl as presignMessagePrefix,Mb as publicActions,Bt as recoverAddress,Vh as recoverMessageAddress,gf as recoverPublicKey,w5 as recoverTransactionAddress,Hh as recoverTypedDataAddress,Dm as ripemd160,Fm as rpcSchema,If as rpcTransactionType,nr as serializeAccessList,x5 as serializeCompactSignature,Xm as serializeErc6492Signature,Qm as serializeErc8010Signature,Pb as serializeSignature,gl as serializeTransaction,Xl as serializeTypedData,fy as setErrorConfig,p5 as setupKzg,kf as sha256,dy as shouldThrow,h5 as sidecarsToVersionedHashes,v5 as signatureToCompactSignature,Pb as signatureToHex,Z as size,Ye as slice,ji as sliceBytes,Mt as sliceHex,wt as stringToBytes,Ot as stringToHex,le as stringify,pp as testActions,vs as toBlobSidecars,Of as toBlobs,me as toBytes,b5 as toCoinType,Ui as toEventHash,Un as toEventSelector,_u as toEventSignature,Ui as toFunctionHash,Jt as toFunctionSelector,_u as toFunctionSignature,ye as toHex,Zl as toPrefixedMessage,Re as toRlp,ia as transactionType,ze as trim,yo as universalSignatureValidatorAbi,Ed as universalSignatureValidatorByteCode,mc as validateTypedData,e5 as verifyHash,t5 as verifyMessage,n5 as verifyTypedData,Cp as walletActions,u5 as webSocket,ly as weiUnits,zd as withCache,zr as withRetry,P0 as withTimeout,Be as zeroAddress,Wm as zeroHash};
